(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function s(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function i(o){if(o.ep)return;o.ep=!0;const h=s(o);fetch(o.href,h)}})();function Tx(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Jd={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function S1(){if(Z0)return Jl;Z0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(i,o,h){var m=null;if(h!==void 0&&(m=""+h),o.key!==void 0&&(m=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:r,type:i,key:m,ref:o!==void 0?o:null,props:h}}return Jl.Fragment=t,Jl.jsx=s,Jl.jsxs=s,Jl}var J0;function k1(){return J0||(J0=1,Jd.exports=S1()),Jd.exports}var d=k1(),Wd={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function R1(){if(W0)return Te;W0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),R=Symbol.iterator;function L(k){return k===null||typeof k!="object"?null:(k=R&&k[R]||k["@@iterator"],typeof k=="function"?k:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,J={};function ce(k,G,te){this.props=k,this.context=G,this.refs=J,this.updater=te||H}ce.prototype.isReactComponent={},ce.prototype.setState=function(k,G){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,G,"setState")},ce.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ue(){}ue.prototype=ce.prototype;function ae(k,G,te){this.props=k,this.context=G,this.refs=J,this.updater=te||H}var de=ae.prototype=new ue;de.constructor=ae,ee(de,ce.prototype),de.isPureReactComponent=!0;var ve=Array.isArray;function be(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function S(k,G,te){var ne=te.ref;return{$$typeof:r,type:k,key:G,ref:ne!==void 0?ne:null,props:te}}function V(k,G){return S(k.type,G,k.props)}function I(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function M(k){var G={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(te){return G[te]})}var j=/\/+/g;function Ke(k,G){return typeof k=="object"&&k!==null&&k.key!=null?M(""+k.key):G.toString(36)}function ct(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(be,be):(k.status="pending",k.then(function(G){k.status==="pending"&&(k.status="fulfilled",k.value=G)},function(G){k.status==="pending"&&(k.status="rejected",k.reason=G)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function D(k,G,te,ne,fe){var me=typeof k;(me==="undefined"||me==="boolean")&&(k=null);var Ne=!1;if(k===null)Ne=!0;else switch(me){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(k.$$typeof){case r:case t:Ne=!0;break;case v:return Ne=k._init,D(Ne(k._payload),G,te,ne,fe)}}if(Ne)return fe=fe(k),Ne=ne===""?"."+Ke(k,0):ne,ve(fe)?(te="",Ne!=null&&(te=Ne.replace(j,"$&/")+"/"),D(fe,G,te,"",function(Pt){return Pt})):fe!=null&&(I(fe)&&(fe=V(fe,te+(fe.key==null||k&&k.key===fe.key?"":(""+fe.key).replace(j,"$&/")+"/")+Ne)),G.push(fe)),1;Ne=0;var Me=ne===""?".":ne+":";if(ve(k))for(var Ue=0;Ue<k.length;Ue++)ne=k[Ue],me=Me+Ke(ne,Ue),Ne+=D(ne,G,te,me,fe);else if(Ue=L(k),typeof Ue=="function")for(k=Ue.call(k),Ue=0;!(ne=k.next()).done;)ne=ne.value,me=Me+Ke(ne,Ue++),Ne+=D(ne,G,te,me,fe);else if(me==="object"){if(typeof k.then=="function")return D(ct(k),G,te,ne,fe);throw G=String(k),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function W(k,G,te){if(k==null)return k;var ne=[],fe=0;return D(k,ne,"","",function(me){return G.call(te,me,fe++)}),ne}function le(k){if(k._status===-1){var G=k._result;G=G(),G.then(function(te){(k._status===0||k._status===-1)&&(k._status=1,k._result=te)},function(te){(k._status===0||k._status===-1)&&(k._status=2,k._result=te)}),k._status===-1&&(k._status=0,k._result=G)}if(k._status===1)return k._result.default;throw k._result}var Re=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ze={map:W,forEach:function(k,G,te){W(k,function(){G.apply(this,arguments)},te)},count:function(k){var G=0;return W(k,function(){G++}),G},toArray:function(k){return W(k,function(G){return G})||[]},only:function(k){if(!I(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Te.Activity=T,Te.Children=ze,Te.Component=ce,Te.Fragment=s,Te.Profiler=o,Te.PureComponent=ae,Te.StrictMode=i,Te.Suspense=x,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Te.__COMPILER_RUNTIME={__proto__:null,c:function(k){return N.H.useMemoCache(k)}},Te.cache=function(k){return function(){return k.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(k,G,te){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ne=ee({},k.props),fe=k.key;if(G!=null)for(me in G.key!==void 0&&(fe=""+G.key),G)!A.call(G,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&G.ref===void 0||(ne[me]=G[me]);var me=arguments.length-2;if(me===1)ne.children=te;else if(1<me){for(var Ne=Array(me),Me=0;Me<me;Me++)Ne[Me]=arguments[Me+2];ne.children=Ne}return S(k.type,fe,ne)},Te.createContext=function(k){return k={$$typeof:m,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:h,_context:k},k},Te.createElement=function(k,G,te){var ne,fe={},me=null;if(G!=null)for(ne in G.key!==void 0&&(me=""+G.key),G)A.call(G,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(fe[ne]=G[ne]);var Ne=arguments.length-2;if(Ne===1)fe.children=te;else if(1<Ne){for(var Me=Array(Ne),Ue=0;Ue<Ne;Ue++)Me[Ue]=arguments[Ue+2];fe.children=Me}if(k&&k.defaultProps)for(ne in Ne=k.defaultProps,Ne)fe[ne]===void 0&&(fe[ne]=Ne[ne]);return S(k,me,fe)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(k){return{$$typeof:p,render:k}},Te.isValidElement=I,Te.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:le}},Te.memo=function(k,G){return{$$typeof:b,type:k,compare:G===void 0?null:G}},Te.startTransition=function(k){var G=N.T,te={};N.T=te;try{var ne=k(),fe=N.S;fe!==null&&fe(te,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(be,Re)}catch(me){Re(me)}finally{G!==null&&te.types!==null&&(G.types=te.types),N.T=G}},Te.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Te.use=function(k){return N.H.use(k)},Te.useActionState=function(k,G,te){return N.H.useActionState(k,G,te)},Te.useCallback=function(k,G){return N.H.useCallback(k,G)},Te.useContext=function(k){return N.H.useContext(k)},Te.useDebugValue=function(){},Te.useDeferredValue=function(k,G){return N.H.useDeferredValue(k,G)},Te.useEffect=function(k,G){return N.H.useEffect(k,G)},Te.useEffectEvent=function(k){return N.H.useEffectEvent(k)},Te.useId=function(){return N.H.useId()},Te.useImperativeHandle=function(k,G,te){return N.H.useImperativeHandle(k,G,te)},Te.useInsertionEffect=function(k,G){return N.H.useInsertionEffect(k,G)},Te.useLayoutEffect=function(k,G){return N.H.useLayoutEffect(k,G)},Te.useMemo=function(k,G){return N.H.useMemo(k,G)},Te.useOptimistic=function(k,G){return N.H.useOptimistic(k,G)},Te.useReducer=function(k,G,te){return N.H.useReducer(k,G,te)},Te.useRef=function(k){return N.H.useRef(k)},Te.useState=function(k){return N.H.useState(k)},Te.useSyncExternalStore=function(k,G,te){return N.H.useSyncExternalStore(k,G,te)},Te.useTransition=function(){return N.H.useTransition()},Te.version="19.2.4",Te}var ey;function Pf(){return ey||(ey=1,Wd.exports=R1()),Wd.exports}var xe=Pf();const j1=Tx(xe);var ef={exports:{}},Wl={},tf={exports:{}},nf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function C1(){return ty||(ty=1,(function(r){function t(D,W){var le=D.length;D.push(W);e:for(;0<le;){var Re=le-1>>>1,ze=D[Re];if(0<o(ze,W))D[Re]=W,D[le]=ze,le=Re;else break e}}function s(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var W=D[0],le=D.pop();if(le!==W){D[0]=le;e:for(var Re=0,ze=D.length,k=ze>>>1;Re<k;){var G=2*(Re+1)-1,te=D[G],ne=G+1,fe=D[ne];if(0>o(te,le))ne<ze&&0>o(fe,te)?(D[Re]=fe,D[ne]=le,Re=ne):(D[Re]=te,D[G]=le,Re=G);else if(ne<ze&&0>o(fe,le))D[Re]=fe,D[ne]=le,Re=ne;else break e}}return W}function o(D,W){var le=D.sortIndex-W.sortIndex;return le!==0?le:D.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var m=Date,p=m.now();r.unstable_now=function(){return m.now()-p}}var x=[],b=[],v=1,T=null,R=3,L=!1,H=!1,ee=!1,J=!1,ce=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function de(D){for(var W=s(b);W!==null;){if(W.callback===null)i(b);else if(W.startTime<=D)i(b),W.sortIndex=W.expirationTime,t(x,W);else break;W=s(b)}}function ve(D){if(ee=!1,de(D),!H)if(s(x)!==null)H=!0,be||(be=!0,M());else{var W=s(b);W!==null&&ct(ve,W.startTime-D)}}var be=!1,N=-1,A=5,S=-1;function V(){return J?!0:!(r.unstable_now()-S<A)}function I(){if(J=!1,be){var D=r.unstable_now();S=D;var W=!0;try{e:{H=!1,ee&&(ee=!1,ue(N),N=-1),L=!0;var le=R;try{t:{for(de(D),T=s(x);T!==null&&!(T.expirationTime>D&&V());){var Re=T.callback;if(typeof Re=="function"){T.callback=null,R=T.priorityLevel;var ze=Re(T.expirationTime<=D);if(D=r.unstable_now(),typeof ze=="function"){T.callback=ze,de(D),W=!0;break t}T===s(x)&&i(x),de(D)}else i(x);T=s(x)}if(T!==null)W=!0;else{var k=s(b);k!==null&&ct(ve,k.startTime-D),W=!1}}break e}finally{T=null,R=le,L=!1}W=void 0}}finally{W?M():be=!1}}}var M;if(typeof ae=="function")M=function(){ae(I)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Ke=j.port2;j.port1.onmessage=I,M=function(){Ke.postMessage(null)}}else M=function(){ce(I,0)};function ct(D,W){N=ce(function(){D(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(D){D.callback=null},r.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(D){switch(R){case 1:case 2:case 3:var W=3;break;default:W=R}var le=R;R=W;try{return D()}finally{R=le}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var le=R;R=D;try{return W()}finally{R=le}},r.unstable_scheduleCallback=function(D,W,le){var Re=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Re+le:Re):le=Re,D){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=le+ze,D={id:v++,callback:W,priorityLevel:D,startTime:le,expirationTime:ze,sortIndex:-1},le>Re?(D.sortIndex=le,t(b,D),s(x)===null&&D===s(b)&&(ee?(ue(N),N=-1):ee=!0,ct(ve,le-Re))):(D.sortIndex=ze,t(x,D),H||L||(H=!0,be||(be=!0,M()))),D},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(D){var W=R;return function(){var le=R;R=W;try{return D.apply(this,arguments)}finally{R=le}}}})(nf)),nf}var ny;function D1(){return ny||(ny=1,tf.exports=C1()),tf.exports}var sf={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function I1(){if(sy)return Zt;sy=1;var r=Pf();function t(x){var b="https://react.dev/errors/"+x;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)b+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(x,b,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:x,containerInfo:b,implementation:v}}var m=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(x,b){if(x==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Zt.createPortal=function(x,b){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(t(299));return h(x,b,null,v)},Zt.flushSync=function(x){var b=m.T,v=i.p;try{if(m.T=null,i.p=2,x)return x()}finally{m.T=b,i.p=v,i.d.f()}},Zt.preconnect=function(x,b){typeof x=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,i.d.C(x,b))},Zt.prefetchDNS=function(x){typeof x=="string"&&i.d.D(x)},Zt.preinit=function(x,b){if(typeof x=="string"&&b&&typeof b.as=="string"){var v=b.as,T=p(v,b.crossOrigin),R=typeof b.integrity=="string"?b.integrity:void 0,L=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;v==="style"?i.d.S(x,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:L}):v==="script"&&i.d.X(x,{crossOrigin:T,integrity:R,fetchPriority:L,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Zt.preinitModule=function(x,b){if(typeof x=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var v=p(b.as,b.crossOrigin);i.d.M(x,{crossOrigin:v,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&i.d.M(x)},Zt.preload=function(x,b){if(typeof x=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var v=b.as,T=p(v,b.crossOrigin);i.d.L(x,v,{crossOrigin:T,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Zt.preloadModule=function(x,b){if(typeof x=="string")if(b){var v=p(b.as,b.crossOrigin);i.d.m(x,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:v,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else i.d.m(x)},Zt.requestFormReset=function(x){i.d.r(x)},Zt.unstable_batchedUpdates=function(x,b){return x(b)},Zt.useFormState=function(x,b,v){return m.H.useFormState(x,b,v)},Zt.useFormStatus=function(){return m.H.useHostTransitionStatus()},Zt.version="19.2.4",Zt}var ay;function V1(){if(ay)return sf.exports;ay=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),sf.exports=I1(),sf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function O1(){if(ry)return Wl;ry=1;var r=D1(),t=Pf(),s=V1();function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function x(e){if(h(e)!==e)throw Error(i(188))}function b(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(i(188));return n!==e?null:e}for(var a=e,l=n;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return x(u),e;if(f===l)return x(u),n;f=f.sibling}throw Error(i(188))}if(a.return!==l.return)a=u,l=f;else{for(var y=!1,E=u.child;E;){if(E===a){y=!0,a=u,l=f;break}if(E===l){y=!0,l=u,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=u;break}if(E===l){y=!0,l=f,a=u;break}E=E.sibling}if(!y)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),ue=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var j=Symbol.for("react.client.reference");function Ke(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===j?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ee:return"Fragment";case ce:return"Profiler";case J:return"StrictMode";case ve:return"Suspense";case be:return"SuspenseList";case S:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case ae:return e.displayName||"Context";case ue:return(e._context.displayName||"Context")+".Consumer";case de:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:Ke(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Ke(e(n))}catch{}}return null}var ct=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Re=[],ze=-1;function k(e){return{current:e}}function G(e){0>ze||(e.current=Re[ze],Re[ze]=null,ze--)}function te(e,n){ze++,Re[ze]=e.current,e.current=n}var ne=k(null),fe=k(null),me=k(null),Ne=k(null);function Me(e,n){switch(te(me,n),te(fe,e),te(ne,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?_0(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=_0(n),e=v0(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(ne),te(ne,e)}function Ue(){G(ne),G(fe),G(me)}function Pt(e){e.memoizedState!==null&&te(Ne,e);var n=ne.current,a=v0(n,e.type);n!==a&&(te(fe,e),te(ne,a))}function it(e){fe.current===e&&(G(ne),G(fe)),Ne.current===e&&(G(Ne),Kl._currentValue=le)}var yn,Gn;function Rn(e){if(yn===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);yn=n&&n[1]||"",Gn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yn+e+Gn}var er=!1;function tr(e,n){if(!e||er)return"";er=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(Q){var q=Q}Reflect.construct(e,[],$)}else{try{$.call()}catch(Q){q=Q}e.call($.prototype)}}else{try{throw Error()}catch(Q){q=Q}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var C=y.split(`
`),P=E.split(`
`);for(u=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;if(l===C.length||u===P.length)for(l=C.length-1,u=P.length-1;1<=l&&0<=u&&C[l]!==P[u];)u--;for(;1<=l&&0<=u;l--,u--)if(C[l]!==P[u]){if(l!==1||u!==1)do if(l--,u--,0>u||C[l]!==P[u]){var Y=`
`+C[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=u);break}}}finally{er=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Rn(a):""}function Xi(e,n){switch(e.tag){case 26:case 27:case 5:return Rn(e.type);case 16:return Rn("Lazy");case 13:return e.child!==n&&n!==null?Rn("Suspense Fallback"):Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 15:return tr(e.type,!1);case 11:return tr(e.type.render,!1);case 1:return tr(e.type,!0);case 31:return Rn("Activity");default:return""}}function $i(e){try{var n="",a=null;do n+=Xi(e,a),a=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,It=r.unstable_scheduleCallback,aa=r.unstable_cancelCallback,eh=r.unstable_shouldYield,jo=r.unstable_requestPaint,nn=r.unstable_now,nr=r.unstable_getCurrentPriorityLevel,Zi=r.unstable_ImmediatePriority,Ji=r.unstable_UserBlockingPriority,ra=r.unstable_NormalPriority,th=r.unstable_LowPriority,Co=r.unstable_IdlePriority,Do=r.log,Io=r.unstable_setDisableYieldValue,Qn=null,qt=null;function jn(e){if(typeof Do=="function"&&Io(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Qn,e)}catch{}}var gt=Math.clz32?Math.clz32:Oo,Vo=Math.log,Hr=Math.LN2;function Oo(e){return e>>>=0,e===0?32:31-(Vo(e)/Hr|0)|0}var ls=256,sr=262144,vt=4194304;function os(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function cs(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var u=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?u=os(l):(y&=E,y!==0?u=os(y):a||(a=E&~e,a!==0&&(u=os(a))))):(E=l&~f,E!==0?u=os(E):y!==0?u=os(y):a||(a=l&~e,a!==0&&(u=os(a)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:u}function Yn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mo(){var e=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),e}function us(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ar(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sh(e,n,a,l,u,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,P=e.hiddenUpdates;for(a=y&~a;0<a;){var Y=31-gt(a),$=1<<Y;E[Y]=0,C[Y]=-1;var q=P[Y];if(q!==null)for(P[Y]=null,Y=0;Y<q.length;Y++){var Q=q[Y];Q!==null&&(Q.lane&=-536870913)}a&=~$}l!==0&&rr(e,l,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function rr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-gt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Wi(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-gt(a),u=1<<l;u&n|e[l]&n&&(e[l]|=n),a&=~u}}function el(e,n){var a=n&-n;return a=(a&42)!==0?1:ir(a),(a&(e.suspendedLanes|n))!==0?0:a}function ir(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Uo(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:F0(e.type))}function Kn(e,n){var a=W.p;try{return W.p=e,n()}finally{W.p=a}}var Xn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Xn,Mt="__reactProps$"+Xn,hs="__reactContainer$"+Xn,Fr="__reactEvents$"+Xn,ah="__reactListeners$"+Xn,Lo="__reactHandles$"+Xn,zo="__reactResources$"+Xn,ds="__reactMarker$"+Xn;function Gr(e){delete e[Et],delete e[Mt],delete e[Fr],delete e[ah],delete e[Lo]}function fs(e){var n=e[Et];if(n)return n;for(var a=e.parentNode;a;){if(n=a[hs]||a[Et]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=k0(e);e!==null;){if(a=e[Et])return a;e=k0(e)}return n}e=a,a=e.parentNode}return null}function Cn(e){if(e=e[Et]||e[hs]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function xn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(i(33))}function ms(e){var n=e[zo];return n||(n=e[zo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(e){e[ds]=!0}var tl=new Set,nl={};function gs(e,n){ps(e,n),ps(e+"Capture",n)}function ps(e,n){for(nl[e]=n,e=0;e<n.length;e++)tl.add(n[e])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),al={},rl={};function Bo(e){return _t.call(rl,e)?!0:_t.call(al,e)?!1:sl.test(e)?rl[e]=!0:(al[e]=!0,!1)}function Qr(e,n,a){if(Bo(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function bn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function wt(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ia(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function il(e,n,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Xe(e){if(!e._valueTracker){var n=ia(e)?"checked":"value";e._valueTracker=il(e,n,""+e[n])}}function lr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=ia(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var or=/[\n"\\]/g;function ln(e){return e.replace(or,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Yr(e,n,a,l,u,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ut(n)):e.value!==""+Ut(n)&&(e.value=""+Ut(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?ll(e,y,Ut(n)):a!=null?ll(e,y,Ut(a)):l!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ut(E):e.removeAttribute("name")}function Po(e,n,a,l,u,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xe(e);return}a=a!=null?""+Ut(a):"",n=n!=null?""+Ut(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Xe(e)}function ll(e,n,a){n==="number"&&ys(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function la(e,n,a,l){if(e=e.options,n){n={};for(var u=0;u<a.length;u++)n["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=n.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ut(a),n=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function qo(e,n,a){if(n!=null&&(n=""+Ut(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ut(a):""}function oa(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(i(92));if(ct(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ut(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Xe(e)}function on(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Ho=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ol(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||Ho.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function cl(e,n,a){if(n!=null&&typeof n!="object")throw Error(i(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&a[u]!==l&&ol(e,u,l)}else for(var f in n)n.hasOwnProperty(f)&&ol(e,f,n[f])}function Kr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ca=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xr(e){return ca.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var ul=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ua=null,xs=null;function cr(e){var n=Cn(e);if(n&&(e=n.stateNode)){var a=e[Mt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Yr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var u=l[Mt]||null;if(!u)throw Error(i(90));Yr(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&lr(l)}break e;case"textarea":qo(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&la(e,!!a.multiple,n,!1)}}}var $r=!1;function ha(e,n,a){if($r)return e(n,a);$r=!0;try{var l=e(n);return l}finally{if($r=!1,(ua!==null||xs!==null)&&(Uc(),ua&&(n=ua,e=xs,xs=ua=null,cr(n),e)))for(n=0;n<e.length;n++)cr(e[n])}}function Zn(e,n){var a=e.stateNode;if(a===null)return null;var l=a[Mt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,n,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ur=!1;if(In)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){ur=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{ur=!1}var bs=null,hl=null,hr=null;function dl(){if(hr)return hr;var e,n=hl,a=n.length,l,u="value"in bs?bs.value:bs.textContent,f=u.length;for(e=0;e<a&&n[e]===u[e];e++);var y=a-e;for(l=1;l<=y&&n[a-l]===u[f-l];l++);return hr=u.slice(e,1<l?1-l:void 0)}function dr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Os(){return!0}function Jn(){return!1}function Ht(e){function n(a,l,u,f,y){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Os:Jn,this.isPropagationStopped=Jn,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),n}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=Ht(Ms),da=T({},Ms,{view:0,detail:0}),fl=Ht(da),fa,Zr,vs,Jr=T({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vs&&(vs&&e.type==="mousemove"?(fa=e.screenX-vs.screenX,Zr=e.screenY-vs.screenY):Zr=fa=0,vs=e),fa)},movementY:function(e){return"movementY"in e?e.movementY:Zr}}),ml=Ht(Jr),fr=T({},Jr,{dataTransfer:0}),Go=Ht(fr),Qo=T({},da,{relatedTarget:0}),mr=Ht(Qo),gl=T({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),Yo=Ht(gl),Wr=T({},Ms,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ko=Ht(Wr),Xo=T({},Ms,{data:0}),Es=Ht(Xo),$o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wo(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Jo[e])?!!n[e]:!1}function ma(){return Wo}var sn=T({},da,{key:function(e){if(e.key){var n=$o[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(e){return e.type==="keypress"?dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ec=Ht(sn),tc=T({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Us=Ht(tc),c=T({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),g=Ht(c),_=T({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ht(_),z=T({},Jr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Ht(z),se=T({},Ms,{newState:0,oldState:0}),Ae=Ht(se),pt=[9,13,27,32],Fe=In&&"CompositionEvent"in window,lt=null;In&&"documentMode"in document&&(lt=document.documentMode);var Vn=In&&"TextEvent"in window&&!lt,Ts=In&&(!Fe||lt&&8<lt&&11>=lt),Wn=" ",es=!1;function gr(e,n){switch(e){case"keyup":return pt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ei(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ti=!1;function Z_(e,n){switch(e){case"compositionend":return ei(n);case"keypress":return n.which!==32?null:(es=!0,Wn);case"textInput":return e=n.data,e===Wn&&es?null:e;default:return null}}function J_(e,n){if(ti)return e==="compositionend"||!Fe&&gr(e,n)?(e=dl(),hr=hl=bs=null,ti=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ts&&n.locale!=="ko"?null:n.data;default:return null}}var W_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!W_[e.type]:n==="textarea"}function Dm(e,n,a,l){ua?xs?xs.push(l):xs=[l]:ua=l,n=Fc(n,"onChange"),0<n.length&&(a=new _s("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var pl=null,yl=null;function ev(e){m0(e,0)}function nc(e){var n=xn(e);if(lr(n))return e}function Im(e,n){if(e==="change")return n}var Vm=!1;if(In){var rh;if(In){var ih="oninput"in document;if(!ih){var Om=document.createElement("div");Om.setAttribute("oninput","return;"),ih=typeof Om.oninput=="function"}rh=ih}else rh=!1;Vm=rh&&(!document.documentMode||9<document.documentMode)}function Mm(){pl&&(pl.detachEvent("onpropertychange",Um),yl=pl=null)}function Um(e){if(e.propertyName==="value"&&nc(yl)){var n=[];Dm(n,yl,e,Dn(e)),ha(ev,n)}}function tv(e,n,a){e==="focusin"?(Mm(),pl=n,yl=a,pl.attachEvent("onpropertychange",Um)):e==="focusout"&&Mm()}function nv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nc(yl)}function sv(e,n){if(e==="click")return nc(n)}function av(e,n){if(e==="input"||e==="change")return nc(n)}function rv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _n=typeof Object.is=="function"?Object.is:rv;function xl(e,n){if(_n(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!_t.call(n,u)||!_n(e[u],n[u]))return!1}return!0}function Lm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zm(e,n){var a=Lm(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Lm(a)}}function Bm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Bm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Pm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ys(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=ys(e.document)}return n}function lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var iv=In&&"documentMode"in document&&11>=document.documentMode,ni=null,oh=null,bl=null,ch=!1;function qm(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ch||ni==null||ni!==ys(l)||(l=ni,"selectionStart"in l&&lh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bl&&xl(bl,l)||(bl=l,l=Fc(oh,"onSelect"),0<l.length&&(n=new _s("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=ni)))}function pr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var si={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},uh={},Hm={};In&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function yr(e){if(uh[e])return uh[e];if(!si[e])return e;var n=si[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Hm)return uh[e]=n[a];return e}var Fm=yr("animationend"),Gm=yr("animationiteration"),Qm=yr("animationstart"),lv=yr("transitionrun"),ov=yr("transitionstart"),cv=yr("transitioncancel"),Ym=yr("transitionend"),Km=new Map,hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hh.push("scrollEnd");function ts(e,n){Km.set(e,n),gs(n,[e])}var sc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],ai=0,dh=0;function ac(){for(var e=ai,n=dh=ai=0;n<e;){var a=On[n];On[n++]=null;var l=On[n];On[n++]=null;var u=On[n];On[n++]=null;var f=On[n];if(On[n++]=null,l!==null&&u!==null){var y=l.pending;y===null?u.next=u:(u.next=y.next,y.next=u),l.pending=u}f!==0&&Xm(a,u,f)}}function rc(e,n,a,l){On[ai++]=e,On[ai++]=n,On[ai++]=a,On[ai++]=l,dh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function fh(e,n,a,l){return rc(e,n,a,l),ic(e)}function xr(e,n){return rc(e,null,null,n),ic(e)}function Xm(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var u=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&n!==null&&(u=31-gt(a),e=f.hiddenUpdates,l=e[u],l===null?e[u]=[n]:l.push(n),n.lane=a|536870912),f):null}function ic(e){if(50<Pl)throw Pl=0,Ed=null,Error(i(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ri={};function uv(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,n,a,l){return new uv(e,n,a,l)}function mh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ls(e,n){var a=e.alternate;return a===null?(a=vn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function $m(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function lc(e,n,a,l,u,f){var y=0;if(l=e,typeof e=="function")mh(e)&&(y=1);else if(typeof e=="string")y=g1(e,a,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case S:return e=vn(31,a,n,u),e.elementType=S,e.lanes=f,e;case ee:return br(a.children,u,f,n);case J:y=8,u|=24;break;case ce:return e=vn(12,a,n,u|2),e.elementType=ce,e.lanes=f,e;case ve:return e=vn(13,a,n,u),e.elementType=ve,e.lanes=f,e;case be:return e=vn(19,a,n,u),e.elementType=be,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ae:y=10;break e;case ue:y=9;break e;case de:y=11;break e;case N:y=14;break e;case A:y=16,l=null;break e}y=29,a=Error(i(130,e===null?"null":typeof e,"")),l=null}return n=vn(y,a,n,u),n.elementType=e,n.type=l,n.lanes=f,n}function br(e,n,a,l){return e=vn(7,e,l,n),e.lanes=a,e}function gh(e,n,a){return e=vn(6,e,null,n),e.lanes=a,e}function Zm(e){var n=vn(18,null,null,0);return n.stateNode=e,n}function ph(e,n,a){return n=vn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Jm=new WeakMap;function Mn(e,n){if(typeof e=="object"&&e!==null){var a=Jm.get(e);return a!==void 0?a:(n={value:e,source:n,stack:$i(n)},Jm.set(e,n),n)}return{value:e,source:n,stack:$i(n)}}var ii=[],li=0,oc=null,_l=0,Un=[],Ln=0,ga=null,ws=1,Ns="";function zs(e,n){ii[li++]=_l,ii[li++]=oc,oc=e,_l=n}function Wm(e,n,a){Un[Ln++]=ws,Un[Ln++]=Ns,Un[Ln++]=ga,ga=e;var l=ws;e=Ns;var u=32-gt(l)-1;l&=~(1<<u),a+=1;var f=32-gt(n)+u;if(30<f){var y=u-u%5;f=(l&(1<<y)-1).toString(32),l>>=y,u-=y,ws=1<<32-gt(n)+u|a<<u|l,Ns=f+e}else ws=1<<f|a<<u|l,Ns=e}function yh(e){e.return!==null&&(zs(e,1),Wm(e,1,0))}function xh(e){for(;e===oc;)oc=ii[--li],ii[li]=null,_l=ii[--li],ii[li]=null;for(;e===ga;)ga=Un[--Ln],Un[Ln]=null,Ns=Un[--Ln],Un[Ln]=null,ws=Un[--Ln],Un[Ln]=null}function eg(e,n){Un[Ln++]=ws,Un[Ln++]=Ns,Un[Ln++]=ga,ws=n.id,Ns=n.overflow,ga=e}var Ft=null,at=null,Le=!1,pa=null,zn=!1,bh=Error(i(519));function ya(e){var n=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(Mn(n,e)),bh}function tg(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[Et]=e,n[Mt]=l,a){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(a=0;a<Hl.length;a++)Ce(Hl[a],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Ce("invalid",n),Po(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ce("invalid",n);break;case"textarea":Ce("invalid",n),oa(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||x0(n.textContent,a)?(l.popover!=null&&(Ce("beforetoggle",n),Ce("toggle",n)),l.onScroll!=null&&Ce("scroll",n),l.onScrollEnd!=null&&Ce("scrollend",n),l.onClick!=null&&(n.onclick=$n),n=!0):n=!1,n||ya(e,!0)}function ng(e){for(Ft=e.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ft=Ft.return}}function oi(e){if(e!==Ft)return!1;if(!Le)return ng(e),Le=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ud(e.type,e.memoizedProps)),a=!a),a&&at&&ya(e),ng(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));at=S0(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));at=S0(e)}else n===27?(n=at,Ca(e.type)?(e=qd,qd=null,at=e):at=n):at=Ft?Pn(e.stateNode.nextSibling):null;return!0}function _r(){at=Ft=null,Le=!1}function _h(){var e=pa;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),pa=null),e}function vl(e){pa===null?pa=[e]:pa.push(e)}var vh=k(null),vr=null,Bs=null;function xa(e,n,a){te(vh,n._currentValue),n._currentValue=a}function Ps(e){e._currentValue=vh.current,G(vh)}function Eh(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function Th(e,n,a,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var y=u.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=u;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Eh(f.return,a,e),l||(y=null);break e}f=E.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(i(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Eh(y,a,e),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===e){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function ci(e,n,a,l){e=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var E=u.type;_n(u.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(u===Ne.current){if(y=u.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Kl):e=[Kl])}u=u.return}e!==null&&Th(n,e,a,l),n.flags|=262144}function cc(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Er(e){vr=e,Bs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Gt(e){return sg(vr,e)}function uc(e,n){return vr===null&&Er(e),sg(e,n)}function sg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Bs===null){if(e===null)throw Error(i(308));Bs=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Bs=Bs.next=n;return a}var hv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},dv=r.unstable_scheduleCallback,fv=r.unstable_NormalPriority,Nt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wh(){return{controller:new hv,data:new Map,refCount:0}}function El(e){e.refCount--,e.refCount===0&&dv(fv,function(){e.controller.abort()})}var Tl=null,Nh=0,ui=0,hi=null;function mv(e,n){if(Tl===null){var a=Tl=[];Nh=0,ui=kd(),hi={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nh++,n.then(ag,ag),n}function ag(){if(--Nh===0&&Tl!==null){hi!==null&&(hi.status="fulfilled");var e=Tl;Tl=null,ui=0,hi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function gv(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<a.length;u++)(0,a[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),l}var rg=D.S;D.S=function(e,n){qp=nn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&mv(e,n),rg!==null&&rg(e,n)};var Tr=k(null);function Ah(){var e=Tr.current;return e!==null?e:nt.pooledCache}function hc(e,n){n===null?te(Tr,Tr.current):te(Tr,n.pool)}function ig(){var e=Ah();return e===null?null:{parent:Nt._currentValue,pool:e}}var di=Error(i(460)),Sh=Error(i(474)),dc=Error(i(542)),fc={then:function(){}};function lg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function og(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then($n,$n),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ug(e),e;default:if(typeof n.status=="string")n.then($n,$n);else{if(e=nt,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ug(e),e}throw Nr=n,di}}function wr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Nr=a,di):a}}var Nr=null;function cg(){if(Nr===null)throw Error(i(459));var e=Nr;return Nr=null,e}function ug(e){if(e===di||e===dc)throw Error(i(483))}var fi=null,wl=0;function mc(e){var n=wl;return wl+=1,fi===null&&(fi=[]),og(fi,e,n)}function Nl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function gc(e,n){throw n.$$typeof===R?Error(i(525)):(e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function hg(e){function n(U,O){if(e){var B=U.deletions;B===null?(U.deletions=[O],U.flags|=16):B.push(O)}}function a(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function u(U,O){return U=Ls(U,O),U.index=0,U.sibling=null,U}function f(U,O,B){return U.index=B,e?(B=U.alternate,B!==null?(B=B.index,B<O?(U.flags|=67108866,O):B):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function y(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,B,K){return O===null||O.tag!==6?(O=gh(B,U.mode,K),O.return=U,O):(O=u(O,B),O.return=U,O)}function C(U,O,B,K){var ge=B.type;return ge===ee?Y(U,O,B.props.children,K,B.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&wr(ge)===O.type)?(O=u(O,B.props),Nl(O,B),O.return=U,O):(O=lc(B.type,B.key,B.props,null,U.mode,K),Nl(O,B),O.return=U,O)}function P(U,O,B,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=ph(B,U.mode,K),O.return=U,O):(O=u(O,B.children||[]),O.return=U,O)}function Y(U,O,B,K,ge){return O===null||O.tag!==7?(O=br(B,U.mode,K,ge),O.return=U,O):(O=u(O,B),O.return=U,O)}function $(U,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=gh(""+O,U.mode,B),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case L:return B=lc(O.type,O.key,O.props,null,U.mode,B),Nl(B,O),B.return=U,B;case H:return O=ph(O,U.mode,B),O.return=U,O;case A:return O=wr(O),$(U,O,B)}if(ct(O)||M(O))return O=br(O,U.mode,B,null),O.return=U,O;if(typeof O.then=="function")return $(U,mc(O),B);if(O.$$typeof===ae)return $(U,uc(U,O),B);gc(U,O)}return null}function q(U,O,B,K){var ge=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ge!==null?null:E(U,O,""+B,K);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return B.key===ge?C(U,O,B,K):null;case H:return B.key===ge?P(U,O,B,K):null;case A:return B=wr(B),q(U,O,B,K)}if(ct(B)||M(B))return ge!==null?null:Y(U,O,B,K,null);if(typeof B.then=="function")return q(U,O,mc(B),K);if(B.$$typeof===ae)return q(U,O,uc(U,B),K);gc(U,B)}return null}function Q(U,O,B,K,ge){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(B)||null,E(O,U,""+K,ge);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case L:return U=U.get(K.key===null?B:K.key)||null,C(O,U,K,ge);case H:return U=U.get(K.key===null?B:K.key)||null,P(O,U,K,ge);case A:return K=wr(K),Q(U,O,B,K,ge)}if(ct(K)||M(K))return U=U.get(B)||null,Y(O,U,K,ge,null);if(typeof K.then=="function")return Q(U,O,B,mc(K),ge);if(K.$$typeof===ae)return Q(U,O,B,uc(O,K),ge);gc(O,K)}return null}function oe(U,O,B,K){for(var ge=null,qe=null,he=O,ke=O=0,Ie=null;he!==null&&ke<B.length;ke++){he.index>ke?(Ie=he,he=null):Ie=he.sibling;var He=q(U,he,B[ke],K);if(He===null){he===null&&(he=Ie);break}e&&he&&He.alternate===null&&n(U,he),O=f(He,O,ke),qe===null?ge=He:qe.sibling=He,qe=He,he=Ie}if(ke===B.length)return a(U,he),Le&&zs(U,ke),ge;if(he===null){for(;ke<B.length;ke++)he=$(U,B[ke],K),he!==null&&(O=f(he,O,ke),qe===null?ge=he:qe.sibling=he,qe=he);return Le&&zs(U,ke),ge}for(he=l(he);ke<B.length;ke++)Ie=Q(he,U,ke,B[ke],K),Ie!==null&&(e&&Ie.alternate!==null&&he.delete(Ie.key===null?ke:Ie.key),O=f(Ie,O,ke),qe===null?ge=Ie:qe.sibling=Ie,qe=Ie);return e&&he.forEach(function(Ma){return n(U,Ma)}),Le&&zs(U,ke),ge}function ye(U,O,B,K){if(B==null)throw Error(i(151));for(var ge=null,qe=null,he=O,ke=O=0,Ie=null,He=B.next();he!==null&&!He.done;ke++,He=B.next()){he.index>ke?(Ie=he,he=null):Ie=he.sibling;var Ma=q(U,he,He.value,K);if(Ma===null){he===null&&(he=Ie);break}e&&he&&Ma.alternate===null&&n(U,he),O=f(Ma,O,ke),qe===null?ge=Ma:qe.sibling=Ma,qe=Ma,he=Ie}if(He.done)return a(U,he),Le&&zs(U,ke),ge;if(he===null){for(;!He.done;ke++,He=B.next())He=$(U,He.value,K),He!==null&&(O=f(He,O,ke),qe===null?ge=He:qe.sibling=He,qe=He);return Le&&zs(U,ke),ge}for(he=l(he);!He.done;ke++,He=B.next())He=Q(he,U,ke,He.value,K),He!==null&&(e&&He.alternate!==null&&he.delete(He.key===null?ke:He.key),O=f(He,O,ke),qe===null?ge=He:qe.sibling=He,qe=He);return e&&he.forEach(function(A1){return n(U,A1)}),Le&&zs(U,ke),ge}function tt(U,O,B,K){if(typeof B=="object"&&B!==null&&B.type===ee&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case L:e:{for(var ge=B.key;O!==null;){if(O.key===ge){if(ge=B.type,ge===ee){if(O.tag===7){a(U,O.sibling),K=u(O,B.props.children),K.return=U,U=K;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&wr(ge)===O.type){a(U,O.sibling),K=u(O,B.props),Nl(K,B),K.return=U,U=K;break e}a(U,O);break}else n(U,O);O=O.sibling}B.type===ee?(K=br(B.props.children,U.mode,K,B.key),K.return=U,U=K):(K=lc(B.type,B.key,B.props,null,U.mode,K),Nl(K,B),K.return=U,U=K)}return y(U);case H:e:{for(ge=B.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(U,O.sibling),K=u(O,B.children||[]),K.return=U,U=K;break e}else{a(U,O);break}else n(U,O);O=O.sibling}K=ph(B,U.mode,K),K.return=U,U=K}return y(U);case A:return B=wr(B),tt(U,O,B,K)}if(ct(B))return oe(U,O,B,K);if(M(B)){if(ge=M(B),typeof ge!="function")throw Error(i(150));return B=ge.call(B),ye(U,O,B,K)}if(typeof B.then=="function")return tt(U,O,mc(B),K);if(B.$$typeof===ae)return tt(U,O,uc(U,B),K);gc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(U,O.sibling),K=u(O,B),K.return=U,U=K):(a(U,O),K=gh(B,U.mode,K),K.return=U,U=K),y(U)):a(U,O)}return function(U,O,B,K){try{wl=0;var ge=tt(U,O,B,K);return fi=null,ge}catch(he){if(he===di||he===dc)throw he;var qe=vn(29,he,null,U.mode);return qe.lanes=K,qe.return=U,qe}finally{}}}var Ar=hg(!0),dg=hg(!1),ba=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _a(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function va(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=ic(e),Xm(e,null,a),n}return rc(e,l,n,a),ic(e)}function Al(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Wi(e,a)}}function jh(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?u=f=n:f=f.next=n}else u=f=n;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Ch=!1;function Sl(){if(Ch){var e=hi;if(e!==null)throw e}}function kl(e,n,a,l){Ch=!1;var u=e.updateQueue;ba=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,E=u.shared.pending;if(E!==null){u.shared.pending=null;var C=E,P=C.next;C.next=null,y===null?f=P:y.next=P,y=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==y&&(E===null?Y.firstBaseUpdate=P:E.next=P,Y.lastBaseUpdate=C))}if(f!==null){var $=u.baseState;y=0,Y=P=C=null,E=f;do{var q=E.lane&-536870913,Q=q!==E.lane;if(Q?(De&q)===q:(l&q)===q){q!==0&&q===ui&&(Ch=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=e,ye=E;q=n;var tt=a;switch(ye.tag){case 1:if(oe=ye.payload,typeof oe=="function"){$=oe.call(tt,$,q);break e}$=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ye.payload,q=typeof oe=="function"?oe.call(tt,$,q):oe,q==null)break e;$=T({},$,q);break e;case 2:ba=!0}}q=E.callback,q!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=u.callbacks,Q===null?u.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(P=Y=Q,C=$):Y=Y.next=Q,y|=q;if(E=E.next,E===null){if(E=u.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,u.lastBaseUpdate=Q,u.shared.pending=null}}while(!0);Y===null&&(C=$),u.baseState=C,u.firstBaseUpdate=P,u.lastBaseUpdate=Y,f===null&&(u.shared.lanes=0),Aa|=y,e.lanes=y,e.memoizedState=$}}function fg(e,n){if(typeof e!="function")throw Error(i(191,e));e.call(n)}function mg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)fg(a[e],n)}var mi=k(null),pc=k(0);function gg(e,n){e=$s,te(pc,e),te(mi,n),$s=e|n.baseLanes}function Dh(){te(pc,$s),te(mi,mi.current)}function Ih(){$s=pc.current,G(mi),G(pc)}var En=k(null),Bn=null;function Ea(e){var n=e.alternate;te(yt,yt.current&1),te(En,e),Bn===null&&(n===null||mi.current!==null||n.memoizedState!==null)&&(Bn=e)}function Vh(e){te(yt,yt.current),te(En,e),Bn===null&&(Bn=e)}function pg(e){e.tag===22?(te(yt,yt.current),te(En,e),Bn===null&&(Bn=e)):Ta()}function Ta(){te(yt,yt.current),te(En,En.current)}function Tn(e){G(En),Bn===e&&(Bn=null),G(yt)}var yt=k(0);function yc(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bd(a)||Pd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qs=0,Se=null,We=null,At=null,xc=!1,gi=!1,Sr=!1,bc=0,Rl=0,pi=null,pv=0;function ht(){throw Error(i(321))}function Oh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!_n(e[a],n[a]))return!1;return!0}function Mh(e,n,a,l,u,f){return qs=f,Se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=e===null||e.memoizedState===null?Wg:Zh,Sr=!1,f=a(l,u),Sr=!1,gi&&(f=xg(n,a,l,u)),yg(e),f}function yg(e){D.H=Dl;var n=We!==null&&We.next!==null;if(qs=0,At=We=Se=null,xc=!1,Rl=0,pi=null,n)throw Error(i(300));e===null||St||(e=e.dependencies,e!==null&&cc(e)&&(St=!0))}function xg(e,n,a,l){Se=e;var u=0;do{if(gi&&(pi=null),Rl=0,gi=!1,25<=u)throw Error(i(301));if(u+=1,At=We=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}D.H=ep,f=n(a,l)}while(gi);return f}function yv(){var e=D.H,n=e.useState()[0];return n=typeof n.then=="function"?jl(n):n,e=e.useState()[0],(We!==null?We.memoizedState:null)!==e&&(Se.flags|=1024),n}function Uh(){var e=bc!==0;return bc=0,e}function Lh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function zh(e){if(xc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}xc=!1}qs=0,At=We=Se=null,gi=!1,Rl=bc=0,pi=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Se.memoizedState=At=e:At=At.next=e,At}function xt(){if(We===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var n=At===null?Se.memoizedState:At.next;if(n!==null)At=n,We=e;else{if(e===null)throw Se.alternate===null?Error(i(467)):Error(i(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},At===null?Se.memoizedState=At=e:At=At.next=e}return At}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(e){var n=Rl;return Rl+=1,pi===null&&(pi=[]),e=og(pi,e,n),n=Se,(At===null?n.memoizedState:At.next)===null&&(n=n.alternate,D.H=n===null||n.memoizedState===null?Wg:Zh),e}function vc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jl(e);if(e.$$typeof===ae)return Gt(e)}throw Error(i(438,String(e)))}function Bh(e){var n=null,a=Se.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=_c(),Se.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=V;return n.index++,a}function Hs(e,n){return typeof n=="function"?n(e):n}function Ec(e){var n=xt();return Ph(n,We,e)}function Ph(e,n,a){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var u=e.baseQueue,f=l.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}n.baseQueue=u=f,l.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{n=u.next;var E=y=null,C=null,P=n,Y=!1;do{var $=P.lane&-536870913;if($!==P.lane?(De&$)===$:(qs&$)===$){var q=P.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),$===ui&&(Y=!0);else if((qs&q)===q){P=P.next,q===ui&&(Y=!0);continue}else $={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=$,y=f):C=C.next=$,Se.lanes|=q,Aa|=q;$=P.action,Sr&&a(f,$),f=P.hasEagerState?P.eagerState:a(f,$)}else q={lane:$,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=q,y=f):C=C.next=q,Se.lanes|=$,Aa|=$;P=P.next}while(P!==null&&P!==n);if(C===null?y=f:C.next=E,!_n(f,e.memoizedState)&&(St=!0,Y&&(a=hi,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=C,l.lastRenderedState=f}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function qh(e){var n=xt(),a=n.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var l=a.dispatch,u=a.pending,f=n.memoizedState;if(u!==null){a.pending=null;var y=u=u.next;do f=e(f,y.action),y=y.next;while(y!==u);_n(f,n.memoizedState)||(St=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function bg(e,n,a){var l=Se,u=xt(),f=Le;if(f){if(a===void 0)throw Error(i(407));a=a()}else a=n();var y=!_n((We||u).memoizedState,a);if(y&&(u.memoizedState=a,St=!0),u=u.queue,Gh(Eg.bind(null,l,u,e),[e]),u.getSnapshot!==n||y||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,yi(9,{destroy:void 0},vg.bind(null,l,u,a,n),null),nt===null)throw Error(i(349));f||(qs&127)!==0||_g(l,n,a)}return a}function _g(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Se.updateQueue,n===null?(n=_c(),Se.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function vg(e,n,a,l){n.value=a,n.getSnapshot=l,Tg(n)&&wg(e)}function Eg(e,n,a){return a(function(){Tg(n)&&wg(e)})}function Tg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!_n(e,a)}catch{return!0}}function wg(e){var n=xr(e,2);n!==null&&fn(n,e,2)}function Hh(e){var n=an();if(typeof e=="function"){var a=e;if(e=a(),Sr){jn(!0);try{a()}finally{jn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},n}function Ng(e,n,a,l){return e.baseState=a,Ph(e,We,typeof l=="function"?l:Hs)}function xv(e,n,a,l,u){if(Nc(e))throw Error(i(485));if(e=n.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};D.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Ag(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ag(e,n){var a=n.action,l=n.payload,u=e.state;if(n.isTransition){var f=D.T,y={};D.T=y;try{var E=a(u,l),C=D.S;C!==null&&C(y,E),Sg(e,n,E)}catch(P){Fh(e,n,P)}finally{f!==null&&y.types!==null&&(f.types=y.types),D.T=f}}else try{f=a(u,l),Sg(e,n,f)}catch(P){Fh(e,n,P)}}function Sg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){kg(e,n,l)},function(l){return Fh(e,n,l)}):kg(e,n,a)}function kg(e,n,a){n.status="fulfilled",n.value=a,Rg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Ag(e,a)))}function Fh(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Rg(n),n=n.next;while(n!==l)}e.action=null}function Rg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function jg(e,n){return n}function Cg(e,n){if(Le){var a=nt.formState;if(a!==null){e:{var l=Se;if(Le){if(at){t:{for(var u=at,f=zn;u.nodeType!==8;){if(!f){u=null;break t}if(u=Pn(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){at=Pn(u.nextSibling),l=u.data==="F!";break e}}ya(l)}l=!1}l&&(n=a[0])}}return a=an(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:n},a.queue=l,a=$g.bind(null,Se,l),l.dispatch=a,l=Hh(!1),f=$h.bind(null,Se,!1,l.queue),l=an(),u={state:n,dispatch:null,action:e,pending:null},l.queue=u,a=xv.bind(null,Se,u,f,a),u.dispatch=a,l.memoizedState=e,[n,a,!1]}function Dg(e){var n=xt();return Ig(n,We,e)}function Ig(e,n,a){if(n=Ph(e,n,jg)[0],e=Ec(Hs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=jl(n)}catch(y){throw y===di?dc:y}else l=n;n=xt();var u=n.queue,f=u.dispatch;return a!==n.memoizedState&&(Se.flags|=2048,yi(9,{destroy:void 0},bv.bind(null,u,a),null)),[l,f,e]}function bv(e,n){e.action=n}function Vg(e){var n=xt(),a=We;if(a!==null)return Ig(n,a,e);xt(),n=n.memoizedState,a=xt();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function yi(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=Se.updateQueue,n===null&&(n=_c(),Se.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function Og(){return xt().memoizedState}function Tc(e,n,a,l){var u=an();Se.flags|=e,u.memoizedState=yi(1|n,{destroy:void 0},a,l===void 0?null:l)}function wc(e,n,a,l){var u=xt();l=l===void 0?null:l;var f=u.memoizedState.inst;We!==null&&l!==null&&Oh(l,We.memoizedState.deps)?u.memoizedState=yi(n,f,a,l):(Se.flags|=e,u.memoizedState=yi(1|n,f,a,l))}function Mg(e,n){Tc(8390656,8,e,n)}function Gh(e,n){wc(2048,8,e,n)}function _v(e){Se.flags|=4;var n=Se.updateQueue;if(n===null)n=_c(),Se.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Ug(e){var n=xt().memoizedState;return _v({ref:n,nextImpl:e}),function(){if((Ge&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}function Lg(e,n){return wc(4,2,e,n)}function zg(e,n){return wc(4,4,e,n)}function Bg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Pg(e,n,a){a=a!=null?a.concat([e]):null,wc(4,4,Bg.bind(null,n,e),a)}function Qh(){}function qg(e,n){var a=xt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Oh(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Hg(e,n){var a=xt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Oh(n,l[1]))return l[0];if(l=e(),Sr){jn(!0);try{e()}finally{jn(!1)}}return a.memoizedState=[l,n],l}function Yh(e,n,a){return a===void 0||(qs&1073741824)!==0&&(De&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Fp(),Se.lanes|=e,Aa|=e,a)}function Fg(e,n,a,l){return _n(a,n)?a:mi.current!==null?(e=Yh(e,a,l),_n(e,n)||(St=!0),e):(qs&42)===0||(qs&1073741824)!==0&&(De&261930)===0?(St=!0,e.memoizedState=a):(e=Fp(),Se.lanes|=e,Aa|=e,n)}function Gg(e,n,a,l,u){var f=W.p;W.p=f!==0&&8>f?f:8;var y=D.T,E={};D.T=E,$h(e,!1,n,a);try{var C=u(),P=D.S;if(P!==null&&P(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=gv(C,l);Cl(e,n,Y,An(e))}else Cl(e,n,l,An(e))}catch($){Cl(e,n,{then:function(){},status:"rejected",reason:$},An())}finally{W.p=f,y!==null&&E.types!==null&&(y.types=E.types),D.T=y}}function vv(){}function Kh(e,n,a,l){if(e.tag!==5)throw Error(i(476));var u=Qg(e).queue;Gg(e,u,n,le,a===null?vv:function(){return Yg(e),a(l)})}function Qg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:le},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Yg(e){var n=Qg(e);n.next===null&&(n=e.alternate.memoizedState),Cl(e,n.next.queue,{},An())}function Xh(){return Gt(Kl)}function Kg(){return xt().memoizedState}function Xg(){return xt().memoizedState}function Ev(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=An();e=_a(a);var l=va(n,e,a);l!==null&&(fn(l,n,a),Al(l,n,a)),n={cache:wh()},e.payload=n;return}n=n.return}}function Tv(e,n,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(e)?Zg(n,a):(a=fh(e,n,a,l),a!==null&&(fn(a,e,l),Jg(a,n,l)))}function $g(e,n,a){var l=An();Cl(e,n,a,l)}function Cl(e,n,a,l){var u={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(e))Zg(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(u.hasEagerState=!0,u.eagerState=E,_n(E,y))return rc(e,n,u,0),nt===null&&ac(),!1}catch{}finally{}if(a=fh(e,n,u,l),a!==null)return fn(a,e,l),Jg(a,n,l),!0}return!1}function $h(e,n,a,l){if(l={lane:2,revertLane:kd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Nc(e)){if(n)throw Error(i(479))}else n=fh(e,a,l,2),n!==null&&fn(n,e,2)}function Nc(e){var n=e.alternate;return e===Se||n!==null&&n===Se}function Zg(e,n){gi=xc=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Jg(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Wi(e,a)}}var Dl={readContext:Gt,use:vc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};Dl.useEffectEvent=ht;var Wg={readContext:Gt,use:vc,useCallback:function(e,n){return an().memoizedState=[e,n===void 0?null:n],e},useContext:Gt,useEffect:Mg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Tc(4194308,4,Bg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Tc(4194308,4,e,n)},useInsertionEffect:function(e,n){Tc(4,2,e,n)},useMemo:function(e,n){var a=an();n=n===void 0?null:n;var l=e();if(Sr){jn(!0);try{e()}finally{jn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=an();if(a!==void 0){var u=a(n);if(Sr){jn(!0);try{a(n)}finally{jn(!1)}}}else u=n;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=Tv.bind(null,Se,e),[l.memoizedState,e]},useRef:function(e){var n=an();return e={current:e},n.memoizedState=e},useState:function(e){e=Hh(e);var n=e.queue,a=$g.bind(null,Se,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Qh,useDeferredValue:function(e,n){var a=an();return Yh(a,e,n)},useTransition:function(){var e=Hh(!1);return e=Gg.bind(null,Se,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=Se,u=an();if(Le){if(a===void 0)throw Error(i(407));a=a()}else{if(a=n(),nt===null)throw Error(i(349));(De&127)!==0||_g(l,n,a)}u.memoizedState=a;var f={value:a,getSnapshot:n};return u.queue=f,Mg(Eg.bind(null,l,f,e),[e]),l.flags|=2048,yi(9,{destroy:void 0},vg.bind(null,l,f,a,n),null),a},useId:function(){var e=an(),n=nt.identifierPrefix;if(Le){var a=Ns,l=ws;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=bc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=pv++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Xh,useFormState:Cg,useActionState:Cg,useOptimistic:function(e){var n=an();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=$h.bind(null,Se,!0,a),a.dispatch=n,[e,n]},useMemoCache:Bh,useCacheRefresh:function(){return an().memoizedState=Ev.bind(null,Se)},useEffectEvent:function(e){var n=an(),a={impl:e};return n.memoizedState=a,function(){if((Ge&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Zh={readContext:Gt,use:vc,useCallback:qg,useContext:Gt,useEffect:Gh,useImperativeHandle:Pg,useInsertionEffect:Lg,useLayoutEffect:zg,useMemo:Hg,useReducer:Ec,useRef:Og,useState:function(){return Ec(Hs)},useDebugValue:Qh,useDeferredValue:function(e,n){var a=xt();return Fg(a,We.memoizedState,e,n)},useTransition:function(){var e=Ec(Hs)[0],n=xt().memoizedState;return[typeof e=="boolean"?e:jl(e),n]},useSyncExternalStore:bg,useId:Kg,useHostTransitionStatus:Xh,useFormState:Dg,useActionState:Dg,useOptimistic:function(e,n){var a=xt();return Ng(a,We,e,n)},useMemoCache:Bh,useCacheRefresh:Xg};Zh.useEffectEvent=Ug;var ep={readContext:Gt,use:vc,useCallback:qg,useContext:Gt,useEffect:Gh,useImperativeHandle:Pg,useInsertionEffect:Lg,useLayoutEffect:zg,useMemo:Hg,useReducer:qh,useRef:Og,useState:function(){return qh(Hs)},useDebugValue:Qh,useDeferredValue:function(e,n){var a=xt();return We===null?Yh(a,e,n):Fg(a,We.memoizedState,e,n)},useTransition:function(){var e=qh(Hs)[0],n=xt().memoizedState;return[typeof e=="boolean"?e:jl(e),n]},useSyncExternalStore:bg,useId:Kg,useHostTransitionStatus:Xh,useFormState:Vg,useActionState:Vg,useOptimistic:function(e,n){var a=xt();return We!==null?Ng(a,We,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Bh,useCacheRefresh:Xg};ep.useEffectEvent=Ug;function Jh(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:T({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Wh={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=An(),u=_a(l);u.payload=n,a!=null&&(u.callback=a),n=va(e,u,l),n!==null&&(fn(n,e,l),Al(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=An(),u=_a(l);u.tag=1,u.payload=n,a!=null&&(u.callback=a),n=va(e,u,l),n!==null&&(fn(n,e,l),Al(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=An(),l=_a(a);l.tag=2,n!=null&&(l.callback=n),n=va(e,l,a),n!==null&&(fn(n,e,a),Al(n,e,a))}};function tp(e,n,a,l,u,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!xl(a,l)||!xl(u,f):!0}function np(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&Wh.enqueueReplaceState(n,n.state,null)}function kr(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=T({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function sp(e){sc(e)}function ap(e){console.error(e)}function rp(e){sc(e)}function Ac(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ip(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function ed(e,n,a){return a=_a(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(e,n)},a}function lp(e){return e=_a(e),e.tag=3,e}function op(e,n,a,l){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;e.payload=function(){return u(f)},e.callback=function(){ip(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){ip(n,a,l),typeof u!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function wv(e,n,a,l,u){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ci(n,a,u,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?Lc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=u,l===fc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Nd(e,l,u)),!1;case 22:return a.flags|=65536,l===fc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Nd(e,l,u)),!1}throw Error(i(435,a.tag))}return Nd(e,l,u),Lc(),!1}if(Le)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==bh&&(e=Error(i(422),{cause:l}),vl(Mn(e,a)))):(l!==bh&&(n=Error(i(423),{cause:l}),vl(Mn(n,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Mn(l,a),u=ed(e.stateNode,l,u),jh(e,u),dt!==4&&(dt=2)),!1;var f=Error(i(520),{cause:l});if(f=Mn(f,a),Bl===null?Bl=[f]:Bl.push(f),dt!==4&&(dt=2),n===null)return!0;l=Mn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=ed(a.stateNode,l,e),jh(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Sa===null||!Sa.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=lp(u),op(u,e,a,l),jh(a,u),!1}a=a.return}while(a!==null);return!1}var td=Error(i(461)),St=!1;function Qt(e,n,a,l){n.child=e===null?dg(n,null,a,l):Ar(n,e.child,a,l)}function cp(e,n,a,l,u){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Er(n),l=Mh(e,n,a,y,f,u),E=Uh(),e!==null&&!St?(Lh(e,n,u),Fs(e,n,u)):(Le&&E&&yh(n),n.flags|=1,Qt(e,n,l,u),n.child)}function up(e,n,a,l,u){if(e===null){var f=a.type;return typeof f=="function"&&!mh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,hp(e,n,f,l,u)):(e=lc(a.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!cd(e,u)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:xl,a(y,l)&&e.ref===n.ref)return Fs(e,n,u)}return n.flags|=1,e=Ls(f,l),e.ref=n.ref,e.return=n,n.child=e}function hp(e,n,a,l,u){if(e!==null){var f=e.memoizedProps;if(xl(f,l)&&e.ref===n.ref)if(St=!1,n.pendingProps=l=f,cd(e,u))(e.flags&131072)!==0&&(St=!0);else return n.lanes=e.lanes,Fs(e,n,u)}return nd(e,n,a,l,u)}function dp(e,n,a,l){var u=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(l=n.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~f}else l=0,n.child=null;return fp(e,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&hc(n,f!==null?f.cachePool:null),f!==null?gg(n,f):Dh(),pg(n);else return l=n.lanes=536870912,fp(e,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(hc(n,f.cachePool),gg(n,f),Ta(),n.memoizedState=null):(e!==null&&hc(n,null),Dh(),Ta());return Qt(e,n,u,a),n.child}function Il(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fp(e,n,a,l,u){var f=Ah();return f=f===null?null:{parent:Nt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&hc(n,null),Dh(),pg(n),e!==null&&ci(e,n,l,!0),n.childLanes=u,null}function Sc(e,n){return n=Rc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function mp(e,n,a){return Ar(n,e.child,null,a),e=Sc(n,n.pendingProps),e.flags|=2,Tn(n),n.memoizedState=null,e}function Nv(e,n,a){var l=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Le){if(l.mode==="hidden")return e=Sc(n,l),n.lanes=536870912,Il(null,e);if(Vh(n),(e=at)?(e=A0(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ga!==null?{id:ws,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},a=Zm(e),a.return=n,n.child=a,Ft=n,at=null)):e=null,e===null)throw ya(n);return n.lanes=536870912,null}return Sc(n,l)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(Vh(n),u)if(n.flags&256)n.flags&=-257,n=mp(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(i(558));else if(St||ci(e,n,a,!1),u=(a&e.childLanes)!==0,St||u){if(l=nt,l!==null&&(y=el(l,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,xr(e,y),fn(l,e,y),td;Lc(),n=mp(e,n,a)}else e=f.treeContext,at=Pn(y.nextSibling),Ft=n,Le=!0,pa=null,zn=!1,e!==null&&eg(n,e),n=Sc(n,l),n.flags|=4096;return n}return e=Ls(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function kc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function nd(e,n,a,l,u){return Er(n),a=Mh(e,n,a,l,void 0,u),l=Uh(),e!==null&&!St?(Lh(e,n,u),Fs(e,n,u)):(Le&&l&&yh(n),n.flags|=1,Qt(e,n,a,u),n.child)}function gp(e,n,a,l,u,f){return Er(n),n.updateQueue=null,a=xg(n,l,a,u),yg(e),l=Uh(),e!==null&&!St?(Lh(e,n,f),Fs(e,n,f)):(Le&&l&&yh(n),n.flags|=1,Qt(e,n,a,f),n.child)}function pp(e,n,a,l,u){if(Er(n),n.stateNode===null){var f=ri,y=a.contextType;typeof y=="object"&&y!==null&&(f=Gt(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Wh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},kh(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Gt(y):ri,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Jh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Wh.enqueueReplaceState(f,f.state,null),kl(n,l,f,u),Sl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=kr(a,E);f.props=C;var P=f.context,Y=a.contextType;y=ri,typeof Y=="object"&&Y!==null&&(y=Gt(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&np(n,f,l,y),ba=!1;var q=n.memoizedState;f.state=q,kl(n,l,f,u),Sl(),P=n.memoizedState,E||q!==P||ba?(typeof $=="function"&&(Jh(n,a,$,l),P=n.memoizedState),(C=ba||tp(n,a,C,l,q,P,y))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Rh(e,n),y=n.memoizedProps,Y=kr(a,y),f.props=Y,$=n.pendingProps,q=f.context,P=a.contextType,C=ri,typeof P=="object"&&P!==null&&(C=Gt(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||q!==C)&&np(n,f,l,C),ba=!1,q=n.memoizedState,f.state=q,kl(n,l,f,u),Sl();var Q=n.memoizedState;y!==$||q!==Q||ba||e!==null&&e.dependencies!==null&&cc(e.dependencies)?(typeof E=="function"&&(Jh(n,a,E,l),Q=n.memoizedState),(Y=ba||tp(n,a,Y,l,q,Q,C)||e!==null&&e.dependencies!==null&&cc(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),f.props=l,f.state=Q,f.context=C,l=Y):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,kc(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Ar(n,e.child,null,u),n.child=Ar(n,null,a,u)):Qt(e,n,a,u),n.memoizedState=f.state,e=n.child):e=Fs(e,n,u),e}function yp(e,n,a,l){return _r(),n.flags|=256,Qt(e,n,a,l),n.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ad(e){return{baseLanes:e,cachePool:ig()}}function rd(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Nn),e}function xp(e,n,a){var l=n.pendingProps,u=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),y&&(u=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Le){if(u?Ea(n):Ta(),(e=at)?(e=A0(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ga!==null?{id:ws,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},a=Zm(e),a.return=n,n.child=a,Ft=n,at=null)):e=null,e===null)throw ya(n);return Pd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,u?(Ta(),u=n.mode,E=Rc({mode:"hidden",children:E},u),l=br(l,u,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=ad(a),l.childLanes=rd(e,y,a),n.memoizedState=sd,Il(null,l)):(Ea(n),id(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Ea(n),n.flags&=-257,n=ld(e,n,a)):n.memoizedState!==null?(Ta(),n.child=e.child,n.flags|=128,n=null):(Ta(),E=l.fallback,u=n.mode,l=Rc({mode:"visible",children:l.children},u),E=br(E,u,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Ar(n,e.child,null,a),l=n.child,l.memoizedState=ad(a),l.childLanes=rd(e,y,a),n.memoizedState=sd,n=Il(null,l));else if(Ea(n),Pd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(i(419)),l.stack="",l.digest=y,vl({value:l,source:null,stack:null}),n=ld(e,n,a)}else if(St||ci(e,n,a,!1),y=(a&e.childLanes)!==0,St||y){if(y=nt,y!==null&&(l=el(y,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,xr(e,l),fn(y,e,l),td;Bd(E)||Lc(),n=ld(e,n,a)}else Bd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,at=Pn(E.nextSibling),Ft=n,Le=!0,pa=null,zn=!1,e!==null&&eg(n,e),n=id(n,l.children),n.flags|=4096);return n}return u?(Ta(),E=l.fallback,u=n.mode,C=e.child,P=C.sibling,l=Ls(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,P!==null?E=Ls(P,E):(E=br(E,u,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Il(null,l),l=n.child,E=e.child.memoizedState,E===null?E=ad(a):(u=E.cachePool,u!==null?(C=Nt._currentValue,u=u.parent!==C?{parent:C,pool:C}:u):u=ig(),E={baseLanes:E.baseLanes|a,cachePool:u}),l.memoizedState=E,l.childLanes=rd(e,y,a),n.memoizedState=sd,Il(e.child,l)):(Ea(n),a=e.child,e=a.sibling,a=Ls(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function id(e,n){return n=Rc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Rc(e,n){return e=vn(22,e,null,n),e.lanes=0,e}function ld(e,n,a){return Ar(n,e.child,null,a),e=id(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function bp(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Eh(e.return,n,a)}function od(e,n,a,l,u,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=u,y.treeForkCount=f)}function _p(e,n,a){var l=n.pendingProps,u=l.revealOrder,f=l.tail;l=l.children;var y=yt.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,te(yt,y),Qt(e,n,l,a),l=Le?_l:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bp(e,a,n);else if(e.tag===19)bp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=n.child,u=null;a!==null;)e=a.alternate,e!==null&&yc(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=n.child,n.child=null):(u=a.sibling,a.sibling=null),od(n,!1,u,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&yc(e)===null){n.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}od(n,!0,a,null,f,l);break;case"together":od(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Fs(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Aa|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ci(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,a=Ls(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Ls(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function cd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&cc(e)))}function Av(e,n,a){switch(n.tag){case 3:Me(n,n.stateNode.containerInfo),xa(n,Nt,e.memoizedState.cache),_r();break;case 27:case 5:Pt(n);break;case 4:Me(n,n.stateNode.containerInfo);break;case 10:xa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Vh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ea(n),n.flags|=128,null):(a&n.child.childLanes)!==0?xp(e,n,a):(Ea(n),e=Fs(e,n,a),e!==null?e.sibling:null);Ea(n);break;case 19:var u=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ci(e,n,a,!1),l=(a&n.childLanes)!==0),u){if(l)return _p(e,n,a);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),te(yt,yt.current),l)break;return null;case 22:return n.lanes=0,dp(e,n,a,n.pendingProps);case 24:xa(n,Nt,e.memoizedState.cache)}return Fs(e,n,a)}function vp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)St=!0;else{if(!cd(e,a)&&(n.flags&128)===0)return St=!1,Av(e,n,a);St=(e.flags&131072)!==0}else St=!1,Le&&(n.flags&1048576)!==0&&Wm(n,_l,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=wr(n.elementType),n.type=e,typeof e=="function")mh(e)?(l=kr(e,l),n.tag=1,n=pp(null,n,e,l,a)):(n.tag=0,n=nd(null,n,e,l,a));else{if(e!=null){var u=e.$$typeof;if(u===de){n.tag=11,n=cp(null,n,e,l,a);break e}else if(u===N){n.tag=14,n=up(null,n,e,l,a);break e}}throw n=Ke(e)||e,Error(i(306,n,""))}}return n;case 0:return nd(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,u=kr(l,n.pendingProps),pp(e,n,l,u,a);case 3:e:{if(Me(n,n.stateNode.containerInfo),e===null)throw Error(i(387));l=n.pendingProps;var f=n.memoizedState;u=f.element,Rh(e,n),kl(n,l,null,a);var y=n.memoizedState;if(l=y.cache,xa(n,Nt,l),l!==f.cache&&Th(n,[Nt],a,!0),Sl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=yp(e,n,l,a);break e}else if(l!==u){u=Mn(Error(i(424)),n),vl(u),n=yp(e,n,l,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(at=Pn(e.firstChild),Ft=n,Le=!0,pa=null,zn=!0,a=dg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(_r(),l===u){n=Fs(e,n,a);break e}Qt(e,n,l,a)}n=n.child}return n;case 26:return kc(e,n),e===null?(a=D0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Le||(a=n.type,e=n.pendingProps,l=Gc(me.current).createElement(a),l[Et]=n,l[Mt]=e,Yt(l,a,e),Tt(l),n.stateNode=l):n.memoizedState=D0(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Pt(n),e===null&&Le&&(l=n.stateNode=R0(n.type,n.pendingProps,me.current),Ft=n,zn=!0,u=at,Ca(n.type)?(qd=u,at=Pn(l.firstChild)):at=u),Qt(e,n,n.pendingProps.children,a),kc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Le&&((u=l=at)&&(l=n1(l,n.type,n.pendingProps,zn),l!==null?(n.stateNode=l,Ft=n,at=Pn(l.firstChild),zn=!1,u=!0):u=!1),u||ya(n)),Pt(n),u=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,l=f.children,Ud(u,f)?l=null:y!==null&&Ud(u,y)&&(n.flags|=32),n.memoizedState!==null&&(u=Mh(e,n,yv,null,null,a),Kl._currentValue=u),kc(e,n),Qt(e,n,l,a),n.child;case 6:return e===null&&Le&&((e=a=at)&&(a=s1(a,n.pendingProps,zn),a!==null?(n.stateNode=a,Ft=n,at=null,e=!0):e=!1),e||ya(n)),null;case 13:return xp(e,n,a);case 4:return Me(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ar(n,null,l,a):Qt(e,n,l,a),n.child;case 11:return cp(e,n,n.type,n.pendingProps,a);case 7:return Qt(e,n,n.pendingProps,a),n.child;case 8:return Qt(e,n,n.pendingProps.children,a),n.child;case 12:return Qt(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,xa(n,n.type,l.value),Qt(e,n,l.children,a),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,Er(n),u=Gt(u),l=l(u),n.flags|=1,Qt(e,n,l,a),n.child;case 14:return up(e,n,n.type,n.pendingProps,a);case 15:return hp(e,n,n.type,n.pendingProps,a);case 19:return _p(e,n,a);case 31:return Nv(e,n,a);case 22:return dp(e,n,a,n.pendingProps);case 24:return Er(n),l=Gt(Nt),e===null?(u=Ah(),u===null&&(u=nt,f=wh(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),n.memoizedState={parent:l,cache:u},kh(n),xa(n,Nt,u)):((e.lanes&a)!==0&&(Rh(e,n),kl(n,null,null,a),Sl()),u=e.memoizedState,f=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),xa(n,Nt,l)):(l=f.cache,xa(n,Nt,l),l!==u.cache&&Th(n,[Nt],a,!0))),Qt(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function Gs(e){e.flags|=4}function ud(e,n,a,l,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Kp())e.flags|=8192;else throw Nr=fc,Sh}else e.flags&=-16777217}function Ep(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!U0(n))if(Kp())e.flags|=8192;else throw Nr=fc,Sh}function jc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Mo():536870912,e.lanes|=n,vi|=n)}function Vl(e,n){if(!Le)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function rt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function Sv(e,n,a){var l=n.pendingProps;switch(xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(n),null;case 1:return rt(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ps(Nt),Ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(oi(n)?Gs(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,_h())),rt(n),null;case 26:var u=n.type,f=n.memoizedState;return e===null?(Gs(n),f!==null?(rt(n),Ep(n,f)):(rt(n),ud(n,u,null,l,a))):f?f!==e.memoizedState?(Gs(n),rt(n),Ep(n,f)):(rt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Gs(n),rt(n),ud(n,u,e,l,a)),null;case 27:if(it(n),a=me.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Gs(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return rt(n),null}e=ne.current,oi(n)?tg(n):(e=R0(u,l,a),n.stateNode=e,Gs(n))}return rt(n),null;case 5:if(it(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Gs(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return rt(n),null}if(f=ne.current,oi(n))tg(n);else{var y=Gc(me.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(u,{is:l.is}):y.createElement(u)}}f[Et]=n,f[Mt]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(Yt(f,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Gs(n)}}return rt(n),ud(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Gs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(e=me.current,oi(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,u=Ft,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[Et]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||x0(e.nodeValue,a)),e||ya(n,!0)}else e=Gc(e).createTextNode(l),e[Et]=n,n.stateNode=e}return rt(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(l=oi(n),a!==null){if(e===null){if(!l)throw Error(i(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[Et]=n}else _r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),e=!1}else a=_h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Tn(n),n):(Tn(n),null);if((n.flags&128)!==0)throw Error(i(558))}return rt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=oi(n),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[Et]=n}else _r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),u=!1}else u=_h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(Tn(n),n):(Tn(n),null)}return Tn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),jc(n,n.updateQueue),rt(n),null);case 4:return Ue(),e===null&&Dd(n.stateNode.containerInfo),rt(n),null;case 10:return Ps(n.type),rt(n),null;case 19:if(G(yt),l=n.memoizedState,l===null)return rt(n),null;if(u=(n.flags&128)!==0,f=l.rendering,f===null)if(u)Vl(l,!1);else{if(dt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=yc(e),f!==null){for(n.flags|=128,Vl(l,!1),e=f.updateQueue,n.updateQueue=e,jc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)$m(a,e),a=a.sibling;return te(yt,yt.current&1|2),Le&&zs(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&nn()>Oc&&(n.flags|=128,u=!0,Vl(l,!1),n.lanes=4194304)}else{if(!u)if(e=yc(f),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,jc(n,e),Vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Le)return rt(n),null}else 2*nn()-l.renderingStartTime>Oc&&a!==536870912&&(n.flags|=128,u=!0,Vl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=nn(),e.sibling=null,a=yt.current,te(yt,u?a&1|2:a&1),Le&&zs(n,l.treeForkCount),e):(rt(n),null);case 22:case 23:return Tn(n),Ih(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(rt(n),n.subtreeFlags&6&&(n.flags|=8192)):rt(n),a=n.updateQueue,a!==null&&jc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&G(Tr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ps(Nt),rt(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function kv(e,n){switch(xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ps(Nt),Ue(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return it(n),null;case 31:if(n.memoizedState!==null){if(Tn(n),n.alternate===null)throw Error(i(340));_r()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Tn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));_r()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return G(yt),null;case 4:return Ue(),null;case 10:return Ps(n.type),null;case 22:case 23:return Tn(n),Ih(),e!==null&&G(Tr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ps(Nt),null;case 25:return null;default:return null}}function Tp(e,n){switch(xh(n),n.tag){case 3:Ps(Nt),Ue();break;case 26:case 27:case 5:it(n);break;case 4:Ue();break;case 31:n.memoizedState!==null&&Tn(n);break;case 13:Tn(n);break;case 19:G(yt);break;case 10:Ps(n.type);break;case 22:case 23:Tn(n),Ih(),e!==null&&G(Tr);break;case 24:Ps(Nt)}}function Ol(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&e)===e){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==u)}}catch(E){Ze(n,n.return,E)}}function wa(e,n,a){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&e)===e){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,u=n;var C=a,P=E;try{P()}catch(Y){Ze(u,C,Y)}}}l=l.next}while(l!==f)}}catch(Y){Ze(n,n.return,Y)}}function wp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{mg(n,a)}catch(l){Ze(e,e.return,l)}}}function Np(e,n,a){a.props=kr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(e,n,l)}}function Ml(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(u){Ze(e,n,u)}}function As(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(u){Ze(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Ze(e,n,u)}else a.current=null}function Ap(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(u){Ze(e,e.return,u)}}function hd(e,n,a){try{var l=e.stateNode;$v(l,e.type,a,n),l[Mt]=n}catch(u){Ze(e,e.return,u)}}function Sp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ca(e.type)||e.tag===4}function dd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ca(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fd(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=$n));else if(l!==4&&(l===27&&Ca(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(fd(e,n,a),e=e.sibling;e!==null;)fd(e,n,a),e=e.sibling}function Cc(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&Ca(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Cc(e,n,a),e=e.sibling;e!==null;)Cc(e,n,a),e=e.sibling}function kp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);Yt(n,l,a),n[Et]=e,n[Mt]=a}catch(f){Ze(e,e.return,f)}}var Qs=!1,kt=!1,md=!1,Rp=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function Rv(e,n){if(e=e.containerInfo,Od=Jc,e=Pm(e),lh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,E=-1,C=-1,P=0,Y=0,$=e,q=null;t:for(;;){for(var Q;$!==a||u!==0&&$.nodeType!==3||(E=y+u),$!==f||l!==0&&$.nodeType!==3||(C=y+l),$.nodeType===3&&(y+=$.nodeValue.length),(Q=$.firstChild)!==null;)q=$,$=Q;for(;;){if($===e)break t;if(q===a&&++P===u&&(E=y),q===f&&++Y===l&&(C=y),(Q=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=Q}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Md={focusedElem:e,selectionRange:a},Jc=!1,Lt=n;Lt!==null;)if(n=Lt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Lt=e;else for(;Lt!==null;){switch(n=Lt,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,u=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var oe=kr(a.type,u);e=l.getSnapshotBeforeUpdate(oe,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ye){Ze(a,a.return,ye)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)zd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=n.sibling,e!==null){e.return=n.return,Lt=e;break}Lt=n.return}}function jp(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ks(e,a),l&4&&Ol(5,a);break;case 1:if(Ks(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){Ze(a,a.return,y)}else{var u=kr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Ze(a,a.return,y)}}l&64&&wp(a),l&512&&Ml(a,a.return);break;case 3:if(Ks(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{mg(e,n)}catch(y){Ze(a,a.return,y)}}break;case 27:n===null&&l&4&&kp(a);case 26:case 5:Ks(e,a),n===null&&l&4&&Ap(a),l&512&&Ml(a,a.return);break;case 12:Ks(e,a);break;case 31:Ks(e,a),l&4&&Ip(e,a);break;case 13:Ks(e,a),l&4&&Vp(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Lv.bind(null,a),a1(e,a))));break;case 22:if(l=a.memoizedState!==null||Qs,!l){n=n!==null&&n.memoizedState!==null||kt,u=Qs;var f=kt;Qs=l,(kt=n)&&!f?Xs(e,a,(a.subtreeFlags&8772)!==0):Ks(e,a),Qs=u,kt=f}break;case 30:break;default:Ks(e,a)}}function Cp(e){var n=e.alternate;n!==null&&(e.alternate=null,Cp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Gr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ot=null,cn=!1;function Ys(e,n,a){for(a=a.child;a!==null;)Dp(e,n,a),a=a.sibling}function Dp(e,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:kt||As(a,n),Ys(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:kt||As(a,n);var l=ot,u=cn;Ca(a.type)&&(ot=a.stateNode,cn=!1),Ys(e,n,a),Gl(a.stateNode),ot=l,cn=u;break;case 5:kt||As(a,n);case 6:if(l=ot,u=cn,ot=null,Ys(e,n,a),ot=l,cn=u,ot!==null)if(cn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(f){Ze(a,n,f)}else try{ot.removeChild(a.stateNode)}catch(f){Ze(a,n,f)}break;case 18:ot!==null&&(cn?(e=ot,w0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ri(e)):w0(ot,a.stateNode));break;case 4:l=ot,u=cn,ot=a.stateNode.containerInfo,cn=!0,Ys(e,n,a),ot=l,cn=u;break;case 0:case 11:case 14:case 15:wa(2,a,n),kt||wa(4,a,n),Ys(e,n,a);break;case 1:kt||(As(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Np(a,n,l)),Ys(e,n,a);break;case 21:Ys(e,n,a);break;case 22:kt=(l=kt)||a.memoizedState!==null,Ys(e,n,a),kt=l;break;default:Ys(e,n,a)}}function Ip(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ri(e)}catch(a){Ze(n,n.return,a)}}}function Vp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ri(e)}catch(a){Ze(n,n.return,a)}}function jv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Rp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Rp),n;default:throw Error(i(435,e.tag))}}function Dc(e,n){var a=jv(e);n.forEach(function(l){if(!a.has(l)){a.add(l);var u=zv.bind(null,e,l);l.then(u,u)}})}function un(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l],f=e,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(Ca(E.type)){ot=E.stateNode,cn=!1;break e}break;case 5:ot=E.stateNode,cn=!1;break e;case 3:case 4:ot=E.stateNode.containerInfo,cn=!0;break e}E=E.return}if(ot===null)throw Error(i(160));Dp(f,y,u),ot=null,cn=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Op(n,e),n=n.sibling}var ns=null;function Op(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),hn(e),l&4&&(wa(3,e,e.return),Ol(3,e),wa(5,e,e.return));break;case 1:un(n,e),hn(e),l&512&&(kt||a===null||As(a,a.return)),l&64&&Qs&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var u=ns;if(un(n,e),hn(e),l&512&&(kt||a===null||As(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[ds]||f[Et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),Yt(f,l,a),f[Et]=e,Tt(f),l=f;break e;case"link":var y=O0("link","href",u).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break t}}f=u.createElement(l),Yt(f,l,a),u.head.appendChild(f);break;case"meta":if(y=O0("meta","content",u).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break t}}f=u.createElement(l),Yt(f,l,a),u.head.appendChild(f);break;default:throw Error(i(468,l))}f[Et]=e,Tt(f),l=f}e.stateNode=l}else M0(u,e.type,e.stateNode);else e.stateNode=V0(u,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?M0(u,e.type,e.stateNode):V0(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&hd(e,e.memoizedProps,a.memoizedProps)}break;case 27:un(n,e),hn(e),l&512&&(kt||a===null||As(a,a.return)),a!==null&&l&4&&hd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(un(n,e),hn(e),l&512&&(kt||a===null||As(a,a.return)),e.flags&32){u=e.stateNode;try{on(u,"")}catch(oe){Ze(e,e.return,oe)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,hd(e,u,a!==null?a.memoizedProps:u)),l&1024&&(md=!0);break;case 6:if(un(n,e),hn(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(oe){Ze(e,e.return,oe)}}break;case 3:if(Kc=null,u=ns,ns=Qc(n.containerInfo),un(n,e),ns=u,hn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ri(n.containerInfo)}catch(oe){Ze(e,e.return,oe)}md&&(md=!1,Mp(e));break;case 4:l=ns,ns=Qc(e.stateNode.containerInfo),un(n,e),hn(e),ns=l;break;case 12:un(n,e),hn(e);break;case 31:un(n,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Dc(e,l)));break;case 13:un(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vc=nn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Dc(e,l)));break;case 22:u=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,P=Qs,Y=kt;if(Qs=P||u,kt=Y||C,un(n,e),kt=Y,Qs=P,hn(e),l&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(a===null||C||Qs||kt||Rr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,u)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=C.stateNode;var $=C.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(oe){Ze(C,C.return,oe)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=u?"":C.memoizedProps}catch(oe){Ze(C,C.return,oe)}}}else if(n.tag===18){if(a===null){C=n;try{var Q=C.stateNode;u?N0(Q,!0):N0(C.stateNode,!1)}catch(oe){Ze(C,C.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Dc(e,a))));break;case 19:un(n,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Dc(e,l)));break;case 30:break;case 21:break;default:un(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(Sp(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var u=a.stateNode,f=dd(e);Cc(e,f,u);break;case 5:var y=a.stateNode;a.flags&32&&(on(y,""),a.flags&=-33);var E=dd(e);Cc(e,E,y);break;case 3:case 4:var C=a.stateNode.containerInfo,P=dd(e);fd(e,P,C);break;default:throw Error(i(161))}}catch(Y){Ze(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Mp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Mp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ks(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)jp(e,n.alternate,n),n=n.sibling}function Rr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:wa(4,n,n.return),Rr(n);break;case 1:As(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Np(n,n.return,a),Rr(n);break;case 27:Gl(n.stateNode);case 26:case 5:As(n,n.return),Rr(n);break;case 22:n.memoizedState===null&&Rr(n);break;case 30:Rr(n);break;default:Rr(n)}e=e.sibling}}function Xs(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Xs(u,f,a),Ol(4,f);break;case 1:if(Xs(u,f,a),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(P){Ze(l,l.return,P)}if(l=f,u=l.updateQueue,u!==null){var E=l.stateNode;try{var C=u.shared.hiddenCallbacks;if(C!==null)for(u.shared.hiddenCallbacks=null,u=0;u<C.length;u++)fg(C[u],E)}catch(P){Ze(l,l.return,P)}}a&&y&64&&wp(f),Ml(f,f.return);break;case 27:kp(f);case 26:case 5:Xs(u,f,a),a&&l===null&&y&4&&Ap(f),Ml(f,f.return);break;case 12:Xs(u,f,a);break;case 31:Xs(u,f,a),a&&y&4&&Ip(u,f);break;case 13:Xs(u,f,a),a&&y&4&&Vp(u,f);break;case 22:f.memoizedState===null&&Xs(u,f,a),Ml(f,f.return);break;case 30:break;default:Xs(u,f,a)}n=n.sibling}}function gd(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&El(a))}function pd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&El(e))}function ss(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Up(e,n,a,l),n=n.sibling}function Up(e,n,a,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:ss(e,n,a,l),u&2048&&Ol(9,n);break;case 1:ss(e,n,a,l);break;case 3:ss(e,n,a,l),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&El(e)));break;case 12:if(u&2048){ss(e,n,a,l),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Ze(n,n.return,C)}}else ss(e,n,a,l);break;case 31:ss(e,n,a,l);break;case 13:ss(e,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ss(e,n,a,l):Ul(e,n):f._visibility&2?ss(e,n,a,l):(f._visibility|=2,xi(e,n,a,l,(n.subtreeFlags&10256)!==0||!1)),u&2048&&gd(y,n);break;case 24:ss(e,n,a,l),u&2048&&pd(n.alternate,n);break;default:ss(e,n,a,l)}}function xi(e,n,a,l,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=a,C=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:xi(f,y,E,C,u),Ol(8,y);break;case 23:break;case 22:var Y=y.stateNode;y.memoizedState!==null?Y._visibility&2?xi(f,y,E,C,u):Ul(f,y):(Y._visibility|=2,xi(f,y,E,C,u)),u&&P&2048&&gd(y.alternate,y);break;case 24:xi(f,y,E,C,u),u&&P&2048&&pd(y.alternate,y);break;default:xi(f,y,E,C,u)}n=n.sibling}}function Ul(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,u=l.flags;switch(l.tag){case 22:Ul(a,l),u&2048&&gd(l.alternate,l);break;case 24:Ul(a,l),u&2048&&pd(l.alternate,l);break;default:Ul(a,l)}n=n.sibling}}var Ll=8192;function bi(e,n,a){if(e.subtreeFlags&Ll)for(e=e.child;e!==null;)Lp(e,n,a),e=e.sibling}function Lp(e,n,a){switch(e.tag){case 26:bi(e,n,a),e.flags&Ll&&e.memoizedState!==null&&p1(a,ns,e.memoizedState,e.memoizedProps);break;case 5:bi(e,n,a);break;case 3:case 4:var l=ns;ns=Qc(e.stateNode.containerInfo),bi(e,n,a),ns=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ll,Ll=16777216,bi(e,n,a),Ll=l):bi(e,n,a));break;default:bi(e,n,a)}}function zp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function zl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Lt=l,Pp(l,e)}zp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bp(e),e=e.sibling}function Bp(e){switch(e.tag){case 0:case 11:case 15:zl(e),e.flags&2048&&wa(9,e,e.return);break;case 3:zl(e);break;case 12:zl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ic(e)):zl(e);break;default:zl(e)}}function Ic(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Lt=l,Pp(l,e)}zp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:wa(8,n,n.return),Ic(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ic(n));break;default:Ic(n)}e=e.sibling}}function Pp(e,n){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:wa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=e;Lt!==null;){l=Lt;var u=l.sibling,f=l.return;if(Cp(l),l===a){Lt=null;break e}if(u!==null){u.return=f,Lt=u;break e}Lt=f}}}var Cv={getCacheForType:function(e){var n=Gt(Nt),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Gt(Nt).controller.signal}},Dv=typeof WeakMap=="function"?WeakMap:Map,Ge=0,nt=null,je=null,De=0,$e=0,wn=null,Na=!1,_i=!1,yd=!1,$s=0,dt=0,Aa=0,jr=0,xd=0,Nn=0,vi=0,Bl=null,dn=null,bd=!1,Vc=0,qp=0,Oc=1/0,Mc=null,Sa=null,Vt=0,ka=null,Ei=null,Zs=0,_d=0,vd=null,Hp=null,Pl=0,Ed=null;function An(){return(Ge&2)!==0&&De!==0?De&-De:D.T!==null?kd():Uo()}function Fp(){if(Nn===0)if((De&536870912)===0||Le){var e=sr;sr<<=1,(sr&3932160)===0&&(sr=262144),Nn=e}else Nn=536870912;return e=En.current,e!==null&&(e.flags|=32),Nn}function fn(e,n,a){(e===nt&&($e===2||$e===9)||e.cancelPendingCommit!==null)&&(Ti(e,0),Ra(e,De,Nn,!1)),ar(e,a),((Ge&2)===0||e!==nt)&&(e===nt&&((Ge&2)===0&&(jr|=a),dt===4&&Ra(e,De,Nn,!1)),Ss(e))}function Gp(e,n,a){if((Ge&6)!==0)throw Error(i(327));var l=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Yn(e,n),u=l?Ov(e,n):wd(e,n,!0),f=l;do{if(u===0){_i&&!l&&Ra(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!Iv(a)){u=wd(e,n,!1),f=!1;continue}if(u===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var E=e;u=Bl;var C=E.current.memoizedState.isDehydrated;if(C&&(Ti(E,y).flags|=256),y=wd(E,y,!1),y!==2){if(yd&&!C){E.errorRecoveryDisabledLanes|=f,jr|=f,u=4;break e}f=dn,dn=u,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}u=y}if(f=!1,u!==2)continue}}if(u===1){Ti(e,0),Ra(e,n,0,!0);break}e:{switch(l=e,f=u,f){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:Ra(l,n,Nn,!Na);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(u=Vc+300-nn(),10<u)){if(Ra(l,n,Nn,!Na),cs(l,0,!0)!==0)break e;Zs=n,l.timeoutHandle=E0(Qp.bind(null,l,a,dn,Mc,bd,n,Nn,jr,vi,Na,f,"Throttled",-0,0),u);break e}Qp(l,a,dn,Mc,bd,n,Nn,jr,vi,Na,f,null,-0,0)}}break}while(!0);Ss(e)}function Qp(e,n,a,l,u,f,y,E,C,P,Y,$,q,Q){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},Lp(n,f,$);var oe=(f&62914560)===f?Vc-nn():(f&4194048)===f?qp-nn():0;if(oe=y1($,oe),oe!==null){Zs=f,e.cancelPendingCommit=oe(e0.bind(null,e,n,f,a,l,u,y,E,C,Y,$,null,q,Q)),Ra(e,f,y,!P);return}}e0(e,n,f,a,l,u,y,E,C)}function Iv(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var u=a[l],f=u.getSnapshot;u=u.value;try{if(!_n(f(),u))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ra(e,n,a,l){n&=~xd,n&=~jr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var u=n;0<u;){var f=31-gt(u),y=1<<f;l[f]=-1,u&=~y}a!==0&&rr(e,a,n)}function Uc(){return(Ge&6)===0?(ql(0),!1):!0}function Td(){if(je!==null){if($e===0)var e=je.return;else e=je,Bs=vr=null,zh(e),fi=null,wl=0,e=je;for(;e!==null;)Tp(e.alternate,e),e=e.return;je=null}}function Ti(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Wv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Zs=0,Td(),nt=e,je=a=Ls(e.current,null),De=n,$e=0,wn=null,Na=!1,_i=Yn(e,n),yd=!1,vi=Nn=xd=jr=Aa=dt=0,dn=Bl=null,bd=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var u=31-gt(l),f=1<<u;n|=e[u],l&=~f}return $s=n,ac(),a}function Yp(e,n){Se=null,D.H=Dl,n===di||n===dc?(n=cg(),$e=3):n===Sh?(n=cg(),$e=4):$e=n===td?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wn=n,je===null&&(dt=1,Ac(e,Mn(n,e.current)))}function Kp(){var e=En.current;return e===null?!0:(De&4194048)===De?Bn===null:(De&62914560)===De||(De&536870912)!==0?e===Bn:!1}function Xp(){var e=D.H;return D.H=Dl,e===null?Dl:e}function $p(){var e=D.A;return D.A=Cv,e}function Lc(){dt=4,Na||(De&4194048)!==De&&En.current!==null||(_i=!0),(Aa&134217727)===0&&(jr&134217727)===0||nt===null||Ra(nt,De,Nn,!1)}function wd(e,n,a){var l=Ge;Ge|=2;var u=Xp(),f=$p();(nt!==e||De!==n)&&(Mc=null,Ti(e,n)),n=!1;var y=dt;e:do try{if($e!==0&&je!==null){var E=je,C=wn;switch($e){case 8:Td(),y=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var P=$e;if($e=0,wn=null,wi(e,E,C,P),a&&_i){y=0;break e}break;default:P=$e,$e=0,wn=null,wi(e,E,C,P)}}Vv(),y=dt;break}catch(Y){Yp(e,Y)}while(!0);return n&&e.shellSuspendCounter++,Bs=vr=null,Ge=l,D.H=u,D.A=f,je===null&&(nt=null,De=0,ac()),y}function Vv(){for(;je!==null;)Zp(je)}function Ov(e,n){var a=Ge;Ge|=2;var l=Xp(),u=$p();nt!==e||De!==n?(Mc=null,Oc=nn()+500,Ti(e,n)):_i=Yn(e,n);e:do try{if($e!==0&&je!==null){n=je;var f=wn;t:switch($e){case 1:$e=0,wn=null,wi(e,n,f,1);break;case 2:case 9:if(lg(f)){$e=0,wn=null,Jp(n);break}n=function(){$e!==2&&$e!==9||nt!==e||($e=7),Ss(e)},f.then(n,n);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:lg(f)?($e=0,wn=null,Jp(n)):($e=0,wn=null,wi(e,n,f,7));break;case 5:var y=null;switch(je.tag){case 26:y=je.memoizedState;case 5:case 27:var E=je;if(y?U0(y):E.stateNode.complete){$e=0,wn=null;var C=E.sibling;if(C!==null)je=C;else{var P=E.return;P!==null?(je=P,zc(P)):je=null}break t}}$e=0,wn=null,wi(e,n,f,5);break;case 6:$e=0,wn=null,wi(e,n,f,6);break;case 8:Td(),dt=6;break e;default:throw Error(i(462))}}Mv();break}catch(Y){Yp(e,Y)}while(!0);return Bs=vr=null,D.H=l,D.A=u,Ge=a,je!==null?0:(nt=null,De=0,ac(),dt)}function Mv(){for(;je!==null&&!eh();)Zp(je)}function Zp(e){var n=vp(e.alternate,e,$s);e.memoizedProps=e.pendingProps,n===null?zc(e):je=n}function Jp(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=gp(a,n,n.pendingProps,n.type,void 0,De);break;case 11:n=gp(a,n,n.pendingProps,n.type.render,n.ref,De);break;case 5:zh(n);default:Tp(a,n),n=je=$m(n,$s),n=vp(a,n,$s)}e.memoizedProps=e.pendingProps,n===null?zc(e):je=n}function wi(e,n,a,l){Bs=vr=null,zh(n),fi=null,wl=0;var u=n.return;try{if(wv(e,u,n,a,De)){dt=1,Ac(e,Mn(a,e.current)),je=null;return}}catch(f){if(u!==null)throw je=u,f;dt=1,Ac(e,Mn(a,e.current)),je=null;return}n.flags&32768?(Le||l===1?e=!0:_i||(De&536870912)!==0?e=!1:(Na=e=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),Wp(n,e)):zc(n)}function zc(e){var n=e;do{if((n.flags&32768)!==0){Wp(n,Na);return}e=n.return;var a=Sv(n.alternate,n,$s);if(a!==null){je=a;return}if(n=n.sibling,n!==null){je=n;return}je=n=e}while(n!==null);dt===0&&(dt=5)}function Wp(e,n){do{var a=kv(e.alternate,e);if(a!==null){a.flags&=32767,je=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){je=e;return}je=e=a}while(e!==null);dt=6,je=null}function e0(e,n,a,l,u,f,y,E,C){e.cancelPendingCommit=null;do Bc();while(Vt!==0);if((Ge&6)!==0)throw Error(i(327));if(n!==null){if(n===e.current)throw Error(i(177));if(f=n.lanes|n.childLanes,f|=dh,sh(e,a,f,y,E,C),e===nt&&(je=nt=null,De=0),Ei=n,ka=e,Zs=a,_d=f,vd=u,Hp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Bv(ra,function(){return r0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=D.T,D.T=null,u=W.p,W.p=2,y=Ge,Ge|=4;try{Rv(e,n,a)}finally{Ge=y,W.p=u,D.T=l}}Vt=1,t0(),n0(),s0()}}function t0(){if(Vt===1){Vt=0;var e=ka,n=Ei,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var l=W.p;W.p=2;var u=Ge;Ge|=4;try{Op(n,e);var f=Md,y=Pm(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Bm(E.ownerDocument.documentElement,E)){if(C!==null&&lh(E)){var P=C.start,Y=C.end;if(Y===void 0&&(Y=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Y,E.value.length);else{var $=E.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var Q=q.getSelection(),oe=E.textContent.length,ye=Math.min(C.start,oe),tt=C.end===void 0?ye:Math.min(C.end,oe);!Q.extend&&ye>tt&&(y=tt,tt=ye,ye=y);var U=zm(E,ye),O=zm(E,tt);if(U&&O&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var B=$.createRange();B.setStart(U.node,U.offset),Q.removeAllRanges(),ye>tt?(Q.addRange(B),Q.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),Q.addRange(B))}}}}for($=[],Q=E;Q=Q.parentNode;)Q.nodeType===1&&$.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var K=$[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Jc=!!Od,Md=Od=null}finally{Ge=u,W.p=l,D.T=a}}e.current=n,Vt=2}}function n0(){if(Vt===2){Vt=0;var e=ka,n=Ei,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var l=W.p;W.p=2;var u=Ge;Ge|=4;try{jp(e,n.alternate,n)}finally{Ge=u,W.p=l,D.T=a}}Vt=3}}function s0(){if(Vt===4||Vt===3){Vt=0,jo();var e=ka,n=Ei,a=Zs,l=Hp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Vt=5:(Vt=0,Ei=ka=null,a0(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Sa=null),Vs(a),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Qn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=D.T,u=W.p,W.p=2,D.T=null;try{for(var f=e.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{D.T=n,W.p=u}}(Zs&3)!==0&&Bc(),Ss(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===Ed?Pl++:(Pl=0,Ed=e):Pl=0,ql(0)}}function a0(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,El(n)))}function Bc(){return t0(),n0(),s0(),r0()}function r0(){if(Vt!==5)return!1;var e=ka,n=_d;_d=0;var a=Vs(Zs),l=D.T,u=W.p;try{W.p=32>a?32:a,D.T=null,a=vd,vd=null;var f=ka,y=Zs;if(Vt=0,Ei=ka=null,Zs=0,(Ge&6)!==0)throw Error(i(331));var E=Ge;if(Ge|=4,Bp(f.current),Up(f,f.current,y,a),Ge=E,ql(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Qn,f)}catch{}return!0}finally{W.p=u,D.T=l,a0(e,n)}}function i0(e,n,a){n=Mn(a,n),n=ed(e.stateNode,n,2),e=va(e,n,2),e!==null&&(ar(e,2),Ss(e))}function Ze(e,n,a){if(e.tag===3)i0(e,e,a);else for(;n!==null;){if(n.tag===3){i0(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Sa===null||!Sa.has(l))){e=Mn(a,e),a=lp(2),l=va(n,a,2),l!==null&&(op(a,l,n,e),ar(l,2),Ss(l));break}}n=n.return}}function Nd(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Dv;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(a)||(yd=!0,u.add(a),e=Uv.bind(null,e,n,a),n.then(e,e))}function Uv(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,nt===e&&(De&a)===a&&(dt===4||dt===3&&(De&62914560)===De&&300>nn()-Vc?(Ge&2)===0&&Ti(e,0):xd|=a,vi===De&&(vi=0)),Ss(e)}function l0(e,n){n===0&&(n=Mo()),e=xr(e,n),e!==null&&(ar(e,n),Ss(e))}function Lv(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),l0(e,a)}function zv(e,n){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(n),l0(e,a)}function Bv(e,n){return It(e,n)}var Pc=null,Ni=null,Ad=!1,qc=!1,Sd=!1,ja=0;function Ss(e){e!==Ni&&e.next===null&&(Ni===null?Pc=Ni=e:Ni=Ni.next=e),qc=!0,Ad||(Ad=!0,qv())}function ql(e,n){if(!Sd&&qc){Sd=!0;do for(var a=!1,l=Pc;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-gt(42|e)+1)-1,f&=u&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,h0(l,f))}else f=De,f=cs(l,l===nt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Yn(l,f)||(a=!0,h0(l,f));l=l.next}while(a);Sd=!1}}function Pv(){o0()}function o0(){qc=Ad=!1;var e=0;ja!==0&&Jv()&&(e=ja);for(var n=nn(),a=null,l=Pc;l!==null;){var u=l.next,f=c0(l,n);f===0?(l.next=null,a===null?Pc=u:a.next=u,u===null&&(Ni=a)):(a=l,(e!==0||(f&3)!==0)&&(qc=!0)),l=u}Vt!==0&&Vt!==5||ql(e),ja!==0&&(ja=0)}function c0(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-gt(f),E=1<<y,C=u[y];C===-1?((E&a)===0||(E&l)!==0)&&(u[y]=nh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=nt,a=De,a=cs(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&($e===2||$e===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&aa(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&aa(l),Vs(a)){case 2:case 8:a=Ji;break;case 32:a=ra;break;case 268435456:a=Co;break;default:a=ra}return l=u0.bind(null,e),a=It(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&aa(l),e.callbackPriority=2,e.callbackNode=null,2}function u0(e,n){if(Vt!==0&&Vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Bc()&&e.callbackNode!==a)return null;var l=De;return l=cs(e,e===nt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Gp(e,l,n),c0(e,nn()),e.callbackNode!=null&&e.callbackNode===a?u0.bind(null,e):null)}function h0(e,n){if(Bc())return null;Gp(e,n,!0)}function qv(){e1(function(){(Ge&6)!==0?It(Zi,Pv):o0()})}function kd(){if(ja===0){var e=ui;e===0&&(e=ls,ls<<=1,(ls&261888)===0&&(ls=256)),ja=e}return ja}function d0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xr(""+e)}function f0(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function Hv(e,n,a,l,u){if(n==="submit"&&a&&a.stateNode===u){var f=d0((u[Mt]||null).action),y=l.submitter;y&&(n=(n=y[Mt]||null)?d0(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new _s("action","action",null,l,u);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ja!==0){var C=y?f0(u,y):new FormData(u);Kh(a,{pending:!0,data:C,method:u.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=y?f0(u,y):new FormData(u),Kh(a,{pending:!0,data:C,method:u.method,action:f},f,C))},currentTarget:u}]})}}for(var Rd=0;Rd<hh.length;Rd++){var jd=hh[Rd],Fv=jd.toLowerCase(),Gv=jd[0].toUpperCase()+jd.slice(1);ts(Fv,"on"+Gv)}ts(Fm,"onAnimationEnd"),ts(Gm,"onAnimationIteration"),ts(Qm,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(lv,"onTransitionRun"),ts(ov,"onTransitionStart"),ts(cv,"onTransitionCancel"),ts(Ym,"onTransitionEnd"),ps("onMouseEnter",["mouseout","mouseover"]),ps("onMouseLeave",["mouseout","mouseover"]),ps("onPointerEnter",["pointerout","pointerover"]),ps("onPointerLeave",["pointerout","pointerover"]),gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gs("onBeforeInput",["compositionend","keypress","textInput","paste"]),gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function m0(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],u=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],C=E.instance,P=E.currentTarget;if(E=E.listener,C!==f&&u.isPropagationStopped())break e;f=E,u.currentTarget=P;try{f(u)}catch(Y){sc(Y)}u.currentTarget=null,f=C}else for(y=0;y<l.length;y++){if(E=l[y],C=E.instance,P=E.currentTarget,E=E.listener,C!==f&&u.isPropagationStopped())break e;f=E,u.currentTarget=P;try{f(u)}catch(Y){sc(Y)}u.currentTarget=null,f=C}}}}function Ce(e,n){var a=n[Fr];a===void 0&&(a=n[Fr]=new Set);var l=e+"__bubble";a.has(l)||(g0(n,e,2,!1),a.add(l))}function Cd(e,n,a){var l=0;n&&(l|=4),g0(a,e,l,n)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function Dd(e){if(!e[Hc]){e[Hc]=!0,tl.forEach(function(a){a!=="selectionchange"&&(Qv.has(a)||Cd(a,!1,e),Cd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Hc]||(n[Hc]=!0,Cd("selectionchange",!1,n))}}function g0(e,n,a,l){switch(F0(n)){case 2:var u=_1;break;case 8:u=v1;break;default:u=Yd}a=u.bind(null,n,a,e),u=void 0,!ur||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,a,{capture:!0,passive:u}):e.addEventListener(n,a,!0):u!==void 0?e.addEventListener(n,a,{passive:u}):e.addEventListener(n,a,!1)}function Id(e,n,a,l,u){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===u)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;E!==null;){if(y=fs(E),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=f=y;continue e}E=E.parentNode}}l=l.return}ha(function(){var P=f,Y=Dn(a),$=[];e:{var q=Km.get(e);if(q!==void 0){var Q=_s,oe=e;switch(e){case"keypress":if(dr(a)===0)break e;case"keydown":case"keyup":Q=ec;break;case"focusin":oe="focus",Q=mr;break;case"focusout":oe="blur",Q=mr;break;case"beforeblur":case"afterblur":Q=mr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Go;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=g;break;case Fm:case Gm:case Qm:Q=Yo;break;case Ym:Q=w;break;case"scroll":case"scrollend":Q=fl;break;case"wheel":Q=F;break;case"copy":case"cut":case"paste":Q=Ko;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Us;break;case"toggle":case"beforetoggle":Q=Ae}var ye=(n&4)!==0,tt=!ye&&(e==="scroll"||e==="scrollend"),U=ye?q!==null?q+"Capture":null:q;ye=[];for(var O=P,B;O!==null;){var K=O;if(B=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||B===null||U===null||(K=Zn(O,U),K!=null&&ye.push(Fl(O,K,B))),tt)break;O=O.return}0<ye.length&&(q=new Q(q,oe,null,a,Y),$.push({event:q,listeners:ye}))}}if((n&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",q&&a!==ul&&(oe=a.relatedTarget||a.fromElement)&&(fs(oe)||oe[hs]))break e;if((Q||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(oe=a.relatedTarget||a.toElement,Q=P,oe=oe?fs(oe):null,oe!==null&&(tt=h(oe),ye=oe.tag,oe!==tt||ye!==5&&ye!==27&&ye!==6)&&(oe=null)):(Q=null,oe=P),Q!==oe)){if(ye=ml,K="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ye=Us,K="onPointerLeave",U="onPointerEnter",O="pointer"),tt=Q==null?q:xn(Q),B=oe==null?q:xn(oe),q=new ye(K,O+"leave",Q,a,Y),q.target=tt,q.relatedTarget=B,K=null,fs(Y)===P&&(ye=new ye(U,O+"enter",oe,a,Y),ye.target=B,ye.relatedTarget=tt,K=ye),tt=K,Q&&oe)t:{for(ye=Yv,U=Q,O=oe,B=0,K=U;K;K=ye(K))B++;K=0;for(var ge=O;ge;ge=ye(ge))K++;for(;0<B-K;)U=ye(U),B--;for(;0<K-B;)O=ye(O),K--;for(;B--;){if(U===O||O!==null&&U===O.alternate){ye=U;break t}U=ye(U),O=ye(O)}ye=null}else ye=null;Q!==null&&p0($,q,Q,ye,!1),oe!==null&&tt!==null&&p0($,tt,oe,ye,!0)}}e:{if(q=P?xn(P):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var qe=Im;else if(Cm(q))if(Vm)qe=av;else{qe=nv;var he=tv}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?P&&Kr(P.elementType)&&(qe=Im):qe=sv;if(qe&&(qe=qe(e,P))){Dm($,qe,a,Y);break e}he&&he(e,q,P),e==="focusout"&&P&&q.type==="number"&&P.memoizedProps.value!=null&&ll(q,"number",q.value)}switch(he=P?xn(P):window,e){case"focusin":(Cm(he)||he.contentEditable==="true")&&(ni=he,oh=P,bl=null);break;case"focusout":bl=oh=ni=null;break;case"mousedown":ch=!0;break;case"contextmenu":case"mouseup":case"dragend":ch=!1,qm($,a,Y);break;case"selectionchange":if(iv)break;case"keydown":case"keyup":qm($,a,Y)}var ke;if(Fe)e:{switch(e){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else ti?gr(e,a)&&(Ie="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(Ts&&a.locale!=="ko"&&(ti||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&ti&&(ke=dl()):(bs=Y,hl="value"in bs?bs.value:bs.textContent,ti=!0)),he=Fc(P,Ie),0<he.length&&(Ie=new Es(Ie,e,null,a,Y),$.push({event:Ie,listeners:he}),ke?Ie.data=ke:(ke=ei(a),ke!==null&&(Ie.data=ke)))),(ke=Vn?Z_(e,a):J_(e,a))&&(Ie=Fc(P,"onBeforeInput"),0<Ie.length&&(he=new Es("onBeforeInput","beforeinput",null,a,Y),$.push({event:he,listeners:Ie}),he.data=ke)),Hv($,e,P,a,Y)}m0($,n)})}function Fl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Fc(e,n){for(var a=n+"Capture",l=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Zn(e,a),u!=null&&l.unshift(Fl(e,u,f)),u=Zn(e,n),u!=null&&l.push(Fl(e,u,f))),e.tag===3)return l;e=e.return}return[]}function Yv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function p0(e,n,a,l,u){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,C=E.alternate,P=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||P===null||(C=P,u?(P=Zn(a,f),P!=null&&y.unshift(Fl(a,P,C))):u||(P=Zn(a,f),P!=null&&y.push(Fl(a,P,C)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var Kv=/\r\n?/g,Xv=/\u0000|\uFFFD/g;function y0(e){return(typeof e=="string"?e:""+e).replace(Kv,`
`).replace(Xv,"")}function x0(e,n){return n=y0(n),y0(e)===n}function et(e,n,a,l,u,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||on(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&on(e,""+l);break;case"className":bn(e,"class",l);break;case"tabIndex":bn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(e,a,l);break;case"style":cl(e,l,f);break;case"data":if(n!=="object"){bn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Xr(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&et(e,n,"name",u.name,u,null),et(e,n,"formEncType",u.formEncType,u,null),et(e,n,"formMethod",u.formMethod,u,null),et(e,n,"formTarget",u.formTarget,u,null)):(et(e,n,"encType",u.encType,u,null),et(e,n,"method",u.method,u,null),et(e,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Xr(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=$n);break;case"onScroll":l!=null&&Ce("scroll",e);break;case"onScrollEnd":l!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Xr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),Qr(e,"popover",l);break;case"xlinkActuate":wt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fo.get(a)||a,Qr(e,a,l))}}function Vd(e,n,a,l,u,f){switch(a){case"style":cl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof l=="string"?on(e,l):(typeof l=="number"||typeof l=="bigint")&&on(e,""+l);break;case"onScroll":l!=null&&Ce("scroll",e);break;case"onScrollEnd":l!=null&&Ce("scrollend",e);break;case"onClick":l!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),n=a.slice(2,u?a.length-7:void 0),f=e[Mt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,u);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Qr(e,a,l)}}}function Yt(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var l=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:et(e,n,f,y,a,null)}}u&&et(e,n,"srcSet",a.srcSet,a,null),l&&et(e,n,"src",a.src,a,null);return;case"input":Ce("invalid",e);var E=f=y=u=null,C=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":u=Y;break;case"type":y=Y;break;case"checked":C=Y;break;case"defaultChecked":P=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,n));break;default:et(e,n,l,Y,a,null)}}Po(e,f,E,C,P,y,u,!1);return;case"select":Ce("invalid",e),l=y=f=null;for(u in a)if(a.hasOwnProperty(u)&&(E=a[u],E!=null))switch(u){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:et(e,n,u,E,a,null)}n=f,a=y,e.multiple=!!l,n!=null?la(e,!!l,n,!1):a!=null&&la(e,!!l,a,!0);return;case"textarea":Ce("invalid",e),f=u=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":u=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:et(e,n,y,E,a,null)}oa(e,l,u,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(e,n,C,l,a,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(l=0;l<Hl.length;l++)Ce(Hl[l],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:et(e,n,P,l,a,null)}return;default:if(Kr(n)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Vd(e,n,Y,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&et(e,n,E,l,a,null))}function $v(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,y=null,E=null,C=null,P=null,Y=null;for(Q in a){var $=a[Q];if(a.hasOwnProperty(Q)&&$!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=$;default:l.hasOwnProperty(Q)||et(e,n,Q,null,l,$)}}for(var q in l){var Q=l[q];if($=a[q],l.hasOwnProperty(q)&&(Q!=null||$!=null))switch(q){case"type":f=Q;break;case"name":u=Q;break;case"checked":P=Q;break;case"defaultChecked":Y=Q;break;case"value":y=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,n));break;default:Q!==$&&et(e,n,q,Q,l,$)}}Yr(e,y,E,C,P,Y,f,u);return;case"select":Q=y=E=q=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":Q=C;default:l.hasOwnProperty(f)||et(e,n,f,null,l,C)}for(u in l)if(f=l[u],C=a[u],l.hasOwnProperty(u)&&(f!=null||C!=null))switch(u){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==C&&et(e,n,u,f,l,C)}n=E,a=y,l=Q,q!=null?la(e,!!a,q,!1):!!l!=!!a&&(n!=null?la(e,!!a,n,!0):la(e,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(E in a)if(u=a[E],a.hasOwnProperty(E)&&u!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:et(e,n,E,null,l,u)}for(y in l)if(u=l[y],f=a[y],l.hasOwnProperty(y)&&(u!=null||f!=null))switch(y){case"value":q=u;break;case"defaultValue":Q=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==f&&et(e,n,y,u,l,f)}qo(e,q,Q);return;case"option":for(var oe in a)if(q=a[oe],a.hasOwnProperty(oe)&&q!=null&&!l.hasOwnProperty(oe))switch(oe){case"selected":e.selected=!1;break;default:et(e,n,oe,null,l,q)}for(C in l)if(q=l[C],Q=a[C],l.hasOwnProperty(C)&&q!==Q&&(q!=null||Q!=null))switch(C){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:et(e,n,C,q,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye)&&et(e,n,ye,null,l,q);for(P in l)if(q=l[P],Q=a[P],l.hasOwnProperty(P)&&q!==Q&&(q!=null||Q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,n));break;default:et(e,n,P,q,l,Q)}return;default:if(Kr(n)){for(var tt in a)q=a[tt],a.hasOwnProperty(tt)&&q!==void 0&&!l.hasOwnProperty(tt)&&Vd(e,n,tt,void 0,l,q);for(Y in l)q=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||q===Q||q===void 0&&Q===void 0||Vd(e,n,Y,q,l,Q);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&et(e,n,U,null,l,q);for($ in l)q=l[$],Q=a[$],!l.hasOwnProperty($)||q===Q||q==null&&Q==null||et(e,n,$,q,l,Q)}function b0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var u=a[l],f=u.transferSize,y=u.initiatorType,E=u.duration;if(f&&E&&b0(y)){for(y=0,E=u.responseEnd,l+=1;l<a.length;l++){var C=a[l],P=C.startTime;if(P>E)break;var Y=C.transferSize,$=C.initiatorType;Y&&b0($)&&(C=C.responseEnd,y+=Y*(C<E?1:(E-P)/(C-P)))}if(--l,n+=8*(f+y)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Od=null,Md=null;function Gc(e){return e.nodeType===9?e:e.ownerDocument}function _0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v0(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ud(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ld=null;function Jv(){var e=window.event;return e&&e.type==="popstate"?e===Ld?!1:(Ld=e,!0):(Ld=null,!1)}var E0=typeof setTimeout=="function"?setTimeout:void 0,Wv=typeof clearTimeout=="function"?clearTimeout:void 0,T0=typeof Promise=="function"?Promise:void 0,e1=typeof queueMicrotask=="function"?queueMicrotask:typeof T0<"u"?function(e){return T0.resolve(null).then(e).catch(t1)}:E0;function t1(e){setTimeout(function(){throw e})}function Ca(e){return e==="head"}function w0(e,n){var a=n,l=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(u),Ri(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Gl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Gl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[ds]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&Gl(e.ownerDocument.body);a=u}while(a);Ri(n)}function N0(e,n){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function zd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zd(a),Gr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function n1(e,n,a,l){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ds])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function s1(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function A0(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pn(e.nextSibling),e===null))return null;return e}function Bd(e){return e.data==="$?"||e.data==="$~"}function Pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function a1(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var qd=null;function S0(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Pn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function k0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function R0(e,n,a){switch(n=Gc(a),e){case"html":if(e=n.documentElement,!e)throw Error(i(452));return e;case"head":if(e=n.head,!e)throw Error(i(453));return e;case"body":if(e=n.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Gl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Gr(e)}var qn=new Map,j0=new Set;function Qc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Js=W.d;W.d={f:r1,r:i1,D:l1,C:o1,L:c1,m:u1,X:d1,S:h1,M:f1};function r1(){var e=Js.f(),n=Uc();return e||n}function i1(e){var n=Cn(e);n!==null&&n.tag===5&&n.type==="form"?Yg(n):Js.r(e)}var Ai=typeof document>"u"?null:document;function C0(e,n,a){var l=Ai;if(l&&typeof n=="string"&&n){var u=ln(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),j0.has(u)||(j0.add(u),e={rel:e,crossOrigin:a,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),Yt(n,"link",e),Tt(n),l.head.appendChild(n)))}}function l1(e){Js.D(e),C0("dns-prefetch",e,null)}function o1(e,n){Js.C(e,n),C0("preconnect",e,n)}function c1(e,n,a){Js.L(e,n,a);var l=Ai;if(l&&e&&n){var u='link[rel="preload"][as="'+ln(n)+'"]';n==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+ln(a.imageSizes)+'"]')):u+='[href="'+ln(e)+'"]';var f=u;switch(n){case"style":f=Si(e);break;case"script":f=ki(e)}qn.has(f)||(e=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),qn.set(f,e),l.querySelector(u)!==null||n==="style"&&l.querySelector(Ql(f))||n==="script"&&l.querySelector(Yl(f))||(n=l.createElement("link"),Yt(n,"link",e),Tt(n),l.head.appendChild(n)))}}function u1(e,n){Js.m(e,n);var a=Ai;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(e)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ki(e)}if(!qn.has(f)&&(e=T({rel:"modulepreload",href:e},n),qn.set(f,e),a.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yl(f)))return}l=a.createElement("link"),Yt(l,"link",e),Tt(l),a.head.appendChild(l)}}}function h1(e,n,a){Js.S(e,n,a);var l=Ai;if(l&&e){var u=ms(l).hoistableStyles,f=Si(e);n=n||"default";var y=u.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Ql(f)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},a),(a=qn.get(f))&&Hd(e,a);var C=y=l.createElement("link");Tt(C),Yt(C,"link",e),C._p=new Promise(function(P,Y){C.onload=P,C.onerror=Y}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Yc(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},u.set(f,y)}}}function d1(e,n){Js.X(e,n);var a=Ai;if(a&&e){var l=ms(a).hoistableScripts,u=ki(e),f=l.get(u);f||(f=a.querySelector(Yl(u)),f||(e=T({src:e,async:!0},n),(n=qn.get(u))&&Fd(e,n),f=a.createElement("script"),Tt(f),Yt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function f1(e,n){Js.M(e,n);var a=Ai;if(a&&e){var l=ms(a).hoistableScripts,u=ki(e),f=l.get(u);f||(f=a.querySelector(Yl(u)),f||(e=T({src:e,async:!0,type:"module"},n),(n=qn.get(u))&&Fd(e,n),f=a.createElement("script"),Tt(f),Yt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function D0(e,n,a,l){var u=(u=me.current)?Qc(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Si(a.href),a=ms(u).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Si(a.href);var f=ms(u).hoistableStyles,y=f.get(e);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=u.querySelector(Ql(e)))&&!f._p&&(y.instance=f,y.state.loading=5),qn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(e,a),f||m1(u,e,a,y.state))),n&&l===null)throw Error(i(528,""));return y}if(n&&l!==null)throw Error(i(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ki(a),a=ms(u).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Si(e){return'href="'+ln(e)+'"'}function Ql(e){return'link[rel="stylesheet"]['+e+"]"}function I0(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function m1(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Yt(n,"link",a),Tt(n),e.head.appendChild(n))}function ki(e){return'[src="'+ln(e)+'"]'}function Yl(e){return"script[async]"+e}function V0(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return n.instance=l,Tt(l),l;var u=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Tt(l),Yt(l,"style",u),Yc(l,a.precedence,e),n.instance=l;case"stylesheet":u=Si(a.href);var f=e.querySelector(Ql(u));if(f)return n.state.loading|=4,n.instance=f,Tt(f),f;l=I0(a),(u=qn.get(u))&&Hd(l,u),f=(e.ownerDocument||e).createElement("link"),Tt(f);var y=f;return y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),Yt(f,"link",l),n.state.loading|=4,Yc(f,a.precedence,e),n.instance=f;case"script":return f=ki(a.src),(u=e.querySelector(Yl(f)))?(n.instance=u,Tt(u),u):(l=a,(u=qn.get(f))&&(l=T({},a),Fd(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Tt(u),Yt(u,"link",l),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Yc(l,a.precedence,e));return n.instance}function Yc(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Fd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Kc=null;function O0(e,n,a){if(Kc===null){var l=new Map,u=Kc=new Map;u.set(a,l)}else u=Kc,l=u.get(a),l||(l=new Map,u.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var f=a[u];if(!(f[ds]||f[Et]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function M0(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function g1(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function U0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function p1(e,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=Si(l.href),f=n.querySelector(Ql(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Xc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Tt(f);return}f=n.ownerDocument||n,l=I0(l),(u=qn.get(u))&&Hd(l,u),f=f.createElement("link"),Tt(f);var y=f;y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),Yt(f,"link",l),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Xc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Gd=0;function y1(e,n){return e.stylesheets&&e.count===0&&Zc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Zc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Gd===0&&(Gd=62500*Zv());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Gd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function Xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $c=null;function Zc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$c=new Map,n.forEach(x1,e),$c=null,Xc.call(e))}function x1(e,n){if(!(n.state.loading&4)){var a=$c.get(e);if(a)var l=a.get(null);else{a=new Map,$c.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var y=u[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}u=n.instance,y=u.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,u),a.set(y,u),this.count++,l=Xc.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var Kl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function b1(e,n,a,l,u,f,y,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=us(0),this.hiddenUpdates=us(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function L0(e,n,a,l,u,f,y,E,C,P,Y,$){return e=new b1(e,n,a,y,C,P,Y,$,E),n=1,f===!0&&(n|=24),f=vn(3,null,null,n),e.current=f,f.stateNode=e,n=wh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},kh(f),e}function z0(e){return e?(e=ri,e):ri}function B0(e,n,a,l,u,f){u=z0(u),l.context===null?l.context=u:l.pendingContext=u,l=_a(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=va(e,l,n),a!==null&&(fn(a,e,n),Al(a,e,n))}function P0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Qd(e,n){P0(e,n),(e=e.alternate)&&P0(e,n)}function q0(e){if(e.tag===13||e.tag===31){var n=xr(e,67108864);n!==null&&fn(n,e,67108864),Qd(e,67108864)}}function H0(e){if(e.tag===13||e.tag===31){var n=An();n=ir(n);var a=xr(e,n);a!==null&&fn(a,e,n),Qd(e,n)}}var Jc=!0;function _1(e,n,a,l){var u=D.T;D.T=null;var f=W.p;try{W.p=2,Yd(e,n,a,l)}finally{W.p=f,D.T=u}}function v1(e,n,a,l){var u=D.T;D.T=null;var f=W.p;try{W.p=8,Yd(e,n,a,l)}finally{W.p=f,D.T=u}}function Yd(e,n,a,l){if(Jc){var u=Kd(l);if(u===null)Id(e,n,l,Wc,a),G0(e,l);else if(T1(u,e,n,a,l))l.stopPropagation();else if(G0(e,l),n&4&&-1<E1.indexOf(e)){for(;u!==null;){var f=Cn(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=os(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var C=1<<31-gt(y);E.entanglements[1]|=C,y&=~C}Ss(f),(Ge&6)===0&&(Oc=nn()+500,ql(0))}}break;case 31:case 13:E=xr(f,2),E!==null&&fn(E,f,2),Uc(),Qd(f,2)}if(f=Kd(l),f===null&&Id(e,n,l,Wc,a),f===u)break;u=f}u!==null&&l.stopPropagation()}else Id(e,n,l,null,a)}}function Kd(e){return e=Dn(e),Xd(e)}var Wc=null;function Xd(e){if(Wc=null,e=fs(e),e!==null){var n=h(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=m(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Wc=e,null}function F0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nr()){case Zi:return 2;case Ji:return 8;case ra:case th:return 32;case Co:return 268435456;default:return 32}default:return 32}}var $d=!1,Da=null,Ia=null,Va=null,Xl=new Map,$l=new Map,Oa=[],E1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G0(e,n){switch(e){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":Xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(n.pointerId)}}function Zl(e,n,a,l,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},n!==null&&(n=Cn(n),n!==null&&q0(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function T1(e,n,a,l,u){switch(n){case"focusin":return Da=Zl(Da,e,n,a,l,u),!0;case"dragenter":return Ia=Zl(Ia,e,n,a,l,u),!0;case"mouseover":return Va=Zl(Va,e,n,a,l,u),!0;case"pointerover":var f=u.pointerId;return Xl.set(f,Zl(Xl.get(f)||null,e,n,a,l,u)),!0;case"gotpointercapture":return f=u.pointerId,$l.set(f,Zl($l.get(f)||null,e,n,a,l,u)),!0}return!1}function Q0(e){var n=fs(e.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=m(a),n!==null){e.blockedOn=n,Kn(e.priority,function(){H0(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Kn(e.priority,function(){H0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Kd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ul=l,a.target.dispatchEvent(l),ul=null}else return n=Cn(a),n!==null&&q0(n),e.blockedOn=a,!1;n.shift()}return!0}function Y0(e,n,a){eu(e)&&a.delete(n)}function w1(){$d=!1,Da!==null&&eu(Da)&&(Da=null),Ia!==null&&eu(Ia)&&(Ia=null),Va!==null&&eu(Va)&&(Va=null),Xl.forEach(Y0),$l.forEach(Y0)}function tu(e,n){e.blockedOn===n&&(e.blockedOn=null,$d||($d=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,w1)))}var nu=null;function K0(e){nu!==e&&(nu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){nu===e&&(nu=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],u=e[n+2];if(typeof l!="function"){if(Xd(l||a)===null)continue;break}var f=Cn(a);f!==null&&(e.splice(n,3),n-=3,Kh(f,{pending:!0,data:u,method:a.method,action:l},l,u))}}))}function Ri(e){function n(C){return tu(C,e)}Da!==null&&tu(Da,e),Ia!==null&&tu(Ia,e),Va!==null&&tu(Va,e),Xl.forEach(n),$l.forEach(n);for(var a=0;a<Oa.length;a++){var l=Oa[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Oa.length&&(a=Oa[0],a.blockedOn===null);)Q0(a),a.blockedOn===null&&Oa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var u=a[l],f=a[l+1],y=u[Mt]||null;if(typeof f=="function")y||K0(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(u=f,y=f[Mt]||null)E=y.formAction;else if(Xd(u)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),K0(a)}}}function X0(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return u=y})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function Zd(e){this._internalRoot=e}su.prototype.render=Zd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));var a=n.current,l=An();B0(a,l,e,n,null,null)},su.prototype.unmount=Zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;B0(e.current,2,null,e,null,null),Uc(),n[hs]=null}};function su(e){this._internalRoot=e}su.prototype.unstable_scheduleHydration=function(e){if(e){var n=Uo();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Oa.length&&n!==0&&n<Oa[a].priority;a++);Oa.splice(a,0,e),a===0&&Q0(e)}};var $0=t.version;if($0!=="19.2.4")throw Error(i(527,$0,"19.2.4"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=b(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var N1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{Qn=au.inject(N1),qt=au}catch{}}return Wl.createRoot=function(e,n){if(!o(e))throw Error(i(299));var a=!1,l="",u=sp,f=ap,y=rp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=L0(e,1,!1,null,null,a,l,null,u,f,y,X0),e[hs]=n.current,Dd(e),new Zd(n)},Wl.hydrateRoot=function(e,n,a){if(!o(e))throw Error(i(299));var l=!1,u="",f=sp,y=ap,E=rp,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=L0(e,1,!0,n,a??null,l,u,C,f,y,E,X0),n.context=z0(null),a=n.current,l=An(),l=ir(l),u=_a(l),u.callback=null,va(a,u,l),a=l,n.current.lanes=a,ar(n,a),Ss(n),e[hs]=n.current,Dd(e),new su(n)},Wl.version="19.2.4",Wl}var iy;function M1(){if(iy)return ef.exports;iy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ef.exports=O1(),ef.exports}var U1=M1();const L1=Tx(U1),z1=()=>{};var ly={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=function(r){const t=[];let s=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?t[s++]=o:o<2048?(t[s++]=o>>6|192,t[s++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),t[s++]=o>>18|240,t[s++]=o>>12&63|128,t[s++]=o>>6&63|128,t[s++]=o&63|128):(t[s++]=o>>12|224,t[s++]=o>>6&63|128,t[s++]=o&63|128)}return t},B1=function(r){const t=[];let s=0,i=0;for(;s<r.length;){const o=r[s++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[s++];t[i++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[s++],m=r[s++],p=r[s++],x=((o&7)<<18|(h&63)<<12|(m&63)<<6|p&63)-65536;t[i++]=String.fromCharCode(55296+(x>>10)),t[i++]=String.fromCharCode(56320+(x&1023))}else{const h=r[s++],m=r[s++];t[i++]=String.fromCharCode((o&15)<<12|(h&63)<<6|m&63)}}return t.join("")},Nx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const h=r[o],m=o+1<r.length,p=m?r[o+1]:0,x=o+2<r.length,b=x?r[o+2]:0,v=h>>2,T=(h&3)<<4|p>>4;let R=(p&15)<<2|b>>6,L=b&63;x||(L=64,m||(R=64)),i.push(s[v],s[T],s[R],s[L])}return i.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(wx(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):B1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const s=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const h=s[r.charAt(o++)],p=o<r.length?s[r.charAt(o)]:0;++o;const b=o<r.length?s[r.charAt(o)]:64;++o;const T=o<r.length?s[r.charAt(o)]:64;if(++o,h==null||p==null||b==null||T==null)throw new P1;const R=h<<2|p>>4;if(i.push(R),b!==64){const L=p<<4&240|b>>2;if(i.push(L),T!==64){const H=b<<6&192|T;i.push(H)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class P1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q1=function(r){const t=wx(r);return Nx.encodeByteArray(t,!0)},xu=function(r){return q1(r).replace(/\./g,"")},H1=function(r){try{return Nx.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=()=>F1().__FIREBASE_DEFAULTS__,Q1=()=>{if(typeof process>"u"||typeof ly>"u")return;const r=ly.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Y1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&H1(r[1]);return t&&JSON.parse(t)},qf=()=>{try{return z1()||G1()||Q1()||Y1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},K1=r=>{var t,s;return(s=(t=qf())==null?void 0:t.emulatorHosts)==null?void 0:s[r]},Ax=r=>{const t=K1(r);if(!t)return;const s=t.lastIndexOf(":");if(s<=0||s+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(s+1),10);return t[0]==="["?[t.substring(1,s-1),i]:[t.substring(0,s),i]},Sx=()=>{var r;return(r=qf())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}wrapCallback(t){return(s,i)=>{s?this.reject(s):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(s):t(s,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kx(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},i=t||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[xu(JSON.stringify(s)),xu(JSON.stringify(m)),""].join(".")}const lo={};function $1(){const r={prod:[],emulator:[]};for(const t of Object.keys(lo))lo[t]?r.emulator.push(t):r.prod.push(t);return r}function Z1(r){let t=document.getElementById(r),s=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),s=!0),{created:s,element:t}}let oy=!1;function jx(r,t){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||lo[r]===t||lo[r]||oy)return;lo[r]=t;function s(R){return`__firebase__banner__${R}`}const i="__firebase__banner",h=$1().prod.length>0;function m(){const R=document.getElementById(i);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function x(R,L){R.setAttribute("width","24"),R.setAttribute("id",L),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function b(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{oy=!0,m()},R}function v(R,L){R.setAttribute("id",L),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function T(){const R=Z1(i),L=s("text"),H=document.getElementById(L)||document.createElement("span"),ee=s("learnmore"),J=document.getElementById(ee)||document.createElement("a"),ce=s("preprendIcon"),ue=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ae=R.element;p(ae),v(J,ee);const de=b();x(ue,ce),ae.append(ue,H,J,de),document.body.appendChild(ae)}h?(H.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W1(){var t;const r=(t=qf())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eE(){return!W1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tE(){try{return typeof indexedDB=="object"}catch{return!1}}function nE(){return new Promise((r,t)=>{try{let s=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{var h;t(((h=o.error)==null?void 0:h.message)||"")}}catch(s){t(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="FirebaseError";class Br extends Error{constructor(t,s,i){super(s),this.code=t,this.customData=i,this.name=sE,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cx.prototype.create)}}class Cx{constructor(t,s,i){this.service=t,this.serviceName=s,this.errors=i}create(t,...s){const i=s[0]||{},o=`${this.service}/${t}`,h=this.errors[t],m=h?aE(h,i):"Error",p=`${this.serviceName}: ${m} (${o}).`;return new Br(o,p,i)}}function aE(r,t){return r.replace(rE,(s,i)=>{const o=t[i];return o!=null?String(o):`<${i}?>`})}const rE=/\{\$([^}]+)}/g;function bu(r,t){if(r===t)return!0;const s=Object.keys(r),i=Object.keys(t);for(const o of s){if(!i.includes(o))return!1;const h=r[o],m=t[o];if(cy(h)&&cy(m)){if(!bu(h,m))return!1}else if(h!==m)return!1}for(const o of i)if(!s.includes(o))return!1;return!0}function cy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(r){return r&&r._delegate?r._delegate:r}class Ui{constructor(t,s,i){this.name=t,this.instanceFactory=s,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,s){this.name=t,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const s=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(s)){const i=new X1;if(this.instancesDeferred.set(s,i),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(t){const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oE(t))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(const[s,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const h=this.getOrInitializeService({instanceIdentifier:o});i.resolve(h)}catch{}}}}clearInstance(t=Cr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...t.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cr){return this.instances.has(t)}getOptions(t=Cr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:s={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:s});for(const[h,m]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);i===p&&m.resolve(o)}return o}onInit(t,s){const i=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(i)??new Set;o.add(t),this.onInitCallbacks.set(i,o);const h=this.instances.get(i);return h&&t(h,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,s){const i=this.onInitCallbacks.get(s);if(i)for(const o of i)try{o(t,s)}catch{}}getOrInitializeService({instanceIdentifier:t,options:s={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:lE(t),options:s}),this.instances.set(t,i),this.instancesOptions.set(t,s),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Cr){return this.component?this.component.multipleInstances?t:Cr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lE(r){return r===Cr?void 0:r}function oE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const s=this.getProvider(t.name);if(s.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);s.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const s=new iE(t,this);return this.providers.set(t,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const uE={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},hE=Pe.INFO,dE={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},fE=(r,t,...s)=>{if(t<r.logLevel)return;const i=new Date().toISOString(),o=dE[t];if(o)console[o](`[${i}]  ${r.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dx{constructor(t){this.name=t,this._logLevel=hE,this._logHandler=fE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?uE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...t),this._logHandler(this,Pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...t),this._logHandler(this,Pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...t),this._logHandler(this,Pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...t),this._logHandler(this,Pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...t),this._logHandler(this,Pe.ERROR,...t)}}const mE=(r,t)=>t.some(s=>r instanceof s);let uy,hy;function gE(){return uy||(uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pE(){return hy||(hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ix=new WeakMap,xf=new WeakMap,Vx=new WeakMap,af=new WeakMap,Hf=new WeakMap;function yE(r){const t=new Promise((s,i)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",m)},h=()=>{s(za(r.result)),o()},m=()=>{i(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",m)});return t.then(s=>{s instanceof IDBCursor&&Ix.set(s,r)}).catch(()=>{}),Hf.set(t,r),t}function xE(r){if(xf.has(r))return;const t=new Promise((s,i)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",m),r.removeEventListener("abort",m)},h=()=>{s(),o()},m=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",m),r.addEventListener("abort",m)});xf.set(r,t)}let bf={get(r,t,s){if(r instanceof IDBTransaction){if(t==="done")return xf.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Vx.get(r);if(t==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return za(r[t])},set(r,t,s){return r[t]=s,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function bE(r){bf=r(bf)}function _E(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...s){const i=r.call(rf(this),t,...s);return Vx.set(i,t.sort?t.sort():[t]),za(i)}:pE().includes(r)?function(...t){return r.apply(rf(this),t),za(Ix.get(this))}:function(...t){return za(r.apply(rf(this),t))}}function vE(r){return typeof r=="function"?_E(r):(r instanceof IDBTransaction&&xE(r),mE(r,gE())?new Proxy(r,bf):r)}function za(r){if(r instanceof IDBRequest)return yE(r);if(af.has(r))return af.get(r);const t=vE(r);return t!==r&&(af.set(r,t),Hf.set(t,r)),t}const rf=r=>Hf.get(r);function EE(r,t,{blocked:s,upgrade:i,blocking:o,terminated:h}={}){const m=indexedDB.open(r,t),p=za(m);return i&&m.addEventListener("upgradeneeded",x=>{i(za(m.result),x.oldVersion,x.newVersion,za(m.transaction),x)}),s&&m.addEventListener("blocked",x=>s(x.oldVersion,x.newVersion,x)),p.then(x=>{h&&x.addEventListener("close",()=>h()),o&&x.addEventListener("versionchange",b=>o(b.oldVersion,b.newVersion,b))}).catch(()=>{}),p}const TE=["get","getKey","getAll","getAllKeys","count"],wE=["put","add","delete","clear"],lf=new Map;function dy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(lf.get(t))return lf.get(t);const s=t.replace(/FromIndex$/,""),i=t!==s,o=wE.includes(s);if(!(s in(i?IDBIndex:IDBObjectStore).prototype)||!(o||TE.includes(s)))return;const h=async function(m,...p){const x=this.transaction(m,o?"readwrite":"readonly");let b=x.store;return i&&(b=b.index(p.shift())),(await Promise.all([b[s](...p),o&&x.done]))[0]};return lf.set(t,h),h}bE(r=>({...r,get:(t,s,i)=>dy(t,s)||r.get(t,s,i),has:(t,s)=>!!dy(t,s)||r.has(t,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(AE(s)){const i=s.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(s=>s).join(" ")}}function AE(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const _f="@firebase/app",fy="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new Dx("@firebase/app"),SE="@firebase/app-compat",kE="@firebase/analytics-compat",RE="@firebase/analytics",jE="@firebase/app-check-compat",CE="@firebase/app-check",DE="@firebase/auth",IE="@firebase/auth-compat",VE="@firebase/database",OE="@firebase/data-connect",ME="@firebase/database-compat",UE="@firebase/functions",LE="@firebase/functions-compat",zE="@firebase/installations",BE="@firebase/installations-compat",PE="@firebase/messaging",qE="@firebase/messaging-compat",HE="@firebase/performance",FE="@firebase/performance-compat",GE="@firebase/remote-config",QE="@firebase/remote-config-compat",YE="@firebase/storage",KE="@firebase/storage-compat",XE="@firebase/firestore",$E="@firebase/ai",ZE="@firebase/firestore-compat",JE="firebase",WE="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="[DEFAULT]",eT={[_f]:"fire-core",[SE]:"fire-core-compat",[RE]:"fire-analytics",[kE]:"fire-analytics-compat",[CE]:"fire-app-check",[jE]:"fire-app-check-compat",[DE]:"fire-auth",[IE]:"fire-auth-compat",[VE]:"fire-rtdb",[OE]:"fire-data-connect",[ME]:"fire-rtdb-compat",[UE]:"fire-fn",[LE]:"fire-fn-compat",[zE]:"fire-iid",[BE]:"fire-iid-compat",[PE]:"fire-fcm",[qE]:"fire-fcm-compat",[HE]:"fire-perf",[FE]:"fire-perf-compat",[GE]:"fire-rc",[QE]:"fire-rc-compat",[YE]:"fire-gcs",[KE]:"fire-gcs-compat",[XE]:"fire-fst",[ZE]:"fire-fst-compat",[$E]:"fire-vertex","fire-js":"fire-js",[JE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new Map,tT=new Map,Ef=new Map;function my(r,t){try{r.container.addComponent(t)}catch(s){ea.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,s)}}function mo(r){const t=r.name;if(Ef.has(t))return ea.debug(`There were multiple attempts to register component ${t}.`),!1;Ef.set(t,r);for(const s of _u.values())my(s,r);for(const s of tT.values())my(s,r);return!0}function Ox(r,t){const s=r.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),r.container.getProvider(t)}function Mx(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ba=new Cx("app","Firebase",nT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t,s,i){this._isDeleted=!1,this._options={...t},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ba.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=WE;function Lx(r,t={}){let s=r;typeof t!="object"&&(t={name:t});const i={name:vf,automaticDataCollectionEnabled:!0,...t},o=i.name;if(typeof o!="string"||!o)throw Ba.create("bad-app-name",{appName:String(o)});if(s||(s=Sx()),!s)throw Ba.create("no-options");const h=_u.get(o);if(h){if(bu(s,h.options)&&bu(i,h.config))return h;throw Ba.create("duplicate-app",{appName:o})}const m=new cE(o);for(const x of Ef.values())m.addComponent(x);const p=new sT(s,i,m);return _u.set(o,p),p}function zx(r=vf){const t=_u.get(r);if(!t&&r===vf&&Sx())return Lx();if(!t)throw Ba.create("no-app",{appName:r});return t}function Pa(r,t,s){let i=eT[r]??r;s&&(i+=`-${s}`);const o=i.match(/\s|\//),h=t.match(/\s|\//);if(o||h){const m=[`Unable to register library "${i}" with version "${t}":`];o&&m.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ea.warn(m.join(" "));return}mo(new Ui(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="firebase-heartbeat-database",rT=1,go="firebase-heartbeat-store";let of=null;function Bx(){return of||(of=EE(aT,rT,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(go)}catch(s){console.warn(s)}}}}).catch(r=>{throw Ba.create("idb-open",{originalErrorMessage:r.message})})),of}async function iT(r){try{const s=(await Bx()).transaction(go),i=await s.objectStore(go).get(Px(r));return await s.done,i}catch(t){if(t instanceof Br)ea.warn(t.message);else{const s=Ba.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ea.warn(s.message)}}}async function gy(r,t){try{const i=(await Bx()).transaction(go,"readwrite");await i.objectStore(go).put(t,Px(r)),await i.done}catch(s){if(s instanceof Br)ea.warn(s.message);else{const i=Ba.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});ea.warn(i.message)}}}function Px(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=1024,oT=30;class cT{constructor(t){this.container=t,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new hT(s),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,s;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=py();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(m=>m.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>oT){const m=dT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ea.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=py(),{heartbeatsToSend:i,unsentEntries:o}=uT(this._heartbeatsCache.heartbeats),h=xu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=s,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(s){return ea.warn(s),""}}}function py(){return new Date().toISOString().substring(0,10)}function uT(r,t=lT){const s=[];let i=r.slice();for(const o of r){const h=s.find(m=>m.agent===o.agent);if(h){if(h.dates.push(o.date),yy(s)>t){h.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),yy(s)>t){s.pop();break}i=i.slice(1)}return{heartbeatsToSend:s,unsentEntries:i}}class hT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tE()?nE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await iT(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return gy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return gy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function yy(r){return xu(JSON.stringify({version:2,heartbeats:r})).length}function dT(r){if(r.length===0)return-1;let t=0,s=r[0].date;for(let i=1;i<r.length;i++)r[i].date<s&&(s=r[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(r){mo(new Ui("platform-logger",t=>new NE(t),"PRIVATE")),mo(new Ui("heartbeat",t=>new cT(t),"PRIVATE")),Pa(_f,fy,r),Pa(_f,fy,"esm2020"),Pa("fire-js","")}fT("");var xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qa,qx;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,A){function S(){}S.prototype=A.prototype,N.F=A.prototype,N.prototype=new S,N.prototype.constructor=N,N.D=function(V,I,M){for(var j=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)j[Ke-2]=arguments[Ke];return A.prototype[I].apply(V,j)}}function s(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,s),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,S){S||(S=0);const V=Array(16);if(typeof A=="string")for(var I=0;I<16;++I)V[I]=A.charCodeAt(S++)|A.charCodeAt(S++)<<8|A.charCodeAt(S++)<<16|A.charCodeAt(S++)<<24;else for(I=0;I<16;++I)V[I]=A[S++]|A[S++]<<8|A[S++]<<16|A[S++]<<24;A=N.g[0],S=N.g[1],I=N.g[2];let M=N.g[3],j;j=A+(M^S&(I^M))+V[0]+3614090360&4294967295,A=S+(j<<7&4294967295|j>>>25),j=M+(I^A&(S^I))+V[1]+3905402710&4294967295,M=A+(j<<12&4294967295|j>>>20),j=I+(S^M&(A^S))+V[2]+606105819&4294967295,I=M+(j<<17&4294967295|j>>>15),j=S+(A^I&(M^A))+V[3]+3250441966&4294967295,S=I+(j<<22&4294967295|j>>>10),j=A+(M^S&(I^M))+V[4]+4118548399&4294967295,A=S+(j<<7&4294967295|j>>>25),j=M+(I^A&(S^I))+V[5]+1200080426&4294967295,M=A+(j<<12&4294967295|j>>>20),j=I+(S^M&(A^S))+V[6]+2821735955&4294967295,I=M+(j<<17&4294967295|j>>>15),j=S+(A^I&(M^A))+V[7]+4249261313&4294967295,S=I+(j<<22&4294967295|j>>>10),j=A+(M^S&(I^M))+V[8]+1770035416&4294967295,A=S+(j<<7&4294967295|j>>>25),j=M+(I^A&(S^I))+V[9]+2336552879&4294967295,M=A+(j<<12&4294967295|j>>>20),j=I+(S^M&(A^S))+V[10]+4294925233&4294967295,I=M+(j<<17&4294967295|j>>>15),j=S+(A^I&(M^A))+V[11]+2304563134&4294967295,S=I+(j<<22&4294967295|j>>>10),j=A+(M^S&(I^M))+V[12]+1804603682&4294967295,A=S+(j<<7&4294967295|j>>>25),j=M+(I^A&(S^I))+V[13]+4254626195&4294967295,M=A+(j<<12&4294967295|j>>>20),j=I+(S^M&(A^S))+V[14]+2792965006&4294967295,I=M+(j<<17&4294967295|j>>>15),j=S+(A^I&(M^A))+V[15]+1236535329&4294967295,S=I+(j<<22&4294967295|j>>>10),j=A+(I^M&(S^I))+V[1]+4129170786&4294967295,A=S+(j<<5&4294967295|j>>>27),j=M+(S^I&(A^S))+V[6]+3225465664&4294967295,M=A+(j<<9&4294967295|j>>>23),j=I+(A^S&(M^A))+V[11]+643717713&4294967295,I=M+(j<<14&4294967295|j>>>18),j=S+(M^A&(I^M))+V[0]+3921069994&4294967295,S=I+(j<<20&4294967295|j>>>12),j=A+(I^M&(S^I))+V[5]+3593408605&4294967295,A=S+(j<<5&4294967295|j>>>27),j=M+(S^I&(A^S))+V[10]+38016083&4294967295,M=A+(j<<9&4294967295|j>>>23),j=I+(A^S&(M^A))+V[15]+3634488961&4294967295,I=M+(j<<14&4294967295|j>>>18),j=S+(M^A&(I^M))+V[4]+3889429448&4294967295,S=I+(j<<20&4294967295|j>>>12),j=A+(I^M&(S^I))+V[9]+568446438&4294967295,A=S+(j<<5&4294967295|j>>>27),j=M+(S^I&(A^S))+V[14]+3275163606&4294967295,M=A+(j<<9&4294967295|j>>>23),j=I+(A^S&(M^A))+V[3]+4107603335&4294967295,I=M+(j<<14&4294967295|j>>>18),j=S+(M^A&(I^M))+V[8]+1163531501&4294967295,S=I+(j<<20&4294967295|j>>>12),j=A+(I^M&(S^I))+V[13]+2850285829&4294967295,A=S+(j<<5&4294967295|j>>>27),j=M+(S^I&(A^S))+V[2]+4243563512&4294967295,M=A+(j<<9&4294967295|j>>>23),j=I+(A^S&(M^A))+V[7]+1735328473&4294967295,I=M+(j<<14&4294967295|j>>>18),j=S+(M^A&(I^M))+V[12]+2368359562&4294967295,S=I+(j<<20&4294967295|j>>>12),j=A+(S^I^M)+V[5]+4294588738&4294967295,A=S+(j<<4&4294967295|j>>>28),j=M+(A^S^I)+V[8]+2272392833&4294967295,M=A+(j<<11&4294967295|j>>>21),j=I+(M^A^S)+V[11]+1839030562&4294967295,I=M+(j<<16&4294967295|j>>>16),j=S+(I^M^A)+V[14]+4259657740&4294967295,S=I+(j<<23&4294967295|j>>>9),j=A+(S^I^M)+V[1]+2763975236&4294967295,A=S+(j<<4&4294967295|j>>>28),j=M+(A^S^I)+V[4]+1272893353&4294967295,M=A+(j<<11&4294967295|j>>>21),j=I+(M^A^S)+V[7]+4139469664&4294967295,I=M+(j<<16&4294967295|j>>>16),j=S+(I^M^A)+V[10]+3200236656&4294967295,S=I+(j<<23&4294967295|j>>>9),j=A+(S^I^M)+V[13]+681279174&4294967295,A=S+(j<<4&4294967295|j>>>28),j=M+(A^S^I)+V[0]+3936430074&4294967295,M=A+(j<<11&4294967295|j>>>21),j=I+(M^A^S)+V[3]+3572445317&4294967295,I=M+(j<<16&4294967295|j>>>16),j=S+(I^M^A)+V[6]+76029189&4294967295,S=I+(j<<23&4294967295|j>>>9),j=A+(S^I^M)+V[9]+3654602809&4294967295,A=S+(j<<4&4294967295|j>>>28),j=M+(A^S^I)+V[12]+3873151461&4294967295,M=A+(j<<11&4294967295|j>>>21),j=I+(M^A^S)+V[15]+530742520&4294967295,I=M+(j<<16&4294967295|j>>>16),j=S+(I^M^A)+V[2]+3299628645&4294967295,S=I+(j<<23&4294967295|j>>>9),j=A+(I^(S|~M))+V[0]+4096336452&4294967295,A=S+(j<<6&4294967295|j>>>26),j=M+(S^(A|~I))+V[7]+1126891415&4294967295,M=A+(j<<10&4294967295|j>>>22),j=I+(A^(M|~S))+V[14]+2878612391&4294967295,I=M+(j<<15&4294967295|j>>>17),j=S+(M^(I|~A))+V[5]+4237533241&4294967295,S=I+(j<<21&4294967295|j>>>11),j=A+(I^(S|~M))+V[12]+1700485571&4294967295,A=S+(j<<6&4294967295|j>>>26),j=M+(S^(A|~I))+V[3]+2399980690&4294967295,M=A+(j<<10&4294967295|j>>>22),j=I+(A^(M|~S))+V[10]+4293915773&4294967295,I=M+(j<<15&4294967295|j>>>17),j=S+(M^(I|~A))+V[1]+2240044497&4294967295,S=I+(j<<21&4294967295|j>>>11),j=A+(I^(S|~M))+V[8]+1873313359&4294967295,A=S+(j<<6&4294967295|j>>>26),j=M+(S^(A|~I))+V[15]+4264355552&4294967295,M=A+(j<<10&4294967295|j>>>22),j=I+(A^(M|~S))+V[6]+2734768916&4294967295,I=M+(j<<15&4294967295|j>>>17),j=S+(M^(I|~A))+V[13]+1309151649&4294967295,S=I+(j<<21&4294967295|j>>>11),j=A+(I^(S|~M))+V[4]+4149444226&4294967295,A=S+(j<<6&4294967295|j>>>26),j=M+(S^(A|~I))+V[11]+3174756917&4294967295,M=A+(j<<10&4294967295|j>>>22),j=I+(A^(M|~S))+V[2]+718787259&4294967295,I=M+(j<<15&4294967295|j>>>17),j=S+(M^(I|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(I+(j<<21&4294967295|j>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+M&4294967295}i.prototype.v=function(N,A){A===void 0&&(A=N.length);const S=A-this.blockSize,V=this.C;let I=this.h,M=0;for(;M<A;){if(I==0)for(;M<=S;)o(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<A;)if(V[I++]=N.charCodeAt(M++),I==this.blockSize){o(this,V),I=0;break}}else for(;M<A;)if(V[I++]=N[M++],I==this.blockSize){o(this,V),I=0;break}}this.h=I,this.o+=A},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var S=N.length-8;S<N.length;++S)N[S]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,S=0;S<4;++S)for(let V=0;V<32;V+=8)N[A++]=this.g[S]>>>V&255;return N};function h(N,A){var S=p;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=A(N)}function m(N,A){this.h=A;const S=[];let V=!0;for(let I=N.length-1;I>=0;I--){const M=N[I]|0;V&&M==A||(S[I]=M,V=!1)}this.g=S}var p={};function x(N){return-128<=N&&N<128?h(N,function(A){return new m([A|0],A<0?-1:0)}):new m([N|0],N<0?-1:0)}function b(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return J(b(-N));const A=[];let S=1;for(let V=0;N>=S;V++)A[V]=N/S|0,S*=4294967296;return new m(A,0)}function v(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return J(v(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=b(Math.pow(A,8));let V=T;for(let M=0;M<N.length;M+=8){var I=Math.min(8,N.length-M);const j=parseInt(N.substring(M,M+I),A);I<8?(I=b(Math.pow(A,I)),V=V.j(I).add(b(j))):(V=V.j(S),V=V.add(b(j)))}return V}var T=x(0),R=x(1),L=x(16777216);r=m.prototype,r.m=function(){if(ee(this))return-J(this).m();let N=0,A=1;for(let S=0;S<this.g.length;S++){const V=this.i(S);N+=(V>=0?V:4294967296+V)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(ee(this))return"-"+J(this).toString(N);const A=b(Math.pow(N,6));var S=this;let V="";for(;;){const I=de(S,A).g;S=ce(S,I.j(A));let M=((S.g.length>0?S.g[0]:S.h)>>>0).toString(N);if(S=I,H(S))return M+V;for(;M.length<6;)M="0"+M;V=M+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function ee(N){return N.h==-1}r.l=function(N){return N=ce(this,N),ee(N)?-1:H(N)?0:1};function J(N){const A=N.g.length,S=[];for(let V=0;V<A;V++)S[V]=~N.g[V];return new m(S,~N.h).add(R)}r.abs=function(){return ee(this)?J(this):this},r.add=function(N){const A=Math.max(this.g.length,N.g.length),S=[];let V=0;for(let I=0;I<=A;I++){let M=V+(this.i(I)&65535)+(N.i(I)&65535),j=(M>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);V=j>>>16,M&=65535,j&=65535,S[I]=j<<16|M}return new m(S,S[S.length-1]&-2147483648?-1:0)};function ce(N,A){return N.add(J(A))}r.j=function(N){if(H(this)||H(N))return T;if(ee(this))return ee(N)?J(this).j(J(N)):J(J(this).j(N));if(ee(N))return J(this.j(J(N)));if(this.l(L)<0&&N.l(L)<0)return b(this.m()*N.m());const A=this.g.length+N.g.length,S=[];for(var V=0;V<2*A;V++)S[V]=0;for(V=0;V<this.g.length;V++)for(let I=0;I<N.g.length;I++){const M=this.i(V)>>>16,j=this.i(V)&65535,Ke=N.i(I)>>>16,ct=N.i(I)&65535;S[2*V+2*I]+=j*ct,ue(S,2*V+2*I),S[2*V+2*I+1]+=M*ct,ue(S,2*V+2*I+1),S[2*V+2*I+1]+=j*Ke,ue(S,2*V+2*I+1),S[2*V+2*I+2]+=M*Ke,ue(S,2*V+2*I+2)}for(N=0;N<A;N++)S[N]=S[2*N+1]<<16|S[2*N];for(N=A;N<2*A;N++)S[N]=0;return new m(S,0)};function ue(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ae(N,A){this.g=N,this.h=A}function de(N,A){if(H(A))throw Error("division by zero");if(H(N))return new ae(T,T);if(ee(N))return A=de(J(N),A),new ae(J(A.g),J(A.h));if(ee(A))return A=de(N,J(A)),new ae(J(A.g),A.h);if(N.g.length>30){if(ee(N)||ee(A))throw Error("slowDivide_ only works with positive integers.");for(var S=R,V=A;V.l(N)<=0;)S=ve(S),V=ve(V);var I=be(S,1),M=be(V,1);for(V=be(V,2),S=be(S,2);!H(V);){var j=M.add(V);j.l(N)<=0&&(I=I.add(S),M=j),V=be(V,1),S=be(S,1)}return A=ce(N,I.j(A)),new ae(I,A)}for(I=T;N.l(A)>=0;){for(S=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(S)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),M=b(S),j=M.j(A);ee(j)||j.l(N)>0;)S-=V,M=b(S),j=M.j(A);H(M)&&(M=R),I=I.add(M),N=ce(N,j)}return new ae(I,N)}r.B=function(N){return de(this,N).h},r.and=function(N){const A=Math.max(this.g.length,N.g.length),S=[];for(let V=0;V<A;V++)S[V]=this.i(V)&N.i(V);return new m(S,this.h&N.h)},r.or=function(N){const A=Math.max(this.g.length,N.g.length),S=[];for(let V=0;V<A;V++)S[V]=this.i(V)|N.i(V);return new m(S,this.h|N.h)},r.xor=function(N){const A=Math.max(this.g.length,N.g.length),S=[];for(let V=0;V<A;V++)S[V]=this.i(V)^N.i(V);return new m(S,this.h^N.h)};function ve(N){const A=N.g.length+1,S=[];for(let V=0;V<A;V++)S[V]=N.i(V)<<1|N.i(V-1)>>>31;return new m(S,N.h)}function be(N,A){const S=A>>5;A%=32;const V=N.g.length-S,I=[];for(let M=0;M<V;M++)I[M]=A>0?N.i(M+S)>>>A|N.i(M+S+1)<<32-A:N.i(M+S);return new m(I,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,qx=i,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.B,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=b,m.fromString=v,qa=m}).apply(typeof xy<"u"?xy:typeof self<"u"?self:typeof window<"u"?window:{});var ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hx,so,Fx,du,Tf,Gx,Qx,Yx;(function(){var r,t=Object.defineProperty;function s(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ru=="object"&&ru];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=s(this);function o(c,g){if(g)e:{var _=i;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in _))break e;_=_[z]}c=c[c.length-1],w=_[c],g=g(w),g!=w&&g!=null&&t(_,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var _=[],w;for(w in g)Object.prototype.hasOwnProperty.call(g,w)&&_.push([w,g[w]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function x(c,g,_){return c.call.apply(c.bind,arguments)}function b(c,g,_){return b=x,b.apply(null,arguments)}function v(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function T(c,g){function _(){}_.prototype=g.prototype,c.Z=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(w,z,F){for(var se=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)se[Ae-2]=arguments[Ae];return g.prototype[z].apply(w,se)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const g=c.length;if(g>0){const _=Array(g);for(let w=0;w<g;w++)_[w]=c[w];return _}return[]}function H(c,g){for(let w=1;w<arguments.length;w++){const z=arguments[w];var _=typeof z;if(_=_!="object"?_:z?Array.isArray(z)?"array":_:"null",_=="array"||_=="object"&&typeof z.length=="number"){_=c.length||0;const F=z.length||0;c.length=_+F;for(let se=0;se<F;se++)c[_+se]=z[se]}else c.push(z)}}class ee{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function J(c){m.setTimeout(()=>{throw c},0)}function ce(){var c=N;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ue{constructor(){this.h=this.g=null}add(g,_){const w=ae.get();w.set(g,_),this.h?this.h.next=w:this.g=w,this.h=w}}var ae=new ee(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,be=!1,N=new ue,A=()=>{const c=Promise.resolve(void 0);ve=()=>{c.then(S)}};function S(){for(var c;c=ce();){try{c.h.call(c.g)}catch(_){J(_)}var g=ae;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}be=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c})();function j(c){return/^[\s\xa0]*$/.test(c)}function Ke(c,g){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(Ke,I),Ke.prototype.init=function(c,g){const _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(_=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ke.Z.h.call(this)},Ke.prototype.h=function(){Ke.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),D=0;function W(c,g,_,w,z){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!w,this.ha=z,this.key=++D,this.da=this.fa=!1}function le(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Re(c,g,_){for(const w in c)g.call(_,c[w],w,c)}function ze(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function k(c){const g={};for(const _ in c)g[_]=c[_];return g}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(c,g){let _,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(_ in w)c[_]=w[_];for(let F=0;F<G.length;F++)_=G[F],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function ne(c){this.src=c,this.g={},this.h=0}ne.prototype.add=function(c,g,_,w,z){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const se=me(c,g,w,z);return se>-1?(g=c[se],_||(g.fa=!1)):(g=new W(g,this.src,F,!!w,z),g.fa=_,c.push(g)),g};function fe(c,g){const _=g.type;if(_ in c.g){var w=c.g[_],z=Array.prototype.indexOf.call(w,g,void 0),F;(F=z>=0)&&Array.prototype.splice.call(w,z,1),F&&(le(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function me(c,g,_,w){for(let z=0;z<c.length;++z){const F=c[z];if(!F.da&&F.listener==g&&F.capture==!!_&&F.ha==w)return z}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),Me={};function Ue(c,g,_,w,z){if(Array.isArray(g)){for(let F=0;F<g.length;F++)Ue(c,g[F],_,w,z);return null}return _=$i(_),c&&c[ct]?c.J(g,_,p(w)?!!w.capture:!1,z):Pt(c,g,_,!1,w,z)}function Pt(c,g,_,w,z,F){if(!g)throw Error("Invalid event type");const se=p(z)?!!z.capture:!!z;let Ae=tr(c);if(Ae||(c[Ne]=Ae=new ne(c)),_=Ae.add(g,_,w,se,F),_.proxy)return _;if(w=it(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)M||(z=se),z===void 0&&(z=!1),c.addEventListener(g.toString(),w,z);else if(c.attachEvent)c.attachEvent(Rn(g.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function it(){function c(_){return g.call(c.src,c.listener,_)}const g=er;return c}function yn(c,g,_,w,z){if(Array.isArray(g))for(var F=0;F<g.length;F++)yn(c,g[F],_,w,z);else w=p(w)?!!w.capture:!!w,_=$i(_),c&&c[ct]?(c=c.i,F=String(g).toString(),F in c.g&&(g=c.g[F],_=me(g,_,w,z),_>-1&&(le(g[_]),Array.prototype.splice.call(g,_,1),g.length==0&&(delete c.g[F],c.h--)))):c&&(c=tr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=me(g,_,w,z)),(_=c>-1?g[c]:null)&&Gn(_))}function Gn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ct])fe(g.i,c);else{var _=c.type,w=c.proxy;g.removeEventListener?g.removeEventListener(_,w,c.capture):g.detachEvent?g.detachEvent(Rn(_),w):g.addListener&&g.removeListener&&g.removeListener(w),(_=tr(g))?(fe(_,c),_.h==0&&(_.src=null,g[Ne]=null)):le(c)}}}function Rn(c){return c in Me?Me[c]:Me[c]="on"+c}function er(c,g){if(c.da)c=!0;else{g=new Ke(g,this);const _=c.listener,w=c.ha||c.src;c.fa&&Gn(c),c=_.call(w,g)}return c}function tr(c){return c=c[Ne],c instanceof ne?c:null}var Xi="__closure_events_fn_"+(Math.random()*1e9>>>0);function $i(c){return typeof c=="function"?c:(c[Xi]||(c[Xi]=function(g){return c.handleEvent(g)}),c[Xi])}function _t(){V.call(this),this.i=new ne(this),this.M=this,this.G=null}T(_t,V),_t.prototype[ct]=!0,_t.prototype.removeEventListener=function(c,g,_,w){yn(this,c,g,_,w)};function It(c,g){var _,w=c.G;if(w)for(_=[];w;w=w.G)_.push(w);if(c=c.M,w=g.type||g,typeof g=="string")g=new I(g,c);else if(g instanceof I)g.target=g.target||c;else{var z=g;g=new I(w,c),te(g,z)}z=!0;let F,se;if(_)for(se=_.length-1;se>=0;se--)F=g.g=_[se],z=aa(F,w,!0,g)&&z;if(F=g.g=c,z=aa(F,w,!0,g)&&z,z=aa(F,w,!1,g)&&z,_)for(se=0;se<_.length;se++)F=g.g=_[se],z=aa(F,w,!1,g)&&z}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const _=c.g[g];for(let w=0;w<_.length;w++)le(_[w]);delete c.g[g],c.h--}}this.G=null},_t.prototype.J=function(c,g,_,w){return this.i.add(String(c),g,!1,_,w)},_t.prototype.K=function(c,g,_,w){return this.i.add(String(c),g,!0,_,w)};function aa(c,g,_,w){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let z=!0;for(let F=0;F<g.length;++F){const se=g[F];if(se&&!se.da&&se.capture==_){const Ae=se.listener,pt=se.ha||se.src;se.fa&&fe(c.i,se),z=Ae.call(pt,w)!==!1&&z}}return z&&!w.defaultPrevented}function eh(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:m.setTimeout(c,g||0)}function jo(c){c.g=eh(()=>{c.g=null,c.i&&(c.i=!1,jo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class nn extends V{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:jo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(c){V.call(this),this.h=c,this.g={}}T(nr,V);var Zi=[];function Ji(c){Re(c.g,function(g,_){this.g.hasOwnProperty(_)&&Gn(g)},c),c.g={}}nr.prototype.N=function(){nr.Z.N.call(this),Ji(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ra=m.JSON.stringify,th=m.JSON.parse,Co=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Do(){}function Io(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){I.call(this,"d")}T(qt,I);function jn(){I.call(this,"c")}T(jn,I);var gt={},Vo=null;function Hr(){return Vo=Vo||new _t}gt.Ia="serverreachability";function Oo(c){I.call(this,gt.Ia,c)}T(Oo,I);function ls(c){const g=Hr();It(g,new Oo(g))}gt.STAT_EVENT="statevent";function sr(c,g){I.call(this,gt.STAT_EVENT,c),this.stat=g}T(sr,I);function vt(c){const g=Hr();It(g,new sr(g,c))}gt.Ja="timingevent";function os(c,g){I.call(this,gt.Ja,c),this.size=g}T(os,I);function cs(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function nh(c,g,_,w,z,F){c.info(function(){if(c.g)if(F){var se="",Ae=F.split("&");for(let Fe=0;Fe<Ae.length;Fe++){var pt=Ae[Fe].split("=");if(pt.length>1){const lt=pt[0];pt=pt[1];const Vn=lt.split("_");se=Vn.length>=2&&Vn[1]=="type"?se+(lt+"="+pt+"&"):se+(lt+"=redacted&")}}}else se=null;else se=F;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+g+`
`+_+`
`+se})}function Mo(c,g,_,w,z,F,se){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+g+`
`+_+`
`+F+" "+se})}function us(c,g,_,w){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+sh(c,_)+(w?" "+w:"")})}function ar(c,g){c.info(function(){return"TIMEOUT: "+g})}Yn.prototype.info=function(){};function sh(c,g){if(!c.g)return g;if(!g)return null;try{const F=JSON.parse(g);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var _=F[c];if(!(_.length<2)){var w=_[1];if(Array.isArray(w)&&!(w.length<1)){var z=w[0];if(z!="noop"&&z!="stop"&&z!="close")for(let se=1;se<w.length;se++)w[se]=""}}}}return ra(F)}catch{return g}}var rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},el;function ir(){}T(ir,Do),ir.prototype.g=function(){return new XMLHttpRequest},el=new ir;function Vs(c){return encodeURIComponent(String(c))}function Uo(c){var g=1;c=c.split(":");const _=[];for(;g>0&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function Kn(c,g,_,w){this.j=c,this.i=g,this.l=_,this.S=w||1,this.V=new nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Et={},Mt={};function hs(c,g,_){c.M=1,c.A=lr(wt(g)),c.u=_,c.R=!0,Fr(c,null)}function Fr(c,g){c.F=Date.now(),ds(c),c.B=wt(c.A);var _=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Kr(_.i,"t",w),c.C=0,_=c.j.L,c.h=new Xn,c.g=Jo(c.j,_?g:null,!c.u),c.P>0&&(c.O=new nn(b(c.Y,c,c.g),c.P)),g=c.V,_=c.g,w=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Zi[0]=z.toString()),z=Zi);for(let F=0;F<z.length;F++){const se=Ue(_,z[F],w||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ls(),nh(c.i,c.v,c.B,c.l,c.S,c.u)}Kn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Jn(c)==3?g.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=Jn(this.g),pt=this.g.ya(),Fe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Ae!=4||pt==7||(pt==8||Fe<=0?ls(3):ls(2)),fs(this);var g=this.g.ca();this.X=g;var _=ah(this);if(this.o=g==200,Mo(this.i,this.v,this.B,this.l,this.S,Ae,g),this.o){if(this.U&&!this.L){t:{if(this.g){var w,z=this.g;if((w=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(w)){var F=w;break t}}F=null}if(c=F)us(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ms(this,c);else{this.o=!1,this.m=3,vt(12),xn(this),Cn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<_.length;)if(lt=zo(this,_),lt==Mt){Ae==4&&(this.m=4,vt(14),c=!1),us(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Et){this.m=4,vt(15),us(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else us(this.i,this.l,lt,null),ms(this,lt);if(Lo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||_.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)us(this.i,this.l,_,"[Invalid Chunked Response]"),xn(this),Cn(this);else if(_.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),gl(se),se.P=!0,vt(11))}}else us(this.i,this.l,_,null),ms(this,_);Ae==4&&xn(this),this.o&&!this.K&&(Ae==4?Ko(this.j,this):(this.o=!1,ds(this)))}else Ms(this.g),g==400&&_.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),xn(this),Cn(this)}}}catch{}finally{}};function ah(c){if(!Lo(c))return c.g.la();const g=Ht(c.g);if(g==="")return"";let _="";const w=g.length,z=Jn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return xn(c),Cn(c),"";c.h.i=new m.TextDecoder}for(let F=0;F<w;F++)c.h.h=!0,_+=c.h.i.decode(g[F],{stream:!(z&&F==w-1)});return g.length=0,c.h.g+=_,c.C=0,c.h.g}function Lo(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function zo(c,g){var _=c.C,w=g.indexOf(`
`,_);return w==-1?Mt:(_=Number(g.substring(_,w)),isNaN(_)?Et:(w+=1,w+_>g.length?Mt:(g=g.slice(w,w+_),c.C=w+_,g)))}Kn.prototype.cancel=function(){this.K=!0,xn(this)};function ds(c){c.T=Date.now()+c.H,Gr(c,c.H)}function Gr(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=cs(b(c.aa,c),g)}function fs(c){c.D&&(m.clearTimeout(c.D),c.D=null)}Kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ar(this.i,this.B),this.M!=2&&(ls(),vt(17)),xn(this),this.m=2,Cn(this)):Gr(this,this.T-c)};function Cn(c){c.j.I==0||c.K||Ko(c.j,c)}function xn(c){fs(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Ji(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function ms(c,g){try{var _=c.j;if(_.I!=0&&(_.g==c||ps(_.h,c))){if(!c.L&&ps(_.h,c)&&_.I==3){try{var w=_.Ba.g.parse(g)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)Wr(_),fa(_);else break e;mr(_),vt(18)}}else _.xa=z[1],0<_.xa-_.K&&z[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=cs(b(_.Va,_),6e3));gs(_.h)<=1&&_.ta&&(_.ta=void 0)}else Es(_,11)}else if((c.L||_.g==c)&&Wr(_),!j(g))for(z=_.Ba.g.parse(g),g=0;g<z.length;g++){let Fe=z[g];const lt=Fe[0];if(!(lt<=_.K))if(_.K=lt,Fe=Fe[1],_.I==2)if(Fe[0]=="c"){_.M=Fe[1],_.ba=Fe[2];const Vn=Fe[3];Vn!=null&&(_.ka=Vn,_.j.info("VER="+_.ka));const Ts=Fe[4];Ts!=null&&(_.za=Ts,_.j.info("SVER="+_.za));const Wn=Fe[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(w=1.5*Wn,_.O=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const es=c.g;if(es){const gr=es.g?es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var F=w.h;F.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(sl(F,F.h),F.h=null))}if(w.G){const ei=es.g?es.g.getResponseHeader("X-HTTP-Session-Id"):null;ei&&(w.wa=ei,Xe(w.J,w.G,ei))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),w=_;var se=c;if(w.na=Zo(w,w.L?w.ba:null,w.W),se.L){al(w.h,se);var Ae=se,pt=w.O;pt&&(Ae.H=pt),Ae.D&&(fs(Ae),ds(Ae)),w.g=se}else Qo(w);_.i.length>0&&vs(_)}else Fe[0]!="stop"&&Fe[0]!="close"||Es(_,7);else _.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Es(_,7):fl(_):Fe[0]!="noop"&&_.l&&_.l.qa(Fe),_.A=0)}}ls(4)}catch{}}var Tt=class{constructor(c,g){this.g=c,this.map=g}};function tl(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gs(c){return c.h?1:c.g?c.g.size:0}function ps(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function sl(c,g){c.g?c.g.add(g):c.h=g}function al(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}tl.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function rl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.G);return g}return L(c.i)}var Bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qr(c,g){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const w=c[_].indexOf("=");let z,F=null;w>=0?(z=c[_].substring(0,w),F=c[_].substring(w+1)):z=c[_],g(z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function bn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof bn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,ia(this,c.u),this.h=c.h,il(this,Fo(c.i)),this.m=c.m):c&&(g=String(c).match(Bo))?(this.l=!1,Ut(this,g[1]||"",!0),this.o=ys(g[2]||""),this.g=ys(g[3]||"",!0),ia(this,g[4]),this.h=ys(g[5]||"",!0),il(this,g[6]||"",!0),this.m=ys(g[7]||"")):(this.l=!1,this.i=new oa(null,this.l))}bn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(or(g,Yr,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(or(g,Yr,!0),"@"),c.push(Vs(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(or(_,_.charAt(0)=="/"?ll:Po,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",or(_,qo)),c.join("")},bn.prototype.resolve=function(c){const g=wt(this);let _=!!c.j;_?Ut(g,c.j):_=!!c.o,_?g.o=c.o:_=!!c.g,_?g.g=c.g:_=c.u!=null;var w=c.h;if(_)ia(g,c.u);else if(_=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var z=g.h.lastIndexOf("/");z!=-1&&(w=g.h.slice(0,z+1)+w)}if(z=w,z==".."||z==".")w="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){w=z.lastIndexOf("/",0)==0,z=z.split("/");const F=[];for(let se=0;se<z.length;){const Ae=z[se++];Ae=="."?w&&se==z.length&&F.push(""):Ae==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),w&&se==z.length&&F.push("")):(F.push(Ae),w=!0)}w=F.join("/")}else w=z}return _?g.h=w:_=c.i.toString()!=="",_?il(g,Fo(c.i)):_=!!c.m,_&&(g.m=c.m),g};function wt(c){return new bn(c)}function Ut(c,g,_){c.j=_?ys(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ia(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function il(c,g,_){g instanceof oa?(c.i=g,Xr(c.i,c.l)):(_||(g=or(g,la)),c.i=new oa(g,c.l))}function Xe(c,g,_){c.i.set(g,_)}function lr(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ys(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function or(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,ln),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Yr=/[#\/\?@]/g,Po=/[#\?:]/g,ll=/[#\?]/g,la=/[#\?@]/g,qo=/#/g;function oa(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&Qr(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=oa.prototype,r.add=function(c,g){on(this),this.i=null,c=ca(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Ho(c,g){on(c),g=ca(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function ol(c,g){return on(c),g=ca(c,g),c.g.has(g)}r.forEach=function(c,g){on(this),this.g.forEach(function(_,w){_.forEach(function(z){c.call(g,z,w,this)},this)},this)};function cl(c,g){on(c);let _=[];if(typeof g=="string")ol(c,g)&&(_=_.concat(c.g.get(ca(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)_=_.concat(c[g]);return _}r.set=function(c,g){return on(this),this.i=null,c=ca(this,c),ol(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=cl(this,c),c.length>0?String(c[0]):g):g};function Kr(c,g,_){Ho(c,g),_.length>0&&(c.i=null,c.g.set(ca(c,g),L(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let w=0;w<g.length;w++){var _=g[w];const z=Vs(_);_=cl(this,_);for(let F=0;F<_.length;F++){let se=z;_[F]!==""&&(se+="="+Vs(_[F])),c.push(se)}}return this.i=c.join("&")};function Fo(c){const g=new oa;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function ca(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Xr(c,g){g&&!c.j&&(on(c),c.i=null,c.g.forEach(function(_,w){const z=w.toLowerCase();w!=z&&(Ho(this,w),Kr(this,z,_))},c)),c.j=g}function $n(c,g){const _=new Yn;if(m.Image){const w=new Image;w.onload=v(Dn,_,"TestLoadImage: loaded",!0,g,w),w.onerror=v(Dn,_,"TestLoadImage: error",!1,g,w),w.onabort=v(Dn,_,"TestLoadImage: abort",!1,g,w),w.ontimeout=v(Dn,_,"TestLoadImage: timeout",!1,g,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else g(!1)}function ul(c,g){const _=new Yn,w=new AbortController,z=setTimeout(()=>{w.abort(),Dn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:w.signal}).then(F=>{clearTimeout(z),F.ok?Dn(_,"TestPingServer: ok",!0,g):Dn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Dn(_,"TestPingServer: error",!1,g)})}function Dn(c,g,_,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(_)}catch{}}function ua(){this.g=new Co}function xs(c){this.i=c.Sb||null,this.h=c.ab||!1}T(xs,Do),xs.prototype.g=function(){return new cr(this.i,this.h)};function cr(c,g){_t.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(cr,_t),r=cr.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Zn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||m).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ha(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$r(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function $r(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ha(this):Zn(this),this.readyState==3&&$r(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,ha(this))},r.Na=function(c){this.g&&(this.response=c,ha(this))},r.ga=function(){this.g&&ha(this)};function ha(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Zn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let g="";return Re(c,function(_,w){g+=w,g+=":",g+=_,g+=`\r
`}),g}function ur(c,g,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=In(_),typeof c=="string"?_!=null&&Vs(_):Xe(c,g,_))}function Je(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Je,_t);var bs=/^https?$/i,hl=["POST","PUT"];r=Je.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():el.g(),this.g.onreadystatechange=R(b(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){hr(this,F);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)_.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const F of w.keys())_.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(Array.prototype.indexOf.call(hl,g,void 0)>=0)||w||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,se]of _)this.g.setRequestHeader(F,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){hr(this,F)}};function hr(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,dl(c),Os(c)}function dl(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,It(this,"complete"),It(this,"abort"),Os(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Os(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?dr(this):this.Xa())},r.Xa=function(){dr(this)};function dr(c){if(c.h&&typeof h<"u"){if(c.v&&Jn(c)==4)setTimeout(c.Ca.bind(c),0);else if(It(c,"readystatechange"),Jn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var w;if(w=F===0){let se=String(c.D).match(Bo)[1]||null;!se&&m.self&&m.self.location&&(se=m.self.location.protocol.slice(0,-1)),w=!bs.test(se?se.toLowerCase():"")}_=w}if(_)It(c,"complete"),It(c,"success");else{c.o=6;try{var z=Jn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",dl(c)}}finally{Os(c)}}}}function Os(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,g||It(c,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Jn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),th(g)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ms(c){const g={};c=(c.g&&Jn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(j(c[w]))continue;var _=Uo(c[w]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=g[z]||[];g[z]=F,F.push(_)}ze(g,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function da(c){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_s("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_s("baseRetryDelayMs",5e3,c),this.Za=_s("retryDelaySeedMs",1e4,c),this.Ta=_s("forwardChannelMaxRetries",2,c),this.va=_s("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new tl(c&&c.concurrentRequestLimit),this.Ba=new ua,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=da.prototype,r.ka=8,r.I=1,r.connect=function(c,g,_,w){vt(0),this.W=c,this.H=g||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.J=Zo(this,null,this.W),vs(this)};function fl(c){if(Zr(c),c.I==3){var g=c.V++,_=wt(c.J);if(Xe(_,"SID",c.M),Xe(_,"RID",g),Xe(_,"TYPE","terminate"),fr(c,_),g=new Kn(c,c.j,g),g.M=2,g.A=lr(wt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.A.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.A,_=!0),_||(g.g=Jo(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ds(g)}$o(c)}function fa(c){c.g&&(gl(c),c.g.cancel(),c.g=null)}function Zr(c){fa(c),c.v&&(m.clearTimeout(c.v),c.v=null),Wr(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&m.clearTimeout(c.m),c.m=null)}function vs(c){if(!nl(c.h)&&!c.m){c.m=!0;var g=c.Ea;ve||A(),be||(ve(),be=!0),N.add(g,c),c.D=0}}function Jr(c,g){return gs(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=cs(b(c.Ea,c,g),Xo(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Kn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=k(F),te(F,this.U)):F=this.U),this.u!==null||this.R||(z.J=F,F=null),this.S)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(g+=w,g>4096){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Go(this,z,g),_=wt(this.J),Xe(_,"RID",c),Xe(_,"CVER",22),this.G&&Xe(_,"X-HTTP-Session-Id",this.G),fr(this,_),F&&(this.R?g="headers="+Vs(In(F))+"&"+g:this.u&&ur(_,this.u,F)),sl(this.h,z),this.Ra&&Xe(_,"TYPE","init"),this.S?(Xe(_,"$req",g),Xe(_,"SID","null"),z.U=!0,hs(z,_,null)):hs(z,_,g),this.I=2}}else this.I==3&&(c?ml(this,c):this.i.length==0||nl(this.h)||ml(this))};function ml(c,g){var _;g?_=g.l:_=c.V++;const w=wt(c.J);Xe(w,"SID",c.M),Xe(w,"RID",_),Xe(w,"AID",c.K),fr(c,w),c.u&&c.o&&ur(w,c.u,c.o),_=new Kn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Go(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),sl(c.h,_),hs(_,w,g)}function fr(c,g){c.H&&Re(c.H,function(_,w){Xe(g,w,_)}),c.l&&Re({},function(_,w){Xe(g,w,_)})}function Go(c,g,_){_=Math.min(c.i.length,_);const w=c.l?b(c.l.Ka,c.l,c):null;e:{var z=c.i;let Ae=-1;for(;;){const pt=["count="+_];Ae==-1?_>0?(Ae=z[0].g,pt.push("ofs="+Ae)):Ae=0:pt.push("ofs="+Ae);let Fe=!0;for(let lt=0;lt<_;lt++){var F=z[lt].g;const Vn=z[lt].map;if(F-=Ae,F<0)Ae=Math.max(0,z[lt].g-100),Fe=!1;else try{F="req"+F+"_"||"";try{var se=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ts,Wn]of se){let es=Wn;p(Wn)&&(es=ra(Wn)),pt.push(F+Ts+"="+encodeURIComponent(es))}}catch(Ts){throw pt.push(F+"type="+encodeURIComponent("_badmap")),Ts}}catch{w&&w(Vn)}}if(Fe){se=pt.join("&");break e}}se=void 0}return c=c.i.splice(0,_),g.G=c,se}function Qo(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;ve||A(),be||(ve(),be=!0),N.add(g,c),c.A=0}}function mr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=cs(b(c.Da,c),Xo(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Yo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=cs(b(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),fa(this),Yo(this))};function gl(c){c.B!=null&&(m.clearTimeout(c.B),c.B=null)}function Yo(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=wt(c.na);Xe(g,"RID","rpc"),Xe(g,"SID",c.M),Xe(g,"AID",c.K),Xe(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(g,"TO",c.ia),Xe(g,"TYPE","xmlhttp"),fr(c,g),c.u&&c.o&&ur(g,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=lr(wt(g)),_.u=null,_.R=!0,Fr(_,c)}r.Va=function(){this.C!=null&&(this.C=null,fa(this),mr(this),vt(19))};function Wr(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ko(c,g){var _=null;if(c.g==g){Wr(c),gl(c),c.g=null;var w=2}else if(ps(c.h,g))_=g.G,al(c.h,g),w=1;else return;if(c.I!=0){if(g.o)if(w==1){_=g.u?g.u.length:0,g=Date.now()-g.F;var z=c.D;w=Hr(),It(w,new os(w,_)),vs(c)}else Qo(c);else if(z=g.m,z==3||z==0&&g.X>0||!(w==1&&Jr(c,g)||w==2&&mr(c)))switch(_&&_.length>0&&(g=c.h,g.i=g.i.concat(_)),z){case 1:Es(c,5);break;case 4:Es(c,10);break;case 3:Es(c,6);break;default:Es(c,2)}}}function Xo(c,g){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*g}function Es(c,g){if(c.j.info("Error code "+g),g==2){var _=b(c.bb,c),w=c.Ua;const z=!w;w=new bn(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ut(w,"https"),lr(w),z?$n(w.toString(),_):ul(w.toString(),_)}else vt(2);c.I=0,c.l&&c.l.pa(g),$o(c),Zr(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function $o(c){if(c.I=0,c.ja=[],c.l){const g=rl(c.h);(g.length!=0||c.i.length!=0)&&(H(c.ja,g),H(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Zo(c,g,_){var w=_ instanceof bn?wt(_):new bn(_);if(w.g!="")g&&(w.g=g+"."+w.g),ia(w,w.u);else{var z=m.location;w=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;const F=new bn(null);w&&Ut(F,w),g&&(F.g=g),z&&ia(F,z),_&&(F.h=_),w=F}return _=c.G,g=c.wa,_&&g&&Xe(w,_,g),Xe(w,"VER",c.ka),fr(c,w),w}function Jo(c,g,_){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Je(new xs({ab:_})):new Je(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wo(){}r=Wo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ma(){}ma.prototype.g=function(c,g){return new sn(c,g)};function sn(c,g){_t.call(this),this.g=new da(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!j(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!j(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Us(this)}T(sn,_t),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){fl(this.g)},sn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=ra(c),c=_);g.i.push(new Tt(g.Ya++,c)),g.I==3&&vs(g)},sn.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,sn.Z.N.call(this)};function ec(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(ec,qt);function tc(){jn.call(this),this.status=1}T(tc,jn);function Us(c){this.g=c}T(Us,Wo),Us.prototype.ra=function(){It(this.g,"a")},Us.prototype.qa=function(c){It(this.g,new ec(c))},Us.prototype.pa=function(c){It(this.g,new tc)},Us.prototype.oa=function(){It(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Yx=function(){return new ma},Qx=function(){return Hr()},Gx=gt,Tf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,du=rr,Wi.COMPLETE="complete",Fx=Wi,Io.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,so=Io,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Hx=Je}).apply(typeof ru<"u"?ru:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fi="12.9.0";function mT(r){Fi=r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new Dx("@firebase/firestore");function ji(){return Mr.logLevel}function ie(r,...t){if(Mr.logLevel<=Pe.DEBUG){const s=t.map(Ff);Mr.debug(`Firestore (${Fi}): ${r}`,...s)}}function ta(r,...t){if(Mr.logLevel<=Pe.ERROR){const s=t.map(Ff);Mr.error(`Firestore (${Fi}): ${r}`,...s)}}function Ur(r,...t){if(Mr.logLevel<=Pe.WARN){const s=t.map(Ff);Mr.warn(`Firestore (${Fi}): ${r}`,...s)}}function Ff(r){if(typeof r=="string")return r;try{return(function(s){return JSON.stringify(s)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,t,s){let i="Unexpected state";typeof t=="string"?i=t:s=t,Kx(r,i,s)}function Kx(r,t,s){let i=`FIRESTORE (${Fi}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(s!==void 0)try{i+=" CONTEXT: "+JSON.stringify(s)}catch{i+=" CONTEXT: "+s}throw ta(i),new Error(i)}function Ye(r,t,s,i){let o="Unexpected state";typeof s=="string"?o=s:i=s,r||Kx(t,o,i)}function we(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Br{constructor(t,s){super(t,s),this.code=t,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.promise=new Promise(((t,s)=>{this.resolve=t,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,s){t.enqueueRetryable((()=>s(Wt.UNAUTHENTICATED)))}shutdown(){}}class pT{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,s){this.changeListener=s,t.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class yT{constructor(t){this.t=t,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,s){Ye(this.o===void 0,42304);let i=this.i;const o=x=>this.i!==i?(i=this.i,s(x)):Promise.resolve();let h=new Ha;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ha,t.enqueueRetryable((()=>o(this.currentUser)))};const m=()=>{const x=h;t.enqueueRetryable((async()=>{await x.promise,await o(this.currentUser)}))},p=x=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((x=>p(x))),setTimeout((()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?p(x):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ha)}}),0),m()}getToken(){const t=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((i=>this.i!==t?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ye(typeof i.accessToken=="string",31837,{l:i}),new Xx(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ye(t===null||typeof t=="string",2055,{h:t}),new Wt(t)}}class xT{constructor(t,s,i){this.P=t,this.T=s,this.I=i,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class bT{constructor(t,s,i){this.P=t,this.T=s,this.I=i}getToken(){return Promise.resolve(new xT(this.P,this.T,this.I))}start(t,s){t.enqueueRetryable((()=>s(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class by{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _T{constructor(t,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mx(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,s){Ye(this.o===void 0,3512);const i=h=>{h.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,ie("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?s(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>i(h)))};const o=h=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new by(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((s=>s?(Ye(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new by(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(s);else for(let i=0;i<r;i++)s[i]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=vT(40);for(let h=0;h<o.length;++h)i.length<20&&o[h]<s&&(i+=t.charAt(o[h]%62))}return i}}function Ve(r,t){return r<t?-1:r>t?1:0}function wf(r,t){const s=Math.min(r.length,t.length);for(let i=0;i<s;i++){const o=r.charAt(i),h=t.charAt(i);if(o!==h)return cf(o)===cf(h)?Ve(o,h):cf(o)?1:-1}return Ve(r.length,t.length)}const ET=55296,TT=57343;function cf(r){const t=r.charCodeAt(0);return t>=ET&&t<=TT}function Li(r,t,s){return r.length===t.length&&r.every(((i,o)=>s(i,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="__name__";class ks{constructor(t,s,i){s===void 0?s=0:s>t.length&&_e(637,{offset:s,range:t.length}),i===void 0?i=t.length-s:i>t.length-s&&_e(1746,{length:i,range:t.length-s}),this.segments=t,this.offset=s,this.len=i}get length(){return this.len}isEqual(t){return ks.comparator(this,t)===0}child(t){const s=this.segments.slice(this.offset,this.limit());return t instanceof ks?t.forEach((i=>{s.push(i)})):s.push(t),this.construct(s)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}forEach(t){for(let s=this.offset,i=this.limit();s<i;s++)t(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,s){const i=Math.min(t.length,s.length);for(let o=0;o<i;o++){const h=ks.compareSegments(t.get(o),s.get(o));if(h!==0)return h}return Ve(t.length,s.length)}static compareSegments(t,s){const i=ks.isNumericId(t),o=ks.isNumericId(s);return i&&!o?-1:!i&&o?1:i&&o?ks.extractNumericId(t).compare(ks.extractNumericId(s)):wf(t,s)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return qa.fromString(t.substring(4,t.length-2))}}class st extends ks{construct(t,s,i){return new st(t,s,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const s=[];for(const i of t){if(i.indexOf("//")>=0)throw new re(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);s.push(...i.split("/").filter((o=>o.length>0)))}return new st(s)}static emptyPath(){return new st([])}}const wT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends ks{construct(t,s,i){return new Xt(t,s,i)}static isValidIdentifier(t){return wT.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_y}static keyField(){return new Xt([_y])}static fromServerFormat(t){const s=[];let i="",o=0;const h=()=>{if(i.length===0)throw new re(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(i),i=""};let m=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new re(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const x=t[o+1];if(x!=="\\"&&x!=="."&&x!=="`")throw new re(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=x,o+=2}else p==="`"?(m=!m,o++):p!=="."||m?(i+=p,o++):(h(),o++)}if(h(),m)throw new re(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xt(s)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.path=t}static fromPath(t){return new pe(st.fromString(t))}static fromName(t){return new pe(st.fromString(t).popFirst(5))}static empty(){return new pe(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&st.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,s){return st.comparator(t.path,s.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pe(new st(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(r,t,s){if(!s)throw new re(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function NT(r,t,s,i){if(t===!0&&i===!0)throw new re(X.INVALID_ARGUMENT,`${r} and ${s} cannot be used together.`)}function vy(r){if(!pe.isDocumentKey(r))throw new re(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ey(r){if(pe.isDocumentKey(r))throw new re(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Zx(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ou(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function as(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new re(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Ou(r);throw new re(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${s}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(r,t){const s={typeString:r};return t&&(s.value=t),s}function wo(r,t){if(!Zx(r))throw new re(X.INVALID_ARGUMENT,"JSON must be an object");let s;for(const i in t)if(t[i]){const o=t[i].typeString,h="value"in t[i]?{value:t[i].value}:void 0;if(!(i in r)){s=`JSON missing required field: '${i}'`;break}const m=r[i];if(o&&typeof m!==o){s=`JSON field '${i}' must be a ${o}.`;break}if(h!==void 0&&m!==h.value){s=`Expected '${i}' field to equal '${h.value}'`;break}}if(s)throw new re(X.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=-62135596800,wy=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(t){return Qe.fromMillis(t.getTime())}static fromMillis(t){const s=Math.floor(t/1e3),i=Math.floor((t-1e3*s)*wy);return new Qe(s,i)}constructor(t,s){if(this.seconds=t,this.nanoseconds=s,s<0)throw new re(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new re(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(t<Ty)throw new re(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new re(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wy}_compareTo(t){return this.seconds===t.seconds?Ve(this.nanoseconds,t.nanoseconds):Ve(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(wo(t,Qe._jsonSchema))return new Qe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Ty;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:Ct("string",Qe._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(t){return new Ee(t)}static min(){return new Ee(new Qe(0,0))}static max(){return new Ee(new Qe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=-1;function AT(r,t){const s=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(i===1e9?new Qe(s+1,0):new Qe(s,i));return new Ga(o,pe.empty(),t)}function ST(r){return new Ga(r.readTime,r.key,po)}class Ga{constructor(t,s,i){this.readTime=t,this.documentKey=s,this.largestBatchId=i}static min(){return new Ga(Ee.min(),pe.empty(),po)}static max(){return new Ga(Ee.max(),pe.empty(),po)}}function kT(r,t){let s=r.readTime.compareTo(t.readTime);return s!==0?s:(s=pe.comparator(r.documentKey,t.documentKey),s!==0?s:Ve(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gi(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==RT)throw r;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(t){return this.next(void 0,t)}next(t,s){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(t,this.result):new Z(((i,o)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(i,o)},this.catchCallback=h=>{this.wrapFailure(s,h).next(i,o)}}))}toPromise(){return new Promise(((t,s)=>{this.next(t,s)}))}wrapUserFunction(t){try{const s=t();return s instanceof Z?s:Z.resolve(s)}catch(s){return Z.reject(s)}}wrapSuccess(t,s){return t?this.wrapUserFunction((()=>t(s))):Z.resolve(s)}wrapFailure(t,s){return t?this.wrapUserFunction((()=>t(s))):Z.reject(s)}static resolve(t){return new Z(((s,i)=>{s(t)}))}static reject(t){return new Z(((s,i)=>{i(t)}))}static waitFor(t){return new Z(((s,i)=>{let o=0,h=0,m=!1;t.forEach((p=>{++o,p.next((()=>{++h,m&&h===o&&s()}),(x=>i(x)))})),m=!0,h===o&&s()}))}static or(t){let s=Z.resolve(!1);for(const i of t)s=s.next((o=>o?Z.resolve(o):i()));return s}static forEach(t,s){const i=[];return t.forEach(((o,h)=>{i.push(s.call(this,o,h))})),this.waitFor(i)}static mapArray(t,s){return new Z(((i,o)=>{const h=t.length,m=new Array(h);let p=0;for(let x=0;x<h;x++){const b=x;s(t[b]).next((v=>{m[b]=v,++p,p===h&&i(m)}),(v=>o(v)))}}))}static doWhile(t,s){return new Z(((i,o)=>{const h=()=>{t()===!0?s().next((()=>{h()}),o):i()};h()}))}}function CT(r){const t=r.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function Qi(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>s.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Mu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=-1;function Uu(r){return r==null}function vu(r){return r===0&&1/r==-1/0}function DT(r){return typeof r=="number"&&Number.isInteger(r)&&!vu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="";function IT(r){let t="";for(let s=0;s<r.length;s++)t.length>0&&(t=Ny(t)),t=VT(r.get(s),t);return Ny(t)}function VT(r,t){let s=t;const i=r.length;for(let o=0;o<i;o++){const h=r.charAt(o);switch(h){case"\0":s+="";break;case Jx:s+="";break;default:s+=h}}return s}function Ny(r){return r+Jx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(r){let t=0;for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&t++;return t}function Ja(r,t){for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&t(s,r[s])}function Wx(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t,s){this.comparator=t,this.root=s||Kt.EMPTY}insert(t,s){return new ut(this.comparator,this.root.insert(t,s,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(t){return new ut(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(t){let s=this.root;for(;!s.isEmpty();){const i=this.comparator(t,s.key);if(i===0)return s.value;i<0?s=s.left:i>0&&(s=s.right)}return null}indexOf(t){let s=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(t,i.key);if(o===0)return s+i.left.size;o<0?i=i.left:(s+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((s,i)=>(t(s,i),!1)))}toString(){const t=[];return this.inorderTraversal(((s,i)=>(t.push(`${s}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new iu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new iu(this.root,t,this.comparator,!1)}getReverseIterator(){return new iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new iu(this.root,t,this.comparator,!0)}}class iu{constructor(t,s,i,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=s?i(t.key,s):1,s&&o&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const s={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Kt{constructor(t,s,i,o,h){this.key=t,this.value=s,this.color=i??Kt.RED,this.left=o??Kt.EMPTY,this.right=h??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,s,i,o,h){return new Kt(t??this.key,s??this.value,i??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,s,i){let o=this;const h=i(t,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(t,s,i),null):h===0?o.copy(null,s,null,null,null):o.copy(null,null,null,null,o.right.insert(t,s,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,s){let i,o=this;if(s(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,s),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),s(t,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,s))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,s)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _e(27949);return t+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(t,s,i,o,h){return this}insert(t,s,i){return new Kt(t,s)}remove(t,s){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.comparator=t,this.data=new ut(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((s,i)=>(t(s),!1)))}forEachInRange(t,s){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;s(o.key)}}forEachWhile(t,s){let i;for(i=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const s=this.data.getIteratorFrom(t);return s.hasNext()?s.getNext().key:null}getIterator(){return new Sy(this.data.getIterator())}getIteratorFrom(t){return new Sy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let s=this;return s.size<t.size&&(s=t,t=this),t.forEach((i=>{s=s.add(i)})),s}isEqual(t){if(!(t instanceof Ot)||this.size!==t.size)return!1;const s=this.data.getIterator(),i=t.data.getIterator();for(;s.hasNext();){const o=s.getNext().key,h=i.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((s=>{t.push(s)})),t}toString(){const t=[];return this.forEach((s=>t.push(s))),"SortedSet("+t.toString()+")"}copy(t){const s=new Ot(this.comparator);return s.data=t,s}}class Sy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.fields=t,t.sort(Xt.comparator)}static empty(){return new Sn([])}unionWith(t){let s=new Ot(Xt.comparator);for(const i of this.fields)s=s.add(i);for(const i of t)s=s.add(i);return new Sn(s.toArray())}covers(t){for(const s of this.fields)if(s.isPrefixOf(t))return!0;return!1}isEqual(t){return Li(this.fields,t.fields,((s,i)=>s.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.binaryString=t}static fromBase64String(t){const s=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new eb("Invalid base64 string: "+h):h}})(t);return new $t(s)}static fromUint8Array(t){const s=(function(o){let h="";for(let m=0;m<o.length;++m)h+=String.fromCharCode(o[m]);return h})(t);return new $t(s)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const i=new Uint8Array(s.length);for(let o=0;o<s.length;o++)i[o]=s.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ve(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const OT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qa(r){if(Ye(!!r,39018),typeof r=="string"){let t=0;const s=OT.exec(r);if(Ye(!!s,46558,{timestamp:r}),s[1]){let o=s[1];o=(o+"000000000").substr(0,9),t=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ya(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="server_timestamp",nb="__type__",sb="__previous_value__",ab="__local_write_time__";function Yf(r){var s,i;return((i=(((s=r==null?void 0:r.mapValue)==null?void 0:s.fields)||{})[nb])==null?void 0:i.stringValue)===tb}function Lu(r){const t=r.mapValue.fields[sb];return Yf(t)?Lu(t):t}function yo(r){const t=Qa(r.mapValue.fields[ab].timestampValue);return new Qe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,s,i,o,h,m,p,x,b,v,T){this.databaseId=t,this.appId=s,this.persistenceKey=i,this.host=o,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=p,this.longPollingOptions=x,this.useFetchStreams=b,this.isUsingEmulator=v,this.apiKey=T}}const Eu="(default)";class xo{constructor(t,s){this.projectId=t,this.database=s||Eu}static empty(){return new xo("","")}get isDefaultDatabase(){return this.database===Eu}isEqual(t){return t instanceof xo&&t.projectId===this.projectId&&t.database===this.database}}function UT(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new re(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xo(r.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="__type__",LT="__max__",lu={mapValue:{}},ib="__vector__",Tu="value";function Ka(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Yf(r)?4:BT(r)?9007199254740991:zT(r)?10:11:_e(28295,{value:r})}function Is(r,t){if(r===t)return!0;const s=Ka(r);if(s!==Ka(t))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return yo(r).isEqual(yo(t));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const m=Qa(o.timestampValue),p=Qa(h.timestampValue);return m.seconds===p.seconds&&m.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,h){return Ya(o.bytesValue).isEqual(Ya(h.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,h){return bt(o.geoPointValue.latitude)===bt(h.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(h.geoPointValue.longitude)})(r,t);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return bt(o.integerValue)===bt(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const m=bt(o.doubleValue),p=bt(h.doubleValue);return m===p?vu(m)===vu(p):isNaN(m)&&isNaN(p)}return!1})(r,t);case 9:return Li(r.arrayValue.values||[],t.arrayValue.values||[],Is);case 10:case 11:return(function(o,h){const m=o.mapValue.fields||{},p=h.mapValue.fields||{};if(Ay(m)!==Ay(p))return!1;for(const x in m)if(m.hasOwnProperty(x)&&(p[x]===void 0||!Is(m[x],p[x])))return!1;return!0})(r,t);default:return _e(52216,{left:r})}}function bo(r,t){return(r.values||[]).find((s=>Is(s,t)))!==void 0}function zi(r,t){if(r===t)return 0;const s=Ka(r),i=Ka(t);if(s!==i)return Ve(s,i);switch(s){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,t.booleanValue);case 2:return(function(h,m){const p=bt(h.integerValue||h.doubleValue),x=bt(m.integerValue||m.doubleValue);return p<x?-1:p>x?1:p===x?0:isNaN(p)?isNaN(x)?0:-1:1})(r,t);case 3:return ky(r.timestampValue,t.timestampValue);case 4:return ky(yo(r),yo(t));case 5:return wf(r.stringValue,t.stringValue);case 6:return(function(h,m){const p=Ya(h),x=Ya(m);return p.compareTo(x)})(r.bytesValue,t.bytesValue);case 7:return(function(h,m){const p=h.split("/"),x=m.split("/");for(let b=0;b<p.length&&b<x.length;b++){const v=Ve(p[b],x[b]);if(v!==0)return v}return Ve(p.length,x.length)})(r.referenceValue,t.referenceValue);case 8:return(function(h,m){const p=Ve(bt(h.latitude),bt(m.latitude));return p!==0?p:Ve(bt(h.longitude),bt(m.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Ry(r.arrayValue,t.arrayValue);case 10:return(function(h,m){var R,L,H,ee;const p=h.fields||{},x=m.fields||{},b=(R=p[Tu])==null?void 0:R.arrayValue,v=(L=x[Tu])==null?void 0:L.arrayValue,T=Ve(((H=b==null?void 0:b.values)==null?void 0:H.length)||0,((ee=v==null?void 0:v.values)==null?void 0:ee.length)||0);return T!==0?T:Ry(b,v)})(r.mapValue,t.mapValue);case 11:return(function(h,m){if(h===lu.mapValue&&m===lu.mapValue)return 0;if(h===lu.mapValue)return 1;if(m===lu.mapValue)return-1;const p=h.fields||{},x=Object.keys(p),b=m.fields||{},v=Object.keys(b);x.sort(),v.sort();for(let T=0;T<x.length&&T<v.length;++T){const R=wf(x[T],v[T]);if(R!==0)return R;const L=zi(p[x[T]],b[v[T]]);if(L!==0)return L}return Ve(x.length,v.length)})(r.mapValue,t.mapValue);default:throw _e(23264,{he:s})}}function ky(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ve(r,t);const s=Qa(r),i=Qa(t),o=Ve(s.seconds,i.seconds);return o!==0?o:Ve(s.nanos,i.nanos)}function Ry(r,t){const s=r.values||[],i=t.values||[];for(let o=0;o<s.length&&o<i.length;++o){const h=zi(s[o],i[o]);if(h)return h}return Ve(s.length,i.length)}function Bi(r){return Nf(r)}function Nf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(s){const i=Qa(s);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(s){return Ya(s).toBase64()})(r.bytesValue):"referenceValue"in r?(function(s){return pe.fromName(s).toString()})(r.referenceValue):"geoPointValue"in r?(function(s){return`geo(${s.latitude},${s.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(s){let i="[",o=!0;for(const h of s.values||[])o?o=!1:i+=",",i+=Nf(h);return i+"]"})(r.arrayValue):"mapValue"in r?(function(s){const i=Object.keys(s.fields||{}).sort();let o="{",h=!0;for(const m of i)h?h=!1:o+=",",o+=`${m}:${Nf(s.fields[m])}`;return o+"}"})(r.mapValue):_e(61005,{value:r})}function fu(r){switch(Ka(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Lu(r);return t?16+fu(t):16;case 5:return 2*r.stringValue.length;case 6:return Ya(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,h)=>o+fu(h)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return Ja(i.fields,((h,m)=>{o+=h.length+fu(m)})),o})(r.mapValue);default:throw _e(13486,{value:r})}}function jy(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Af(r){return!!r&&"integerValue"in r}function Kf(r){return!!r&&"arrayValue"in r}function Cy(r){return!!r&&"nullValue"in r}function Dy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function mu(r){return!!r&&"mapValue"in r}function zT(r){var s,i;return((i=(((s=r==null?void 0:r.mapValue)==null?void 0:s.fields)||{})[rb])==null?void 0:i.stringValue)===ib}function oo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ja(r.mapValue.fields,((s,i)=>t.mapValue.fields[s]=oo(i))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let s=0;s<(r.arrayValue.values||[]).length;++s)t.arrayValue.values[s]=oo(r.arrayValue.values[s]);return t}return{...r}}function BT(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===LT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let s=this.value;for(let i=0;i<t.length-1;++i)if(s=(s.mapValue.fields||{})[t.get(i)],!mu(s))return null;return s=(s.mapValue.fields||{})[t.lastSegment()],s||null}}set(t,s){this.getFieldsMap(t.popLast())[t.lastSegment()]=oo(s)}setAll(t){let s=Xt.emptyPath(),i={},o=[];t.forEach(((m,p)=>{if(!s.isImmediateParentOf(p)){const x=this.getFieldsMap(s);this.applyChanges(x,i,o),i={},o=[],s=p.popLast()}m?i[p.lastSegment()]=oo(m):o.push(p.lastSegment())}));const h=this.getFieldsMap(s);this.applyChanges(h,i,o)}delete(t){const s=this.field(t.popLast());mu(s)&&s.mapValue.fields&&delete s.mapValue.fields[t.lastSegment()]}isEqual(t){return Is(this.value,t.value)}getFieldsMap(t){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let i=0;i<t.length;++i){let o=s.mapValue.fields[t.get(i)];mu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},s.mapValue.fields[t.get(i)]=o),s=o}return s.mapValue.fields}applyChanges(t,s,i){Ja(s,((o,h)=>t[o]=h));for(const o of i)delete t[o]}clone(){return new gn(oo(this.value))}}function lb(r){const t=[];return Ja(r.fields,((s,i)=>{const o=new Xt([s]);if(mu(i)){const h=lb(i.mapValue).fields;if(h.length===0)t.push(o);else for(const m of h)t.push(o.child(m))}else t.push(o)})),new Sn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t,s,i,o,h,m,p){this.key=t,this.documentType=s,this.version=i,this.readTime=o,this.createTime=h,this.data=m,this.documentState=p}static newInvalidDocument(t){return new en(t,0,Ee.min(),Ee.min(),Ee.min(),gn.empty(),0)}static newFoundDocument(t,s,i,o){return new en(t,1,s,Ee.min(),i,o,0)}static newNoDocument(t,s){return new en(t,2,s,Ee.min(),Ee.min(),gn.empty(),0)}static newUnknownDocument(t,s){return new en(t,3,s,Ee.min(),Ee.min(),gn.empty(),2)}convertToFoundDocument(t,s){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof en&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(t,s){this.position=t,this.inclusive=s}}function Iy(r,t,s){let i=0;for(let o=0;o<r.position.length;o++){const h=t[o],m=r.position[o];if(h.field.isKeyField()?i=pe.comparator(pe.fromName(m.referenceValue),s.key):i=zi(m,s.data.field(h.field)),h.dir==="desc"&&(i*=-1),i!==0)break}return i}function Vy(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let s=0;s<r.position.length;s++)if(!Is(r.position[s],t.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t,s="asc"){this.field=t,this.dir=s}}function PT(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{}class jt extends ob{constructor(t,s,i){super(),this.field=t,this.op=s,this.value=i}static create(t,s,i){return t.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(t,s,i):new HT(t,s,i):s==="array-contains"?new QT(t,i):s==="in"?new YT(t,i):s==="not-in"?new KT(t,i):s==="array-contains-any"?new XT(t,i):new jt(t,s,i)}static createKeyFieldInFilter(t,s,i){return s==="in"?new FT(t,i):new GT(t,i)}matches(t){const s=t.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(zi(s,this.value)):s!==null&&Ka(this.value)===Ka(s)&&this.matchesComparison(zi(s,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class is extends ob{constructor(t,s){super(),this.filters=t,this.op=s,this.Pe=null}static create(t,s){return new is(t,s)}matches(t){return cb(this)?this.filters.find((s=>!s.matches(t)))===void 0:this.filters.find((s=>s.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,s)=>t.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cb(r){return r.op==="and"}function ub(r){return qT(r)&&cb(r)}function qT(r){for(const t of r.filters)if(t instanceof is)return!1;return!0}function Sf(r){if(r instanceof jt)return r.field.canonicalString()+r.op.toString()+Bi(r.value);if(ub(r))return r.filters.map((t=>Sf(t))).join(",");{const t=r.filters.map((s=>Sf(s))).join(",");return`${r.op}(${t})`}}function hb(r,t){return r instanceof jt?(function(i,o){return o instanceof jt&&i.op===o.op&&i.field.isEqual(o.field)&&Is(i.value,o.value)})(r,t):r instanceof is?(function(i,o){return o instanceof is&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((h,m,p)=>h&&hb(m,o.filters[p])),!0):!1})(r,t):void _e(19439)}function db(r){return r instanceof jt?(function(s){return`${s.field.canonicalString()} ${s.op} ${Bi(s.value)}`})(r):r instanceof is?(function(s){return s.op.toString()+" {"+s.getFilters().map(db).join(" ,")+"}"})(r):"Filter"}class HT extends jt{constructor(t,s,i){super(t,s,i),this.key=pe.fromName(i.referenceValue)}matches(t){const s=pe.comparator(t.key,this.key);return this.matchesComparison(s)}}class FT extends jt{constructor(t,s){super(t,"in",s),this.keys=fb("in",s)}matches(t){return this.keys.some((s=>s.isEqual(t.key)))}}class GT extends jt{constructor(t,s){super(t,"not-in",s),this.keys=fb("not-in",s)}matches(t){return!this.keys.some((s=>s.isEqual(t.key)))}}function fb(r,t){var s;return(((s=t.arrayValue)==null?void 0:s.values)||[]).map((i=>pe.fromName(i.referenceValue)))}class QT extends jt{constructor(t,s){super(t,"array-contains",s)}matches(t){const s=t.data.field(this.field);return Kf(s)&&bo(s.arrayValue,this.value)}}class YT extends jt{constructor(t,s){super(t,"in",s)}matches(t){const s=t.data.field(this.field);return s!==null&&bo(this.value.arrayValue,s)}}class KT extends jt{constructor(t,s){super(t,"not-in",s)}matches(t){if(bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=t.data.field(this.field);return s!==null&&s.nullValue===void 0&&!bo(this.value.arrayValue,s)}}class XT extends jt{constructor(t,s){super(t,"array-contains-any",s)}matches(t){const s=t.data.field(this.field);return!(!Kf(s)||!s.arrayValue.values)&&s.arrayValue.values.some((i=>bo(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t,s=null,i=[],o=[],h=null,m=null,p=null){this.path=t,this.collectionGroup=s,this.orderBy=i,this.filters=o,this.limit=h,this.startAt=m,this.endAt=p,this.Te=null}}function Oy(r,t=null,s=[],i=[],o=null,h=null,m=null){return new $T(r,t,s,i,o,h,m)}function Xf(r){const t=we(r);if(t.Te===null){let s=t.path.canonicalString();t.collectionGroup!==null&&(s+="|cg:"+t.collectionGroup),s+="|f:",s+=t.filters.map((i=>Sf(i))).join(","),s+="|ob:",s+=t.orderBy.map((i=>(function(h){return h.field.canonicalString()+h.dir})(i))).join(","),Uu(t.limit)||(s+="|l:",s+=t.limit),t.startAt&&(s+="|lb:",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((i=>Bi(i))).join(",")),t.endAt&&(s+="|ub:",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((i=>Bi(i))).join(",")),t.Te=s}return t.Te}function $f(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<r.orderBy.length;s++)if(!PT(r.orderBy[s],t.orderBy[s]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let s=0;s<r.filters.length;s++)if(!hb(r.filters[s],t.filters[s]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Vy(r.startAt,t.startAt)&&Vy(r.endAt,t.endAt)}function kf(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t,s=null,i=[],o=[],h=null,m="F",p=null,x=null){this.path=t,this.collectionGroup=s,this.explicitOrderBy=i,this.filters=o,this.limit=h,this.limitType=m,this.startAt=p,this.endAt=x,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ZT(r,t,s,i,o,h,m,p){return new Yi(r,t,s,i,o,h,m,p)}function Zf(r){return new Yi(r)}function My(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function JT(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function mb(r){return r.collectionGroup!==null}function co(r){const t=we(r);if(t.Ie===null){t.Ie=[];const s=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),s.add(h.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let p=new Ot(Xt.comparator);return m.filters.forEach((x=>{x.getFlattenedFilters().forEach((b=>{b.isInequality()&&(p=p.add(b.field))}))})),p})(t).forEach((h=>{s.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new _o(h,i))})),s.has(Xt.keyField().canonicalString())||t.Ie.push(new _o(Xt.keyField(),i))}return t.Ie}function js(r){const t=we(r);return t.Ee||(t.Ee=WT(t,co(r))),t.Ee}function WT(r,t){if(r.limitType==="F")return Oy(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new _o(o.field,h)}));const s=r.endAt?new wu(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new wu(r.startAt.position,r.startAt.inclusive):null;return Oy(r.path,r.collectionGroup,t,r.filters,r.limit,s,i)}}function Rf(r,t){const s=r.filters.concat([t]);return new Yi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),s,r.limit,r.limitType,r.startAt,r.endAt)}function e2(r,t){const s=r.explicitOrderBy.concat([t]);return new Yi(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Nu(r,t,s){return new Yi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,s,r.startAt,r.endAt)}function zu(r,t){return $f(js(r),js(t))&&r.limitType===t.limitType}function gb(r){return`${Xf(js(r))}|lt:${r.limitType}`}function Ci(r){return`Query(target=${(function(s){let i=s.path.canonicalString();return s.collectionGroup!==null&&(i+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(i+=`, filters: [${s.filters.map((o=>db(o))).join(", ")}]`),Uu(s.limit)||(i+=", limit: "+s.limit),s.orderBy.length>0&&(i+=`, orderBy: [${s.orderBy.map((o=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(o))).join(", ")}]`),s.startAt&&(i+=", startAt: ",i+=s.startAt.inclusive?"b:":"a:",i+=s.startAt.position.map((o=>Bi(o))).join(",")),s.endAt&&(i+=", endAt: ",i+=s.endAt.inclusive?"a:":"b:",i+=s.endAt.position.map((o=>Bi(o))).join(",")),`Target(${i})`})(js(r))}; limitType=${r.limitType})`}function Bu(r,t){return t.isFoundDocument()&&(function(i,o){const h=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(h):pe.isDocumentKey(i.path)?i.path.isEqual(h):i.path.isImmediateParentOf(h)})(r,t)&&(function(i,o){for(const h of co(i))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,t)&&(function(i,o){for(const h of i.filters)if(!h.matches(o))return!1;return!0})(r,t)&&(function(i,o){return!(i.startAt&&!(function(m,p,x){const b=Iy(m,p,x);return m.inclusive?b<=0:b<0})(i.startAt,co(i),o)||i.endAt&&!(function(m,p,x){const b=Iy(m,p,x);return m.inclusive?b>=0:b>0})(i.endAt,co(i),o))})(r,t)}function t2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function pb(r){return(t,s)=>{let i=!1;for(const o of co(r)){const h=n2(o,t,s);if(h!==0)return h;i=i||o.field.isKeyField()}return 0}}function n2(r,t,s){const i=r.field.isKeyField()?pe.comparator(t.key,s.key):(function(h,m,p){const x=m.data.field(h),b=p.data.field(h);return x!==null&&b!==null?zi(x,b):_e(42886)})(r.field,t,s);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return _e(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t,s){this.mapKeyFn=t,this.equalsFn=s,this.inner={},this.innerSize=0}get(t){const s=this.mapKeyFn(t),i=this.inner[s];if(i!==void 0){for(const[o,h]of i)if(this.equalsFn(o,t))return h}}has(t){return this.get(t)!==void 0}set(t,s){const i=this.mapKeyFn(t),o=this.inner[i];if(o===void 0)return this.inner[i]=[[t,s]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],t))return void(o[h]=[t,s]);o.push([t,s]),this.innerSize++}delete(t){const s=this.mapKeyFn(t),i=this.inner[s];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[s]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ja(this.inner,((s,i)=>{for(const[o,h]of i)t(o,h)}))}isEmpty(){return Wx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new ut(pe.comparator);function na(){return s2}const yb=new ut(pe.comparator);function ao(...r){let t=yb;for(const s of r)t=t.insert(s.key,s);return t}function xb(r){let t=yb;return r.forEach(((s,i)=>t=t.insert(s,i.overlayedDocument))),t}function Dr(){return uo()}function bb(){return uo()}function uo(){return new Pr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const a2=new ut(pe.comparator),r2=new Ot(pe.comparator);function Oe(...r){let t=r2;for(const s of r)t=t.add(s);return t}const i2=new Ot(Ve);function l2(){return i2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vu(t)?"-0":t}}function _b(r){return{integerValue:""+r}}function o2(r,t){return DT(t)?_b(t):Jf(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(){this._=void 0}}function c2(r,t,s){return r instanceof Au?(function(o,h){const m={fields:{[nb]:{stringValue:tb},[ab]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Yf(h)&&(h=Lu(h)),h&&(m.fields[sb]=h),{mapValue:m}})(s,t):r instanceof vo?Eb(r,t):r instanceof Eo?Tb(r,t):(function(o,h){const m=vb(o,h),p=Uy(m)+Uy(o.Ae);return Af(m)&&Af(o.Ae)?_b(p):Jf(o.serializer,p)})(r,t)}function u2(r,t,s){return r instanceof vo?Eb(r,t):r instanceof Eo?Tb(r,t):s}function vb(r,t){return r instanceof Su?(function(i){return Af(i)||(function(h){return!!h&&"doubleValue"in h})(i)})(t)?t:{integerValue:0}:null}class Au extends Pu{}class vo extends Pu{constructor(t){super(),this.elements=t}}function Eb(r,t){const s=wb(t);for(const i of r.elements)s.some((o=>Is(o,i)))||s.push(i);return{arrayValue:{values:s}}}class Eo extends Pu{constructor(t){super(),this.elements=t}}function Tb(r,t){let s=wb(t);for(const i of r.elements)s=s.filter((o=>!Is(o,i)));return{arrayValue:{values:s}}}class Su extends Pu{constructor(t,s){super(),this.serializer=t,this.Ae=s}}function Uy(r){return bt(r.integerValue||r.doubleValue)}function wb(r){return Kf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function h2(r,t){return r.field.isEqual(t.field)&&(function(i,o){return i instanceof vo&&o instanceof vo||i instanceof Eo&&o instanceof Eo?Li(i.elements,o.elements,Is):i instanceof Su&&o instanceof Su?Is(i.Ae,o.Ae):i instanceof Au&&o instanceof Au})(r.transform,t.transform)}class d2{constructor(t,s){this.version=t,this.transformResults=s}}class pn{constructor(t,s){this.updateTime=t,this.exists=s}static none(){return new pn}static exists(t){return new pn(void 0,t)}static updateTime(t){return new pn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gu(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class qu{}function Nb(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Hu(r.key,pn.none()):new No(r.key,r.data,pn.none());{const s=r.data,i=gn.empty();let o=new Ot(Xt.comparator);for(let h of t.fields)if(!o.has(h)){let m=s.field(h);m===null&&h.length>1&&(h=h.popLast(),m=s.field(h)),m===null?i.delete(h):i.set(h,m),o=o.add(h)}return new Wa(r.key,i,new Sn(o.toArray()),pn.none())}}function f2(r,t,s){r instanceof No?(function(o,h,m){const p=o.value.clone(),x=zy(o.fieldTransforms,h,m.transformResults);p.setAll(x),h.convertToFoundDocument(m.version,p).setHasCommittedMutations()})(r,t,s):r instanceof Wa?(function(o,h,m){if(!gu(o.precondition,h))return void h.convertToUnknownDocument(m.version);const p=zy(o.fieldTransforms,h,m.transformResults),x=h.data;x.setAll(Ab(o)),x.setAll(p),h.convertToFoundDocument(m.version,x).setHasCommittedMutations()})(r,t,s):(function(o,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()})(0,t,s)}function ho(r,t,s,i){return r instanceof No?(function(h,m,p,x){if(!gu(h.precondition,m))return p;const b=h.value.clone(),v=By(h.fieldTransforms,x,m);return b.setAll(v),m.convertToFoundDocument(m.version,b).setHasLocalMutations(),null})(r,t,s,i):r instanceof Wa?(function(h,m,p,x){if(!gu(h.precondition,m))return p;const b=By(h.fieldTransforms,x,m),v=m.data;return v.setAll(Ab(h)),v.setAll(b),m.convertToFoundDocument(m.version,v).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((T=>T.field)))})(r,t,s,i):(function(h,m,p){return gu(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):p})(r,t,s)}function m2(r,t){let s=null;for(const i of r.fieldTransforms){const o=t.data.field(i.field),h=vb(i.transform,o||null);h!=null&&(s===null&&(s=gn.empty()),s.set(i.field,h))}return s||null}function Ly(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Li(i,o,((h,m)=>h2(h,m)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class No extends qu{constructor(t,s,i,o=[]){super(),this.key=t,this.value=s,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Wa extends qu{constructor(t,s,i,o,h=[]){super(),this.key=t,this.data=s,this.fieldMask=i,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Ab(r){const t=new Map;return r.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const i=r.data.field(s);t.set(s,i)}})),t}function zy(r,t,s){const i=new Map;Ye(r.length===s.length,32656,{Ve:s.length,de:r.length});for(let o=0;o<s.length;o++){const h=r[o],m=h.transform,p=t.data.field(h.field);i.set(h.field,u2(m,p,s[o]))}return i}function By(r,t,s){const i=new Map;for(const o of r){const h=o.transform,m=s.data.field(o.field);i.set(o.field,c2(h,m,t))}return i}class Hu extends qu{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g2 extends qu{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t,s,i,o){this.batchId=t,this.localWriteTime=s,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(t,s){const i=s.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(t.key)&&f2(h,t,i[o])}}applyToLocalView(t,s){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(s=ho(i,t,s,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(s=ho(i,t,s,this.localWriteTime));return s}applyToLocalDocumentSet(t,s){const i=bb();return this.mutations.forEach((o=>{const h=t.get(o.key),m=h.overlayedDocument;let p=this.applyToLocalView(m,h.mutatedFields);p=s.has(o.key)?null:p;const x=Nb(m,p);x!==null&&i.set(o.key,x),m.isValidDocument()||m.convertToNoDocument(Ee.min())})),i}keys(){return this.mutations.reduce(((t,s)=>t.add(s.key)),Oe())}isEqual(t){return this.batchId===t.batchId&&Li(this.mutations,t.mutations,((s,i)=>Ly(s,i)))&&Li(this.baseMutations,t.baseMutations,((s,i)=>Ly(s,i)))}}class Wf{constructor(t,s,i,o){this.batch=t,this.commitVersion=s,this.mutationResults=i,this.docVersions=o}static from(t,s,i){Ye(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let o=(function(){return a2})();const h=t.mutations;for(let m=0;m<h.length;m++)o=o.insert(h[m].key,i[m].version);return new Wf(t,s,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t,s){this.largestBatchId=t,this.mutation=s}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t,s){this.count=t,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Be;function b2(r){switch(r){case X.OK:return _e(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function Sb(r){if(r===void 0)return ta("GRPC error has no .code"),X.UNKNOWN;switch(r){case Rt.OK:return X.OK;case Rt.CANCELLED:return X.CANCELLED;case Rt.UNKNOWN:return X.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return X.INTERNAL;case Rt.UNAVAILABLE:return X.UNAVAILABLE;case Rt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Rt.NOT_FOUND:return X.NOT_FOUND;case Rt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Rt.ABORTED:return X.ABORTED;case Rt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Rt.DATA_LOSS:return X.DATA_LOSS;default:return _e(39323,{code:r})}}(Be=Rt||(Rt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new qa([4294967295,4294967295],0);function Py(r){const t=_2().encode(r),s=new qx;return s.update(t),new Uint8Array(s.digest())}function qy(r){const t=new DataView(r.buffer),s=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new qa([s,i],0),new qa([o,h],0)]}class em{constructor(t,s,i){if(this.bitmap=t,this.padding=s,this.hashCount=i,s<0||s>=8)throw new ro(`Invalid padding: ${s}`);if(i<0)throw new ro(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${i}`);if(t.length===0&&s!==0)throw new ro(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*t.length-s,this.pe=qa.fromNumber(this.ge)}ye(t,s,i){let o=t.add(s.multiply(qa.fromNumber(i)));return o.compare(v2)===1&&(o=new qa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const s=Py(t),[i,o]=qy(s);for(let h=0;h<this.hashCount;h++){const m=this.ye(i,o,h);if(!this.we(m))return!1}return!0}static create(t,s,i){const o=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),m=new em(h,o,s);return i.forEach((p=>m.insert(p))),m}insert(t){if(this.ge===0)return;const s=Py(t),[i,o]=qy(s);for(let h=0;h<this.hashCount;h++){const m=this.ye(i,o,h);this.be(m)}}be(t){const s=Math.floor(t/8),i=t%8;this.bitmap[s]|=1<<i}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t,s,i,o,h){this.snapshotVersion=t,this.targetChanges=s,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,s,i){const o=new Map;return o.set(t,Ao.createSynthesizedTargetChangeForCurrentChange(t,s,i)),new Fu(Ee.min(),o,new ut(Ve),na(),Oe())}}class Ao{constructor(t,s,i,o,h){this.resumeToken=t,this.current=s,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,s,i){return new Ao(i,s,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(t,s,i,o){this.Se=t,this.removedTargetIds=s,this.key=i,this.De=o}}class kb{constructor(t,s){this.targetId=t,this.Ce=s}}class Rb{constructor(t,s,i=$t.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=s,this.resumeToken=i,this.cause=o}}class Hy{constructor(){this.ve=0,this.Fe=Fy(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Oe(),s=Oe(),i=Oe();return this.Fe.forEach(((o,h)=>{switch(h){case 0:t=t.add(o);break;case 2:s=s.add(o);break;case 1:i=i.add(o);break;default:_e(38017,{changeType:h})}})),new Ao(this.Me,this.xe,t,s,i)}Ke(){this.Oe=!1,this.Fe=Fy()}qe(t,s){this.Oe=!0,this.Fe=this.Fe.insert(t,s)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class E2{constructor(t){this.Ge=t,this.ze=new Map,this.je=na(),this.He=ou(),this.Je=ou(),this.Ze=new ut(Ve)}Xe(t){for(const s of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(s,t.De):this.et(s,t.key,t.De);for(const s of t.removedTargetIds)this.et(s,t.key,t.De)}tt(t){this.forEachTarget(t,(s=>{const i=this.nt(s);switch(t.state){case 0:this.rt(s)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(s)&&(this.it(s),i.Le(t.resumeToken));break;default:_e(56790,{state:t.state})}}))}forEachTarget(t,s){t.targetIds.length>0?t.targetIds.forEach(s):this.ze.forEach(((i,o)=>{this.rt(o)&&s(o)}))}st(t){const s=t.targetId,i=t.Ce.count,o=this.ot(s);if(o){const h=o.target;if(kf(h))if(i===0){const m=new pe(h.path);this.et(s,m,en.newNoDocument(m,Ee.min()))}else Ye(i===1,20013,{expectedCount:i});else{const m=this._t(s);if(m!==i){const p=this.ut(t),x=p?this.ct(p,t,m):1;if(x!==0){this.it(s);const b=x===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(s,b)}}}}}ut(t){const s=t.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:h=0}=s;let m,p;try{m=Ya(i).toUint8Array()}catch(x){if(x instanceof eb)return Ur("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw x}try{p=new em(m,o,h)}catch(x){return Ur(x instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",x),null}return p.ge===0?null:p}ct(t,s,i){return s.Ce.count===i-this.Pt(t,s.targetId)?0:2}Pt(t,s){const i=this.Ge.getRemoteKeysForTarget(s);let o=0;return i.forEach((h=>{const m=this.Ge.ht(),p=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;t.mightContain(p)||(this.et(s,h,null),o++)})),o}Tt(t){const s=new Map;this.ze.forEach(((h,m)=>{const p=this.ot(m);if(p){if(h.current&&kf(p.target)){const x=new pe(p.target.path);this.It(x).has(m)||this.Et(m,x)||this.et(m,x,en.newNoDocument(x,t))}h.Be&&(s.set(m,h.ke()),h.Ke())}}));let i=Oe();this.Je.forEach(((h,m)=>{let p=!0;m.forEachWhile((x=>{const b=this.ot(x);return!b||b.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(h))})),this.je.forEach(((h,m)=>m.setReadTime(t)));const o=new Fu(t,s,this.Ze,this.je,i);return this.je=na(),this.He=ou(),this.Je=ou(),this.Ze=new ut(Ve),o}Ye(t,s){if(!this.rt(t))return;const i=this.Et(t,s.key)?2:0;this.nt(t).qe(s.key,i),this.je=this.je.insert(s.key,s),this.He=this.He.insert(s.key,this.It(s.key).add(t)),this.Je=this.Je.insert(s.key,this.Rt(s.key).add(t))}et(t,s,i){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,s)?o.qe(s,1):o.Ue(s),this.Je=this.Je.insert(s,this.Rt(s).delete(t)),this.Je=this.Je.insert(s,this.Rt(s).add(t)),i&&(this.je=this.je.insert(s,i))}removeTarget(t){this.ze.delete(t)}_t(t){const s=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+s.addedDocuments.size-s.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let s=this.ze.get(t);return s||(s=new Hy,this.ze.set(t,s)),s}Rt(t){let s=this.Je.get(t);return s||(s=new Ot(Ve),this.Je=this.Je.insert(t,s)),s}It(t){let s=this.He.get(t);return s||(s=new Ot(Ve),this.He=this.He.insert(t,s)),s}rt(t){const s=this.ot(t)!==null;return s||ie("WatchChangeAggregator","Detected inactive target",t),s}ot(t){const s=this.ze.get(t);return s&&s.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Hy),this.Ge.getRemoteKeysForTarget(t).forEach((s=>{this.et(t,s,null)}))}Et(t,s){return this.Ge.getRemoteKeysForTarget(t).has(s)}}function ou(){return new ut(pe.comparator)}function Fy(){return new ut(pe.comparator)}const T2={asc:"ASCENDING",desc:"DESCENDING"},w2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N2={and:"AND",or:"OR"};class A2{constructor(t,s){this.databaseId=t,this.useProto3Json=s}}function jf(r,t){return r.useProto3Json||Uu(t)?t:{value:t}}function ku(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jb(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function S2(r,t){return ku(r,t.toTimestamp())}function Cs(r){return Ye(!!r,49232),Ee.fromTimestamp((function(s){const i=Qa(s);return new Qe(i.seconds,i.nanos)})(r))}function tm(r,t){return Cf(r,t).canonicalString()}function Cf(r,t){const s=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?s:s.child(t)}function Cb(r){const t=st.fromString(r);return Ye(Mb(t),10190,{key:t.toString()}),t}function Df(r,t){return tm(r.databaseId,t.path)}function uf(r,t){const s=Cb(t);if(s.get(1)!==r.databaseId.projectId)throw new re(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+r.databaseId.projectId);if(s.get(3)!==r.databaseId.database)throw new re(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+r.databaseId.database);return new pe(Ib(s))}function Db(r,t){return tm(r.databaseId,t)}function k2(r){const t=Cb(r);return t.length===4?st.emptyPath():Ib(t)}function If(r){return new st(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ib(r){return Ye(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Gy(r,t,s){return{name:Df(r,t),fields:s.value.mapValue.fields}}function R2(r,t){let s;if("targetChange"in t){t.targetChange;const i=(function(b){return b==="NO_CHANGE"?0:b==="ADD"?1:b==="REMOVE"?2:b==="CURRENT"?3:b==="RESET"?4:_e(39313,{state:b})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],h=(function(b,v){return b.useProto3Json?(Ye(v===void 0||typeof v=="string",58123),$t.fromBase64String(v||"")):(Ye(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),$t.fromUint8Array(v||new Uint8Array))})(r,t.targetChange.resumeToken),m=t.targetChange.cause,p=m&&(function(b){const v=b.code===void 0?X.UNKNOWN:Sb(b.code);return new re(v,b.message||"")})(m);s=new Rb(i,o,h,p||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const o=uf(r,i.document.name),h=Cs(i.document.updateTime),m=i.document.createTime?Cs(i.document.createTime):Ee.min(),p=new gn({mapValue:{fields:i.document.fields}}),x=en.newFoundDocument(o,h,m,p),b=i.targetIds||[],v=i.removedTargetIds||[];s=new pu(b,v,x.key,x)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const o=uf(r,i.document),h=i.readTime?Cs(i.readTime):Ee.min(),m=en.newNoDocument(o,h),p=i.removedTargetIds||[];s=new pu([],p,m.key,m)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const o=uf(r,i.document),h=i.removedTargetIds||[];s=new pu([],h,o,null)}else{if(!("filter"in t))return _e(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:o=0,unchangedNames:h}=i,m=new x2(o,h),p=i.targetId;s=new kb(p,m)}}return s}function j2(r,t){let s;if(t instanceof No)s={update:Gy(r,t.key,t.value)};else if(t instanceof Hu)s={delete:Df(r,t.key)};else if(t instanceof Wa)s={update:Gy(r,t.key,t.data),updateMask:z2(t.fieldMask)};else{if(!(t instanceof g2))return _e(16599,{dt:t.type});s={verify:Df(r,t.key)}}return t.fieldTransforms.length>0&&(s.updateTransforms=t.fieldTransforms.map((i=>(function(h,m){const p=m.transform;if(p instanceof Au)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof vo)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Eo)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Su)return{fieldPath:m.field.canonicalString(),increment:p.Ae};throw _e(20930,{transform:m.transform})})(0,i)))),t.precondition.isNone||(s.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:S2(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:_e(27497)})(r,t.precondition)),s}function C2(r,t){return r&&r.length>0?(Ye(t!==void 0,14353),r.map((s=>(function(o,h){let m=o.updateTime?Cs(o.updateTime):Cs(h);return m.isEqual(Ee.min())&&(m=Cs(h)),new d2(m,o.transformResults||[])})(s,t)))):[]}function D2(r,t){return{documents:[Db(r,t.path)]}}function I2(r,t){const s={structuredQuery:{}},i=t.path;let o;t.collectionGroup!==null?(o=i,s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=i.popLast(),s.structuredQuery.from=[{collectionId:i.lastSegment()}]),s.parent=Db(r,o);const h=(function(b){if(b.length!==0)return Ob(is.create(b,"and"))})(t.filters);h&&(s.structuredQuery.where=h);const m=(function(b){if(b.length!==0)return b.map((v=>(function(R){return{field:Di(R.field),direction:M2(R.dir)}})(v)))})(t.orderBy);m&&(s.structuredQuery.orderBy=m);const p=jf(r,t.limit);return p!==null&&(s.structuredQuery.limit=p),t.startAt&&(s.structuredQuery.startAt=(function(b){return{before:b.inclusive,values:b.position}})(t.startAt)),t.endAt&&(s.structuredQuery.endAt=(function(b){return{before:!b.inclusive,values:b.position}})(t.endAt)),{ft:s,parent:o}}function V2(r){let t=k2(r.parent);const s=r.structuredQuery,i=s.from?s.from.length:0;let o=null;if(i>0){Ye(i===1,65062);const v=s.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let h=[];s.where&&(h=(function(T){const R=Vb(T);return R instanceof is&&ub(R)?R.getFilters():[R]})(s.where));let m=[];s.orderBy&&(m=(function(T){return T.map((R=>(function(H){return new _o(Ii(H.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(R)))})(s.orderBy));let p=null;s.limit&&(p=(function(T){let R;return R=typeof T=="object"?T.value:T,Uu(R)?null:R})(s.limit));let x=null;s.startAt&&(x=(function(T){const R=!!T.before,L=T.values||[];return new wu(L,R)})(s.startAt));let b=null;return s.endAt&&(b=(function(T){const R=!T.before,L=T.values||[];return new wu(L,R)})(s.endAt)),ZT(t,o,m,h,p,"F",x,b)}function O2(r,t){const s=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(t.purpose);return s==null?null:{"goog-listen-tags":s}}function Vb(r){return r.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const i=Ii(s.unaryFilter.field);return jt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Ii(s.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ii(s.unaryFilter.field);return jt.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Ii(s.unaryFilter.field);return jt.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(s){return jt.create(Ii(s.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(s){return is.create(s.compositeFilter.filters.map((i=>Vb(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(s.compositeFilter.op))})(r):_e(30097,{filter:r})}function M2(r){return T2[r]}function U2(r){return w2[r]}function L2(r){return N2[r]}function Di(r){return{fieldPath:r.canonicalString()}}function Ii(r){return Xt.fromServerFormat(r.fieldPath)}function Ob(r){return r instanceof jt?(function(s){if(s.op==="=="){if(Dy(s.value))return{unaryFilter:{field:Di(s.field),op:"IS_NAN"}};if(Cy(s.value))return{unaryFilter:{field:Di(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(Dy(s.value))return{unaryFilter:{field:Di(s.field),op:"IS_NOT_NAN"}};if(Cy(s.value))return{unaryFilter:{field:Di(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Di(s.field),op:U2(s.op),value:s.value}}})(r):r instanceof is?(function(s){const i=s.getFilters().map((o=>Ob(o)));return i.length===1?i[0]:{compositeFilter:{op:L2(s.op),filters:i}}})(r):_e(54877,{filter:r})}function z2(r){const t=[];return r.fields.forEach((s=>t.push(s.canonicalString()))),{fieldPaths:t}}function Mb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function Ub(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,s,i,o,h=Ee.min(),m=Ee.min(),p=$t.EMPTY_BYTE_STRING,x=null){this.target=t,this.targetId=s,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=p,this.expectedCount=x}withSequenceNumber(t){return new La(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,s){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(t){this.yt=t}}function P2(r){const t=V2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Nu(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.Sn=new H2}addToCollectionParentIndex(t,s){return this.Sn.add(s),Z.resolve()}getCollectionParents(t,s){return Z.resolve(this.Sn.getEntries(s))}addFieldIndex(t,s){return Z.resolve()}deleteFieldIndex(t,s){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,s){return Z.resolve()}getDocumentsMatchingTarget(t,s){return Z.resolve(null)}getIndexType(t,s){return Z.resolve(0)}getFieldIndexes(t,s){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,s){return Z.resolve(Ga.min())}getMinOffsetFromCollectionGroup(t,s){return Z.resolve(Ga.min())}updateCollectionGroup(t,s,i){return Z.resolve()}updateIndexEntries(t,s){return Z.resolve()}}class H2{constructor(){this.index={}}add(t){const s=t.lastSegment(),i=t.popLast(),o=this.index[s]||new Ot(st.comparator),h=!o.has(i);return this.index[s]=o.add(i),h}has(t){const s=t.lastSegment(),i=t.popLast(),o=this.index[s];return o&&o.has(i)}getEntries(t){return(this.index[t]||new Ot(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lb=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,s,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(Lb,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Pi(0)}static ar(){return new Pi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="LruGarbageCollector",F2=1048576;function Ky([r,t],[s,i]){const o=Ve(r,s);return o===0?Ve(t,i):o}class G2{constructor(t){this.Pr=t,this.buffer=new Ot(Ky),this.Tr=0}Ir(){return++this.Tr}Er(t){const s=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(s);else{const i=this.buffer.last();Ky(s,i)<0&&(this.buffer=this.buffer.delete(i).add(s))}}get maxValue(){return this.buffer.last()[0]}}class Q2{constructor(t,s,i){this.garbageCollector=t,this.asyncQueue=s,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ie(Yy,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){Qi(s)?ie(Yy,"Ignoring IndexedDB error during garbage collection: ",s):await Gi(s)}await this.Ar(3e5)}))}}class Y2{constructor(t,s){this.Vr=t,this.params=s}calculateTargetCount(t,s){return this.Vr.dr(t).next((i=>Math.floor(s/100*i)))}nthSequenceNumber(t,s){if(s===0)return Z.resolve(Mu.ce);const i=new G2(s);return this.Vr.forEachTarget(t,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(t,s,i){return this.Vr.removeTargets(t,s,i)}removeOrphanedDocuments(t,s){return this.Vr.removeOrphanedDocuments(t,s)}collect(t,s){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Qy)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qy):this.gr(t,s)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,s){let i,o,h,m,p,x,b;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,m=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(i=T,p=Date.now(),this.removeTargets(t,i,s)))).next((T=>(h=T,x=Date.now(),this.removeOrphanedDocuments(t,i)))).next((T=>(b=Date.now(),ji()<=Pe.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-v}ms
	Determined least recently used ${o} in `+(p-m)+`ms
	Removed ${h} targets in `+(x-p)+`ms
	Removed ${T} documents in `+(b-x)+`ms
Total Duration: ${b-v}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:T}))))}}function K2(r,t){return new Y2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.changes=new Pr((t=>t.toString()),((t,s)=>t.isEqual(s))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,s){this.assertNotApplied(),this.changes.set(t,en.newInvalidDocument(t).setReadTime(s))}getEntry(t,s){this.assertNotApplied();const i=this.changes.get(s);return i!==void 0?Z.resolve(i):this.getFromCache(t,s)}getEntries(t,s){return this.getAllFromCache(t,s)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t,s){this.overlayedDocument=t,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,s,i,o){this.remoteDocumentCache=t,this.mutationQueue=s,this.documentOverlayCache=i,this.indexManager=o}getDocument(t,s){let i=null;return this.documentOverlayCache.getOverlay(t,s).next((o=>(i=o,this.remoteDocumentCache.getEntry(t,s)))).next((o=>(i!==null&&ho(i.mutation,o,Sn.empty(),Qe.now()),o)))}getDocuments(t,s){return this.remoteDocumentCache.getEntries(t,s).next((i=>this.getLocalViewOfDocuments(t,i,Oe()).next((()=>i))))}getLocalViewOfDocuments(t,s,i=Oe()){const o=Dr();return this.populateOverlays(t,o,s).next((()=>this.computeViews(t,s,o,i).next((h=>{let m=ao();return h.forEach(((p,x)=>{m=m.insert(p,x.overlayedDocument)})),m}))))}getOverlayedDocuments(t,s){const i=Dr();return this.populateOverlays(t,i,s).next((()=>this.computeViews(t,s,i,Oe())))}populateOverlays(t,s,i){const o=[];return i.forEach((h=>{s.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(t,o).next((h=>{h.forEach(((m,p)=>{s.set(m,p)}))}))}computeViews(t,s,i,o){let h=na();const m=uo(),p=(function(){return uo()})();return s.forEach(((x,b)=>{const v=i.get(b.key);o.has(b.key)&&(v===void 0||v.mutation instanceof Wa)?h=h.insert(b.key,b):v!==void 0?(m.set(b.key,v.mutation.getFieldMask()),ho(v.mutation,b,v.mutation.getFieldMask(),Qe.now())):m.set(b.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,h).next((x=>(x.forEach(((b,v)=>m.set(b,v))),s.forEach(((b,v)=>p.set(b,new $2(v,m.get(b)??null)))),p)))}recalculateAndSaveOverlays(t,s){const i=uo();let o=new ut(((m,p)=>m-p)),h=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,s).next((m=>{for(const p of m)p.keys().forEach((x=>{const b=s.get(x);if(b===null)return;let v=i.get(x)||Sn.empty();v=p.applyToLocalView(b,v),i.set(x,v);const T=(o.get(p.batchId)||Oe()).add(x);o=o.insert(p.batchId,T)}))})).next((()=>{const m=[],p=o.getReverseIterator();for(;p.hasNext();){const x=p.getNext(),b=x.key,v=x.value,T=bb();v.forEach((R=>{if(!h.has(R)){const L=Nb(s.get(R),i.get(R));L!==null&&T.set(R,L),h=h.add(R)}})),m.push(this.documentOverlayCache.saveOverlays(t,b,T))}return Z.waitFor(m)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,s){return this.remoteDocumentCache.getEntries(t,s).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,s,i,o){return JT(s)?this.getDocumentsMatchingDocumentQuery(t,s.path):mb(s)?this.getDocumentsMatchingCollectionGroupQuery(t,s,i,o):this.getDocumentsMatchingCollectionQuery(t,s,i,o)}getNextDocuments(t,s,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,s,i,o).next((h=>{const m=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,s,i.largestBatchId,o-h.size):Z.resolve(Dr());let p=po,x=h;return m.next((b=>Z.forEach(b,((v,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),h.get(v)?Z.resolve():this.remoteDocumentCache.getEntry(t,v).next((R=>{x=x.insert(v,R)}))))).next((()=>this.populateOverlays(t,b,h))).next((()=>this.computeViews(t,x,b,Oe()))).next((v=>({batchId:p,changes:xb(v)})))))}))}getDocumentsMatchingDocumentQuery(t,s){return this.getDocument(t,new pe(s)).next((i=>{let o=ao();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(t,s,i,o){const h=s.collectionGroup;let m=ao();return this.indexManager.getCollectionParents(t,h).next((p=>Z.forEach(p,(x=>{const b=(function(T,R){return new Yi(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(s,x.child(h));return this.getDocumentsMatchingCollectionQuery(t,b,i,o).next((v=>{v.forEach(((T,R)=>{m=m.insert(T,R)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(t,s,i,o){let h;return this.documentOverlayCache.getOverlaysForCollection(t,s.path,i.largestBatchId).next((m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,s,i,h,o)))).next((m=>{h.forEach(((x,b)=>{const v=b.getKey();m.get(v)===null&&(m=m.insert(v,en.newInvalidDocument(v)))}));let p=ao();return m.forEach(((x,b)=>{const v=h.get(x);v!==void 0&&ho(v.mutation,b,Sn.empty(),Qe.now()),Bu(s,b)&&(p=p.insert(x,b))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,s){return Z.resolve(this.Nr.get(s))}saveBundleMetadata(t,s){return this.Nr.set(s.id,(function(o){return{id:o.id,version:o.version,createTime:Cs(o.createTime)}})(s)),Z.resolve()}getNamedQuery(t,s){return Z.resolve(this.Br.get(s))}saveNamedQuery(t,s){return this.Br.set(s.name,(function(o){return{name:o.name,query:P2(o.bundledQuery),readTime:Cs(o.readTime)}})(s)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.overlays=new ut(pe.comparator),this.Lr=new Map}getOverlay(t,s){return Z.resolve(this.overlays.get(s))}getOverlays(t,s){const i=Dr();return Z.forEach(s,(o=>this.getOverlay(t,o).next((h=>{h!==null&&i.set(o,h)})))).next((()=>i))}saveOverlays(t,s,i){return i.forEach(((o,h)=>{this.bt(t,s,h)})),Z.resolve()}removeOverlaysForBatchId(t,s,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(i)),Z.resolve()}getOverlaysForCollection(t,s,i){const o=Dr(),h=s.length+1,m=new pe(s.child("")),p=this.overlays.getIteratorFrom(m);for(;p.hasNext();){const x=p.getNext().value,b=x.getKey();if(!s.isPrefixOf(b.path))break;b.path.length===h&&x.largestBatchId>i&&o.set(x.getKey(),x)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,s,i,o){let h=new ut(((b,v)=>b-v));const m=this.overlays.getIterator();for(;m.hasNext();){const b=m.getNext().value;if(b.getKey().getCollectionGroup()===s&&b.largestBatchId>i){let v=h.get(b.largestBatchId);v===null&&(v=Dr(),h=h.insert(b.largestBatchId,v)),v.set(b.getKey(),b)}}const p=Dr(),x=h.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach(((b,v)=>p.set(b,v))),!(p.size()>=o)););return Z.resolve(p)}bt(t,s,i){const o=this.overlays.get(i.key);if(o!==null){const m=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,m)}this.overlays=this.overlays.insert(i.key,new y2(s,i));let h=this.Lr.get(s);h===void 0&&(h=Oe(),this.Lr.set(s,h)),this.Lr.set(s,h.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,s){return this.sessionToken=s,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this.kr=new Ot(zt.Kr),this.qr=new Ot(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,s){const i=new zt(t,s);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,s){t.forEach((i=>this.addReference(i,s)))}removeReference(t,s){this.Wr(new zt(t,s))}Qr(t,s){t.forEach((i=>this.removeReference(i,s)))}Gr(t){const s=new pe(new st([])),i=new zt(s,t),o=new zt(s,t+1),h=[];return this.qr.forEachInRange([i,o],(m=>{this.Wr(m),h.push(m.key)})),h}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const s=new pe(new st([])),i=new zt(s,t),o=new zt(s,t+1);let h=Oe();return this.qr.forEachInRange([i,o],(m=>{h=h.add(m.key)})),h}containsKey(t){const s=new zt(t,0),i=this.kr.firstAfterOrEqual(s);return i!==null&&t.isEqual(i.key)}}class zt{constructor(t,s){this.key=t,this.Hr=s}static Kr(t,s){return pe.comparator(t.key,s.key)||Ve(t.Hr,s.Hr)}static Ur(t,s){return Ve(t.Hr,s.Hr)||pe.comparator(t.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,s){this.indexManager=t,this.referenceDelegate=s,this.mutationQueue=[],this.Yn=1,this.Jr=new Ot(zt.Kr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,s,i,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new p2(h,s,i,o);this.mutationQueue.push(m);for(const p of o)this.Jr=this.Jr.add(new zt(p.key,h)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(m)}lookupMutationBatch(t,s){return Z.resolve(this.Zr(s))}getNextMutationBatchAfterBatchId(t,s){const i=s+1,o=this.Xr(i),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Qf:this.Yn-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,s){const i=new zt(s,0),o=new zt(s,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([i,o],(m=>{const p=this.Zr(m.Hr);h.push(p)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,s){let i=new Ot(Ve);return s.forEach((o=>{const h=new zt(o,0),m=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,m],(p=>{i=i.add(p.Hr)}))})),Z.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,s){const i=s.path,o=i.length+1;let h=i;pe.isDocumentKey(h)||(h=h.child(""));const m=new zt(new pe(h),0);let p=new Ot(Ve);return this.Jr.forEachWhile((x=>{const b=x.key.path;return!!i.isPrefixOf(b)&&(b.length===o&&(p=p.add(x.Hr)),!0)}),m),Z.resolve(this.Yr(p))}Yr(t){const s=[];return t.forEach((i=>{const o=this.Zr(i);o!==null&&s.push(o)})),s}removeMutationBatch(t,s){Ye(this.ei(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return Z.forEach(s.mutations,(o=>{const h=new zt(o.key,s.batchId);return i=i.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=i}))}nr(t){}containsKey(t,s){const i=new zt(s,0),o=this.Jr.firstAfterOrEqual(i);return Z.resolve(s.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ei(t,s){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const s=this.Xr(t);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t){this.ti=t,this.docs=(function(){return new ut(pe.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,s){const i=s.key,o=this.docs.get(i),h=o?o.size:0,m=this.ti(s);return this.docs=this.docs.insert(i,{document:s.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const s=this.docs.get(t);s&&(this.docs=this.docs.remove(t),this.size-=s.size)}getEntry(t,s){const i=this.docs.get(s);return Z.resolve(i?i.document.mutableCopy():en.newInvalidDocument(s))}getEntries(t,s){let i=na();return s.forEach((o=>{const h=this.docs.get(o);i=i.insert(o,h?h.document.mutableCopy():en.newInvalidDocument(o))})),Z.resolve(i)}getDocumentsMatchingQuery(t,s,i,o){let h=na();const m=s.path,p=new pe(m.child("__id-9223372036854775808__")),x=this.docs.getIteratorFrom(p);for(;x.hasNext();){const{key:b,value:{document:v}}=x.getNext();if(!m.isPrefixOf(b.path))break;b.path.length>m.length+1||kT(ST(v),i)<=0||(o.has(v.key)||Bu(s,v))&&(h=h.insert(v.key,v.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(t,s,i,o){_e(9500)}ni(t,s){return Z.forEach(this.docs,(i=>s(i)))}newChangeBuffer(t){return new sw(this)}getSize(t){return Z.resolve(this.size)}}class sw extends X2{constructor(t){super(),this.Mr=t}applyChanges(t){const s=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?s.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(i)})),Z.waitFor(s)}getFromCache(t,s){return this.Mr.getEntry(t,s)}getAllFromCache(t,s){return this.Mr.getEntries(t,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t){this.persistence=t,this.ri=new Pr((s=>Xf(s)),$f),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new nm,this.targetCount=0,this.oi=Pi._r()}forEachTarget(t,s){return this.ri.forEach(((i,o)=>s(o))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,s,i){return i&&(this.lastRemoteSnapshotVersion=i),s>this.ii&&(this.ii=s),Z.resolve()}lr(t){this.ri.set(t.target,t);const s=t.targetId;s>this.highestTargetId&&(this.oi=new Pi(s),this.highestTargetId=s),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,s){return this.lr(s),this.targetCount+=1,Z.resolve()}updateTargetData(t,s){return this.lr(s),Z.resolve()}removeTargetData(t,s){return this.ri.delete(s.target),this.si.Gr(s.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,s,i){let o=0;const h=[];return this.ri.forEach(((m,p)=>{p.sequenceNumber<=s&&i.get(p.targetId)===null&&(this.ri.delete(m),h.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,s){const i=this.ri.get(s)||null;return Z.resolve(i)}addMatchingKeys(t,s,i){return this.si.$r(s,i),Z.resolve()}removeMatchingKeys(t,s,i){this.si.Qr(s,i);const o=this.persistence.referenceDelegate,h=[];return o&&s.forEach((m=>{h.push(o.markPotentiallyOrphaned(t,m))})),Z.waitFor(h)}removeMatchingKeysForTargetId(t,s){return this.si.Gr(s),Z.resolve()}getMatchingKeysForTargetId(t,s){const i=this.si.jr(s);return Z.resolve(i)}containsKey(t,s){return Z.resolve(this.si.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t,s){this._i={},this.overlays={},this.ai=new Mu(0),this.ui=!1,this.ui=!0,this.ci=new ew,this.referenceDelegate=t(this),this.li=new aw(this),this.indexManager=new q2,this.remoteDocumentCache=(function(o){return new nw(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new B2(s),this.Pi=new J2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let s=this.overlays[t.toKey()];return s||(s=new W2,this.overlays[t.toKey()]=s),s}getMutationQueue(t,s){let i=this._i[t.toKey()];return i||(i=new tw(s,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,s,i){ie("MemoryPersistence","Starting transaction:",t);const o=new rw(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(t,s){return Z.or(Object.values(this._i).map((i=>()=>i.containsKey(t,s))))}}class rw extends jT{constructor(t){super(),this.currentSequenceNumber=t}}class sm{constructor(t){this.persistence=t,this.Ri=new nm,this.Ai=null}static Vi(t){return new sm(t)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(t,s,i){return this.Ri.addReference(i,s),this.di.delete(i.toString()),Z.resolve()}removeReference(t,s,i){return this.Ri.removeReference(i,s),this.di.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(t,s){return this.di.add(s.toString()),Z.resolve()}removeTarget(t,s){this.Ri.Gr(s.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,s.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>i.removeTargetData(t,s)))}Ti(){this.Ai=new Set}Ii(t){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(i=>{const o=pe.fromPath(i);return this.mi(t,o).next((h=>{h||s.removeEntry(o,Ee.min())}))})).next((()=>(this.Ai=null,s.apply(t))))}updateLimboDocument(t,s){return this.mi(t,s).next((i=>{i?this.di.delete(s.toString()):this.di.add(s.toString())}))}hi(t){return 0}mi(t,s){return Z.or([()=>Z.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(t,s),()=>this.persistence.Ei(t,s)])}}class Ru{constructor(t,s){this.persistence=t,this.fi=new Pr((i=>IT(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=K2(this,s)}static Vi(t,s){return new Ru(t,s)}Ti(){}Ii(t){return Z.resolve()}forEachTarget(t,s){return this.persistence.getTargetCache().forEachTarget(t,s)}dr(t){const s=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>s.next((o=>i+o))))}pr(t){let s=0;return this.mr(t,(i=>{s++})).next((()=>s))}mr(t,s){return Z.forEach(this.fi,((i,o)=>this.wr(t,i,o).next((h=>h?Z.resolve():s(o)))))}removeTargets(t,s,i){return this.persistence.getTargetCache().removeTargets(t,s,i)}removeOrphanedDocuments(t,s){let i=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(t,(m=>this.wr(t,m,s).next((p=>{p||(i++,h.removeEntry(m,Ee.min()))})))).next((()=>h.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,s){return this.fi.set(s,t.currentSequenceNumber),Z.resolve()}removeTarget(t,s){const i=s.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,s,i){return this.fi.set(i,t.currentSequenceNumber),Z.resolve()}removeReference(t,s,i){return this.fi.set(i,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,s){return this.fi.set(s,t.currentSequenceNumber),Z.resolve()}hi(t){let s=t.key.toString().length;return t.isFoundDocument()&&(s+=fu(t.data.value)),s}wr(t,s,i){return Z.or([()=>this.persistence.Ei(t,s),()=>this.persistence.getTargetCache().containsKey(t,s),()=>{const o=this.fi.get(s);return Z.resolve(o!==void 0&&o>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t,s,i,o){this.targetId=t,this.fromCache=s,this.Ts=i,this.Is=o}static Es(t,s){let i=Oe(),o=Oe();for(const h of s.docChanges)switch(h.type){case 0:i=i.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new am(t,s.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return eE()?8:CT(J1())>0?6:4})()}initialize(t,s){this.fs=t,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(t,s,i,o){const h={result:null};return this.gs(t,s).next((m=>{h.result=m})).next((()=>{if(!h.result)return this.ps(t,s,o,i).next((m=>{h.result=m}))})).next((()=>{if(h.result)return;const m=new iw;return this.ys(t,s,m).next((p=>{if(h.result=p,this.As)return this.ws(t,s,m,p.size)}))})).next((()=>h.result))}ws(t,s,i,o){return i.documentReadCount<this.Vs?(ji()<=Pe.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Ci(s),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(ji()<=Pe.DEBUG&&ie("QueryEngine","Query:",Ci(s),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(ji()<=Pe.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Ci(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,js(s))):Z.resolve())}gs(t,s){if(My(s))return Z.resolve(null);let i=js(s);return this.indexManager.getIndexType(t,i).next((o=>o===0?null:(s.limit!==null&&o===1&&(s=Nu(s,null,"F"),i=js(s)),this.indexManager.getDocumentsMatchingTarget(t,i).next((h=>{const m=Oe(...h);return this.fs.getDocuments(t,m).next((p=>this.indexManager.getMinOffset(t,i).next((x=>{const b=this.bs(s,p);return this.Ss(s,b,m,x.readTime)?this.gs(t,Nu(s,null,"F")):this.Ds(t,b,s,x)}))))})))))}ps(t,s,i,o){return My(s)||o.isEqual(Ee.min())?Z.resolve(null):this.fs.getDocuments(t,i).next((h=>{const m=this.bs(s,h);return this.Ss(s,m,i,o)?Z.resolve(null):(ji()<=Pe.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ci(s)),this.Ds(t,m,s,AT(o,po)).next((p=>p)))}))}bs(t,s){let i=new Ot(pb(t));return s.forEach(((o,h)=>{Bu(t,h)&&(i=i.add(h))})),i}Ss(t,s,i,o){if(t.limit===null)return!1;if(i.size!==s.size)return!0;const h=t.limitType==="F"?s.last():s.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(t,s,i){return ji()<=Pe.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Ci(s)),this.fs.getDocumentsMatchingQuery(t,s,Ga.min(),i)}Ds(t,s,i,o){return this.fs.getDocumentsMatchingQuery(t,i,o).next((h=>(s.forEach((m=>{h=h.insert(m.key,m)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="LocalStore",ow=3e8;class cw{constructor(t,s,i,o){this.persistence=t,this.Cs=s,this.serializer=o,this.vs=new ut(Ve),this.Fs=new Pr((h=>Xf(h)),$f),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Z2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>t.collect(s,this.vs)))}}function uw(r,t,s,i){return new cw(r,t,s,i)}async function Bb(r,t){const s=we(r);return await s.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return s.mutationQueue.getAllMutationBatches(i).next((h=>(o=h,s.Os(t),s.mutationQueue.getAllMutationBatches(i)))).next((h=>{const m=[],p=[];let x=Oe();for(const b of o){m.push(b.batchId);for(const v of b.mutations)x=x.add(v.key)}for(const b of h){p.push(b.batchId);for(const v of b.mutations)x=x.add(v.key)}return s.localDocuments.getDocuments(i,x).next((b=>({Ns:b,removedBatchIds:m,addedBatchIds:p})))}))}))}function hw(r,t){const s=we(r);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=t.batch.keys(),h=s.xs.newChangeBuffer({trackRemovals:!0});return(function(p,x,b,v){const T=b.batch,R=T.keys();let L=Z.resolve();return R.forEach((H=>{L=L.next((()=>v.getEntry(x,H))).next((ee=>{const J=b.docVersions.get(H);Ye(J!==null,48541),ee.version.compareTo(J)<0&&(T.applyToRemoteDocument(ee,b),ee.isValidDocument()&&(ee.setReadTime(b.commitVersion),v.addEntry(ee)))}))})),L.next((()=>p.mutationQueue.removeMutationBatch(x,T)))})(s,i,t,h).next((()=>h.apply(i))).next((()=>s.mutationQueue.performConsistencyCheck(i))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(i,o,t.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let x=Oe();for(let b=0;b<p.mutationResults.length;++b)p.mutationResults[b].transformResults.length>0&&(x=x.add(p.batch.mutations[b].key));return x})(t)))).next((()=>s.localDocuments.getDocuments(i,o)))}))}function Pb(r){const t=we(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>t.li.getLastRemoteSnapshotVersion(s)))}function dw(r,t){const s=we(r),i=t.snapshotVersion;let o=s.vs;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const m=s.xs.newChangeBuffer({trackRemovals:!0});o=s.vs;const p=[];t.targetChanges.forEach(((v,T)=>{const R=o.get(T);if(!R)return;p.push(s.li.removeMatchingKeys(h,v.removedDocuments,T).next((()=>s.li.addMatchingKeys(h,v.addedDocuments,T))));let L=R.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(T)!==null?L=L.withResumeToken($t.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):v.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(v.resumeToken,i)),o=o.insert(T,L),(function(ee,J,ce){return ee.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=ow?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(R,L,v)&&p.push(s.li.updateTargetData(h,L))}));let x=na(),b=Oe();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&p.push(s.persistence.referenceDelegate.updateLimboDocument(h,v))})),p.push(fw(h,m,t.documentUpdates).next((v=>{x=v.Bs,b=v.Ls}))),!i.isEqual(Ee.min())){const v=s.li.getLastRemoteSnapshotVersion(h).next((T=>s.li.setTargetsMetadata(h,h.currentSequenceNumber,i)));p.push(v)}return Z.waitFor(p).next((()=>m.apply(h))).next((()=>s.localDocuments.getLocalViewOfDocuments(h,x,b))).next((()=>x))})).then((h=>(s.vs=o,h)))}function fw(r,t,s){let i=Oe(),o=Oe();return s.forEach((h=>i=i.add(h))),t.getEntries(r,i).next((h=>{let m=na();return s.forEach(((p,x)=>{const b=h.get(p);x.isFoundDocument()!==b.isFoundDocument()&&(o=o.add(p)),x.isNoDocument()&&x.version.isEqual(Ee.min())?(t.removeEntry(p,x.readTime),m=m.insert(p,x)):!b.isValidDocument()||x.version.compareTo(b.version)>0||x.version.compareTo(b.version)===0&&b.hasPendingWrites?(t.addEntry(x),m=m.insert(p,x)):ie(rm,"Ignoring outdated watch update for ",p,". Current version:",b.version," Watch version:",x.version)})),{Bs:m,Ls:o}}))}function mw(r,t){const s=we(r);return s.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Qf),s.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function gw(r,t){const s=we(r);return s.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return s.li.getTargetData(i,t).next((h=>h?(o=h,Z.resolve(o)):s.li.allocateTargetId(i).next((m=>(o=new La(t,m,"TargetPurposeListen",i.currentSequenceNumber),s.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=s.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(s.vs=s.vs.insert(i.targetId,i),s.Fs.set(t,i.targetId)),i}))}async function Vf(r,t,s){const i=we(r),o=i.vs.get(t),h=s?"readwrite":"readwrite-primary";try{s||await i.persistence.runTransaction("Release target",h,(m=>i.persistence.referenceDelegate.removeTarget(m,o)))}catch(m){if(!Qi(m))throw m;ie(rm,`Failed to update sequence numbers for target ${t}: ${m}`)}i.vs=i.vs.remove(t),i.Fs.delete(o.target)}function Xy(r,t,s){const i=we(r);let o=Ee.min(),h=Oe();return i.persistence.runTransaction("Execute query","readwrite",(m=>(function(x,b,v){const T=we(x),R=T.Fs.get(v);return R!==void 0?Z.resolve(T.vs.get(R)):T.li.getTargetData(b,v)})(i,m,js(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(m,p.targetId).next((x=>{h=x}))})).next((()=>i.Cs.getDocumentsMatchingQuery(m,t,s?o:Ee.min(),s?h:Oe()))).next((p=>(pw(i,t2(t),p),{documents:p,ks:h})))))}function pw(r,t,s){let i=r.Ms.get(t)||Ee.min();s.forEach(((o,h)=>{h.readTime.compareTo(i)>0&&(i=h.readTime)})),r.Ms.set(t,i)}class $y{constructor(){this.activeTargetIds=l2()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yw{constructor(){this.vo=new $y,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,s,i){}addLocalQueryTarget(t,s=!0){return s&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,s,i){this.Fo[t]=s}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new $y,Promise.resolve()}handleUserChange(t,s,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="ConnectivityMonitor";class Jy{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ie(Zy,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ie(Zy,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu=null;function Of(){return cu===null?cu=(function(){return 268435456+Math.round(2147483648*Math.random())})():cu++,"0x"+cu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="RestConnection",bw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class _w{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=s+"://"+t.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===Eu?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(t,s,i,o,h){const m=Of(),p=this.Qo(t,s.toUriEncodedString());ie(hf,`Sending RPC '${t}' ${m}:`,p,i);const x={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(x,o,h);const{host:b}=new URL(p),v=To(b);return this.zo(t,p,x,i,v).then((T=>(ie(hf,`Received RPC '${t}' ${m}: `,T),T)),(T=>{throw Ur(hf,`RPC '${t}' ${m} failed with error: `,T,"url: ",p,"request:",i),T}))}jo(t,s,i,o,h,m){return this.Wo(t,s,i,o,h)}Go(t,s,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fi})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,h)=>t[h]=o)),i&&i.headers.forEach(((o,h)=>t[h]=o))}Qo(t,s){const i=bw[t];let o=`${this.qo}/v1/${s}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection",eo=(r,t,s)=>{r.listen(t,(i=>{try{s(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Vi extends _w{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Vi.c_){const t=Qx();eo(t,Gx.STAT_EVENT,(s=>{s.stat===Tf.PROXY?ie(Jt,"STAT_EVENT: detected buffering proxy"):s.stat===Tf.NOPROXY&&ie(Jt,"STAT_EVENT: detected no buffering proxy")})),Vi.c_=!0}}zo(t,s,i,o,h){const m=Of();return new Promise(((p,x)=>{const b=new Hx;b.setWithCredentials(!0),b.listenOnce(Fx.COMPLETE,(()=>{try{switch(b.getLastErrorCode()){case du.NO_ERROR:const T=b.getResponseJson();ie(Jt,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(T)),p(T);break;case du.TIMEOUT:ie(Jt,`RPC '${t}' ${m} timed out`),x(new re(X.DEADLINE_EXCEEDED,"Request time out"));break;case du.HTTP_ERROR:const R=b.getStatus();if(ie(Jt,`RPC '${t}' ${m} failed with status:`,R,"response text:",b.getResponseText()),R>0){let L=b.getResponseJson();Array.isArray(L)&&(L=L[0]);const H=L==null?void 0:L.error;if(H&&H.status&&H.message){const ee=(function(ce){const ue=ce.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ue)>=0?ue:X.UNKNOWN})(H.status);x(new re(ee,H.message))}else x(new re(X.UNKNOWN,"Server responded with status "+b.getStatus()))}else x(new re(X.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:t,streamId:m,h_:b.getLastErrorCode(),P_:b.getLastError()})}}finally{ie(Jt,`RPC '${t}' ${m} completed.`)}}));const v=JSON.stringify(o);ie(Jt,`RPC '${t}' ${m} sending request:`,o),b.send(s,"POST",v,i,15)}))}T_(t,s,i){const o=Of(),h=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;x!==void 0&&(p.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,s,i),p.encodeInitMessageHeaders=!0;const b=h.join("");ie(Jt,`Creating RPC '${t}' stream ${o}: ${b}`,p);const v=m.createWebChannel(b,p);this.I_(v);let T=!1,R=!1;const L=new vw({Ho:H=>{R?ie(Jt,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(T||(ie(Jt,`Opening RPC '${t}' stream ${o} transport.`),v.open(),T=!0),ie(Jt,`RPC '${t}' stream ${o} sending:`,H),v.send(H))},Jo:()=>v.close()});return eo(v,so.EventType.OPEN,(()=>{R||(ie(Jt,`RPC '${t}' stream ${o} transport opened.`),L.i_())})),eo(v,so.EventType.CLOSE,(()=>{R||(R=!0,ie(Jt,`RPC '${t}' stream ${o} transport closed`),L.o_(),this.E_(v))})),eo(v,so.EventType.ERROR,(H=>{R||(R=!0,Ur(Jt,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),L.o_(new re(X.UNAVAILABLE,"The operation could not be completed")))})),eo(v,so.EventType.MESSAGE,(H=>{var ee;if(!R){const J=H.data[0];Ye(!!J,16349);const ce=J,ue=(ce==null?void 0:ce.error)||((ee=ce[0])==null?void 0:ee.error);if(ue){ie(Jt,`RPC '${t}' stream ${o} received error:`,ue);const ae=ue.status;let de=(function(N){const A=Rt[N];if(A!==void 0)return Sb(A)})(ae),ve=ue.message;ae==="NOT_FOUND"&&ve.includes("database")&&ve.includes("does not exist")&&ve.includes(this.databaseId.database)&&Ur(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),de===void 0&&(de=X.INTERNAL,ve="Unknown error status: "+ae+" with message "+ue.message),R=!0,L.o_(new re(de,ve)),v.close()}else ie(Jt,`RPC '${t}' stream ${o} received:`,J),L.__(J)}})),Vi.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((s=>s===t))}Go(t,s,i){super.Go(t,s,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Yx()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(r){return new Vi(r)}function df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(r){return new A2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vi.c_=!1;class qb{constructor(t,s,i=1e3,o=1.5,h=6e4){this.Ci=t,this.timerId=s,this.R_=i,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const s=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,s-i);o>0&&ie("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${s} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="PersistentStream";class Hb{constructor(t,s,i,o,h,m,p,x){this.Ci=t,this.b_=i,this.S_=o,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=p,this.listener=x,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qb(t,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,s){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():s&&s.code===X.RESOURCE_EXHAUSTED?(ta(s.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(s)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===s&&this.G_(i,o)}),(i=>{t((()=>{const o=new re(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(t,s){const i=this.Q_(this.D_);this.stream=this.j_(t,s),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ie(Wy,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return s=>{this.Ci.enqueueAndForget((()=>this.D_===t?s():(ie(Wy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Tw extends Hb{constructor(t,s,i,o,h,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,i,o,m),this.serializer=h}j_(t,s){return this.connection.T_("Listen",t,s)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const s=R2(this.serializer,t),i=(function(h){if(!("targetChange"in h))return Ee.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?Ee.min():m.readTime?Cs(m.readTime):Ee.min()})(t);return this.listener.J_(s,i)}Z_(t){const s={};s.database=If(this.serializer),s.addTarget=(function(h,m){let p;const x=m.target;if(p=kf(x)?{documents:D2(h,x)}:{query:I2(h,x).ft},p.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){p.resumeToken=jb(h,m.resumeToken);const b=jf(h,m.expectedCount);b!==null&&(p.expectedCount=b)}else if(m.snapshotVersion.compareTo(Ee.min())>0){p.readTime=ku(h,m.snapshotVersion.toTimestamp());const b=jf(h,m.expectedCount);b!==null&&(p.expectedCount=b)}return p})(this.serializer,t);const i=O2(this.serializer,t);i&&(s.labels=i),this.K_(s)}X_(t){const s={};s.database=If(this.serializer),s.removeTarget=t,this.K_(s)}}class ww extends Hb{constructor(t,s,i,o,h,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,i,o,m),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,s){return this.connection.T_("Write",t,s)}H_(t){return Ye(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ye(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ye(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const s=C2(t.writeResults,t.commitTime),i=Cs(t.commitTime);return this.listener.na(i,s)}ra(){const t={};t.database=If(this.serializer),this.K_(t)}ea(t){const s={streamToken:this.lastStreamToken,writes:t.map((i=>j2(this.serializer,i)))};this.K_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{}class Aw extends Nw{constructor(t,s,i,o){super(),this.authCredentials=t,this.appCheckCredentials=s,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new re(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,s,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Wo(t,Cf(s,i),o,h,m))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new re(X.UNKNOWN,h.toString())}))}jo(t,s,i,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,p])=>this.connection.jo(t,Cf(s,i),o,m,p,h))).catch((m=>{throw m.name==="FirebaseError"?(m.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new re(X.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Sw(r,t,s,i){return new Aw(r,t,s,i)}class kw{constructor(t,s){this.asyncQueue=t,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const s=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ta(s),this.aa=!1):ie("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="RemoteStore";class Rw{constructor(t,s,i,o,h){this.localStore=t,this.datastore=s,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((m=>{i.enqueueAndForget((async()=>{qr(this)&&(ie(Lr,"Restarting streams for network reachability change."),await(async function(x){const b=we(x);b.Ea.add(4),await So(b),b.Va.set("Unknown"),b.Ea.delete(4),await Qu(b)})(this))}))})),this.Va=new kw(i,o)}}async function Qu(r){if(qr(r))for(const t of r.Ra)await t(!0)}async function So(r){for(const t of r.Ra)await t(!1)}function Fb(r,t){const s=we(r);s.Ia.has(t.targetId)||(s.Ia.set(t.targetId,t),cm(s)?om(s):Ki(s).O_()&&lm(s,t))}function im(r,t){const s=we(r),i=Ki(s);s.Ia.delete(t),i.O_()&&Gb(s,t),s.Ia.size===0&&(i.O_()?i.L_():qr(s)&&s.Va.set("Unknown"))}function lm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ee.min())>0){const s=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(s)}Ki(r).Z_(t)}function Gb(r,t){r.da.$e(t),Ki(r).X_(t)}function om(r){r.da=new E2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Ki(r).start(),r.Va.ua()}function cm(r){return qr(r)&&!Ki(r).x_()&&r.Ia.size>0}function qr(r){return we(r).Ea.size===0}function Qb(r){r.da=void 0}async function jw(r){r.Va.set("Online")}async function Cw(r){r.Ia.forEach(((t,s)=>{lm(r,t)}))}async function Dw(r,t){Qb(r),cm(r)?(r.Va.ha(t),om(r)):r.Va.set("Unknown")}async function Iw(r,t,s){if(r.Va.set("Online"),t instanceof Rb&&t.state===2&&t.cause)try{await(async function(o,h){const m=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,m),o.Ia.delete(p),o.da.removeTarget(p))})(r,t)}catch(i){ie(Lr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await ju(r,i)}else if(t instanceof pu?r.da.Xe(t):t instanceof kb?r.da.st(t):r.da.tt(t),!s.isEqual(Ee.min()))try{const i=await Pb(r.localStore);s.compareTo(i)>=0&&await(function(h,m){const p=h.da.Tt(m);return p.targetChanges.forEach(((x,b)=>{if(x.resumeToken.approximateByteSize()>0){const v=h.Ia.get(b);v&&h.Ia.set(b,v.withResumeToken(x.resumeToken,m))}})),p.targetMismatches.forEach(((x,b)=>{const v=h.Ia.get(x);if(!v)return;h.Ia.set(x,v.withResumeToken($t.EMPTY_BYTE_STRING,v.snapshotVersion)),Gb(h,x);const T=new La(v.target,x,b,v.sequenceNumber);lm(h,T)})),h.remoteSyncer.applyRemoteEvent(p)})(r,s)}catch(i){ie(Lr,"Failed to raise snapshot:",i),await ju(r,i)}}async function ju(r,t,s){if(!Qi(t))throw t;r.Ea.add(1),await So(r),r.Va.set("Offline"),s||(s=()=>Pb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ie(Lr,"Retrying IndexedDB access"),await s(),r.Ea.delete(1),await Qu(r)}))}function Yb(r,t){return t().catch((s=>ju(r,s,t)))}async function Yu(r){const t=we(r),s=Xa(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Qf;for(;Vw(t);)try{const o=await mw(t.localStore,i);if(o===null){t.Ta.length===0&&s.L_();break}i=o.batchId,Ow(t,o)}catch(o){await ju(t,o)}Kb(t)&&Xb(t)}function Vw(r){return qr(r)&&r.Ta.length<10}function Ow(r,t){r.Ta.push(t);const s=Xa(r);s.O_()&&s.Y_&&s.ea(t.mutations)}function Kb(r){return qr(r)&&!Xa(r).x_()&&r.Ta.length>0}function Xb(r){Xa(r).start()}async function Mw(r){Xa(r).ra()}async function Uw(r){const t=Xa(r);for(const s of r.Ta)t.ea(s.mutations)}async function Lw(r,t,s){const i=r.Ta.shift(),o=Wf.from(i,t,s);await Yb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Yu(r)}async function zw(r,t){t&&Xa(r).Y_&&await(async function(i,o){if((function(m){return b2(m)&&m!==X.ABORTED})(o.code)){const h=i.Ta.shift();Xa(i).B_(),await Yb(i,(()=>i.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Yu(i)}})(r,t),Kb(r)&&Xb(r)}async function ex(r,t){const s=we(r);s.asyncQueue.verifyOperationInProgress(),ie(Lr,"RemoteStore received new credentials");const i=qr(s);s.Ea.add(3),await So(s),i&&s.Va.set("Unknown"),await s.remoteSyncer.handleCredentialChange(t),s.Ea.delete(3),await Qu(s)}async function Bw(r,t){const s=we(r);t?(s.Ea.delete(2),await Qu(s)):t||(s.Ea.add(2),await So(s),s.Va.set("Unknown"))}function Ki(r){return r.ma||(r.ma=(function(s,i,o){const h=we(s);return h.sa(),new Tw(i,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Zo:jw.bind(null,r),Yo:Cw.bind(null,r),t_:Dw.bind(null,r),J_:Iw.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),cm(r)?om(r):r.Va.set("Unknown")):(await r.ma.stop(),Qb(r))}))),r.ma}function Xa(r){return r.fa||(r.fa=(function(s,i,o){const h=we(s);return h.sa(),new ww(i,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Mw.bind(null,r),t_:zw.bind(null,r),ta:Uw.bind(null,r),na:Lw.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Yu(r)):(await r.fa.stop(),r.Ta.length>0&&(ie(Lr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(t,s,i,o,h){this.asyncQueue=t,this.timerId=s,this.targetTimeMs=i,this.op=o,this.removalCallback=h,this.deferred=new Ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,s,i,o,h){const m=Date.now()+i,p=new um(t,s,m,o,h);return p.start(i),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hm(r,t){if(ta("AsyncQueue",`${t}: ${r}`),Qi(r))return new re(X.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{static emptySet(t){return new Oi(t.comparator)}constructor(t){this.comparator=t?(s,i)=>t(s,i)||pe.comparator(s.key,i.key):(s,i)=>pe.comparator(s.key,i.key),this.keyedMap=ao(),this.sortedSet=new ut(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const s=this.keyedMap.get(t);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((s,i)=>(t(s),!1)))}add(t){const s=this.delete(t.key);return s.copy(s.keyedMap.insert(t.key,t),s.sortedSet.insert(t,null))}delete(t){const s=this.get(t);return s?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(s)):this}isEqual(t){if(!(t instanceof Oi)||this.size!==t.size)return!1;const s=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;s.hasNext();){const o=s.getNext().key,h=i.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((s=>{t.push(s.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,s){const i=new Oi;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=s,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.ga=new ut(pe.comparator)}track(t){const s=t.doc.key,i=this.ga.get(s);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(s,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(s,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(s,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(s,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(s):t.type===1&&i.type===2?this.ga=this.ga.insert(s,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(s,{type:2,doc:t.doc}):_e(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(s,t)}ya(){const t=[];return this.ga.inorderTraversal(((s,i)=>{t.push(i)})),t}}class qi{constructor(t,s,i,o,h,m,p,x,b){this.query=t,this.docs=s,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=p,this.excludesMetadataChanges=x,this.hasCachedResults=b}static fromInitialDocuments(t,s,i,o,h){const m=[];return s.forEach((p=>{m.push({type:0,doc:p})})),new qi(t,s,Oi.emptySet(s),m,i,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const s=this.docChanges,i=t.docChanges;if(s.length!==i.length)return!1;for(let o=0;o<s.length;o++)if(s[o].type!==i[o].type||!s[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class qw{constructor(){this.queries=nx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,i){const o=we(s),h=o.queries;o.queries=nx(),h.forEach(((m,p)=>{for(const x of p.ba)x.onError(i)}))})(this,new re(X.ABORTED,"Firestore shutting down"))}}function nx(){return new Pr((r=>gb(r)),zu)}async function $b(r,t){const s=we(r);let i=3;const o=t.query;let h=s.queries.get(o);h?!h.Sa()&&t.Da()&&(i=2):(h=new Pw,i=t.Da()?0:1);try{switch(i){case 0:h.wa=await s.onListen(o,!0);break;case 1:h.wa=await s.onListen(o,!1);break;case 2:await s.onFirstRemoteStoreListen(o)}}catch(m){const p=hm(m,`Initialization of query '${Ci(t.query)}' failed`);return void t.onError(p)}s.queries.set(o,h),h.ba.push(t),t.va(s.onlineState),h.wa&&t.Fa(h.wa)&&dm(s)}async function Zb(r,t){const s=we(r),i=t.query;let o=3;const h=s.queries.get(i);if(h){const m=h.ba.indexOf(t);m>=0&&(h.ba.splice(m,1),h.ba.length===0?o=t.Da()?0:1:!h.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return s.queries.delete(i),s.onUnlisten(i,!0);case 1:return s.queries.delete(i),s.onUnlisten(i,!1);case 2:return s.onLastRemoteStoreUnlisten(i);default:return}}function Hw(r,t){const s=we(r);let i=!1;for(const o of t){const h=o.query,m=s.queries.get(h);if(m){for(const p of m.ba)p.Fa(o)&&(i=!0);m.wa=o}}i&&dm(s)}function Fw(r,t,s){const i=we(r),o=i.queries.get(t);if(o)for(const h of o.ba)h.onError(s);i.queries.delete(t)}function dm(r){r.Ca.forEach((t=>{t.next()}))}var Mf,sx;(sx=Mf||(Mf={})).Ma="default",sx.Cache="cache";class Jb{constructor(t,s,i){this.query=t,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const o of t.docChanges)o.type!==3&&i.push(o);t=new qi(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let s=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),s=!0):this.La(t,this.onlineState)&&(this.ka(t),s=!0),this.Na=t,s}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),s=!0),s}La(t,s){if(!t.fromCache||!this.Da())return!0;const i=s!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||s==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(t){t=qi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Mf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t){this.key=t}}class e_{constructor(t){this.key=t}}class Gw{constructor(t,s){this.query=t,this.Za=s,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Oe(),this.mutatedKeys=Oe(),this.eu=pb(t),this.tu=new Oi(this.eu)}get nu(){return this.Za}ru(t,s){const i=s?s.iu:new tx,o=s?s.tu:this.tu;let h=s?s.mutatedKeys:this.mutatedKeys,m=o,p=!1;const x=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,b=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,T)=>{const R=o.get(v),L=Bu(this.query,T)?T:null,H=!!R&&this.mutatedKeys.has(R.key),ee=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let J=!1;R&&L?R.data.isEqual(L.data)?H!==ee&&(i.track({type:3,doc:L}),J=!0):this.su(R,L)||(i.track({type:2,doc:L}),J=!0,(x&&this.eu(L,x)>0||b&&this.eu(L,b)<0)&&(p=!0)):!R&&L?(i.track({type:0,doc:L}),J=!0):R&&!L&&(i.track({type:1,doc:R}),J=!0,(x||b)&&(p=!0)),J&&(L?(m=m.add(L),h=ee?h.add(v):h.delete(v)):(m=m.delete(v),h=h.delete(v)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const v=this.query.limitType==="F"?m.last():m.first();m=m.delete(v.key),h=h.delete(v.key),i.track({type:1,doc:v})}return{tu:m,iu:i,Ss:p,mutatedKeys:h}}su(t,s){return t.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(t,s,i,o){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const m=t.iu.ya();m.sort(((v,T)=>(function(L,H){const ee=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:J})}};return ee(L)-ee(H)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(i),o=o??!1;const p=s&&!o?this._u():[],x=this.Ya.size===0&&this.current&&!o?1:0,b=x!==this.Xa;return this.Xa=x,m.length!==0||b?{snapshot:new qi(this.query,t.tu,h,m,t.mutatedKeys,x===0,b,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tx,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((s=>this.Za=this.Za.add(s))),t.modifiedDocuments.forEach((s=>{})),t.removedDocuments.forEach((s=>this.Za=this.Za.delete(s))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Oe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const s=[];return t.forEach((i=>{this.Ya.has(i)||s.push(new e_(i))})),this.Ya.forEach((i=>{t.has(i)||s.push(new Wb(i))})),s}cu(t){this.Za=t.ks,this.Ya=Oe();const s=this.ru(t.documents);return this.applyChanges(s,!0)}lu(){return qi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const fm="SyncEngine";class Qw{constructor(t,s,i){this.query=t,this.targetId=s,this.view=i}}class Yw{constructor(t){this.key=t,this.hu=!1}}class Kw{constructor(t,s,i,o,h,m){this.localStore=t,this.remoteStore=s,this.eventManager=i,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new Pr((p=>gb(p)),zu),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(pe.comparator),this.Au=new Map,this.Vu=new nm,this.du={},this.mu=new Map,this.fu=Pi.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Xw(r,t,s=!0){const i=i_(r);let o;const h=i.Tu.get(t);return h?(i.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await t_(i,t,s,!0),o}async function $w(r,t){const s=i_(r);await t_(s,t,!0,!1)}async function t_(r,t,s,i){const o=await gw(r.localStore,js(t)),h=o.targetId,m=r.sharedClientState.addLocalQueryTarget(h,s);let p;return i&&(p=await Zw(r,t,h,m==="current",o.resumeToken)),r.isPrimaryClient&&s&&Fb(r.remoteStore,o),p}async function Zw(r,t,s,i,o){r.pu=(T,R,L)=>(async function(ee,J,ce,ue){let ae=J.view.ru(ce);ae.Ss&&(ae=await Xy(ee.localStore,J.query,!1).then((({documents:N})=>J.view.ru(N,ae))));const de=ue&&ue.targetChanges.get(J.targetId),ve=ue&&ue.targetMismatches.get(J.targetId)!=null,be=J.view.applyChanges(ae,ee.isPrimaryClient,de,ve);return rx(ee,J.targetId,be.au),be.snapshot})(r,T,R,L);const h=await Xy(r.localStore,t,!0),m=new Gw(t,h.ks),p=m.ru(h.documents),x=Ao.createSynthesizedTargetChangeForCurrentChange(s,i&&r.onlineState!=="Offline",o),b=m.applyChanges(p,r.isPrimaryClient,x);rx(r,s,b.au);const v=new Qw(t,s,m);return r.Tu.set(t,v),r.Iu.has(s)?r.Iu.get(s).push(t):r.Iu.set(s,[t]),b.snapshot}async function Jw(r,t,s){const i=we(r),o=i.Tu.get(t),h=i.Iu.get(o.targetId);if(h.length>1)return i.Iu.set(o.targetId,h.filter((m=>!zu(m,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Vf(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),s&&im(i.remoteStore,o.targetId),Uf(i,o.targetId)})).catch(Gi)):(Uf(i,o.targetId),await Vf(i.localStore,o.targetId,!0))}async function Ww(r,t){const s=we(r),i=s.Tu.get(t),o=s.Iu.get(i.targetId);s.isPrimaryClient&&o.length===1&&(s.sharedClientState.removeLocalQueryTarget(i.targetId),im(s.remoteStore,i.targetId))}async function eN(r,t,s){const i=lN(r);try{const o=await(function(m,p){const x=we(m),b=Qe.now(),v=p.reduce(((L,H)=>L.add(H.key)),Oe());let T,R;return x.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let H=na(),ee=Oe();return x.xs.getEntries(L,v).next((J=>{H=J,H.forEach(((ce,ue)=>{ue.isValidDocument()||(ee=ee.add(ce))}))})).next((()=>x.localDocuments.getOverlayedDocuments(L,H))).next((J=>{T=J;const ce=[];for(const ue of p){const ae=m2(ue,T.get(ue.key).overlayedDocument);ae!=null&&ce.push(new Wa(ue.key,ae,lb(ae.value.mapValue),pn.exists(!0)))}return x.mutationQueue.addMutationBatch(L,b,ce,p)})).next((J=>{R=J;const ce=J.applyToLocalDocumentSet(T,ee);return x.documentOverlayCache.saveOverlays(L,J.batchId,ce)}))})).then((()=>({batchId:R.batchId,changes:xb(T)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(o.batchId),(function(m,p,x){let b=m.du[m.currentUser.toKey()];b||(b=new ut(Ve)),b=b.insert(p,x),m.du[m.currentUser.toKey()]=b})(i,o.batchId,s),await ko(i,o.changes),await Yu(i.remoteStore)}catch(o){const h=hm(o,"Failed to persist write");s.reject(h)}}async function n_(r,t){const s=we(r);try{const i=await dw(s.localStore,t);t.targetChanges.forEach(((o,h)=>{const m=s.Au.get(h);m&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?m.hu=!0:o.modifiedDocuments.size>0?Ye(m.hu,14607):o.removedDocuments.size>0&&(Ye(m.hu,42227),m.hu=!1))})),await ko(s,i,t)}catch(i){await Gi(i)}}function ax(r,t,s){const i=we(r);if(i.isPrimaryClient&&s===0||!i.isPrimaryClient&&s===1){const o=[];i.Tu.forEach(((h,m)=>{const p=m.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(m,p){const x=we(m);x.onlineState=p;let b=!1;x.queries.forEach(((v,T)=>{for(const R of T.ba)R.va(p)&&(b=!0)})),b&&dm(x)})(i.eventManager,t),o.length&&i.Pu.J_(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function tN(r,t,s){const i=we(r);i.sharedClientState.updateQueryState(t,"rejected",s);const o=i.Au.get(t),h=o&&o.key;if(h){let m=new ut(pe.comparator);m=m.insert(h,en.newNoDocument(h,Ee.min()));const p=Oe().add(h),x=new Fu(Ee.min(),new Map,new ut(Ve),m,p);await n_(i,x),i.Ru=i.Ru.remove(h),i.Au.delete(t),mm(i)}else await Vf(i.localStore,t,!1).then((()=>Uf(i,t,s))).catch(Gi)}async function nN(r,t){const s=we(r),i=t.batch.batchId;try{const o=await hw(s.localStore,t);a_(s,i,null),s_(s,i),s.sharedClientState.updateMutationState(i,"acknowledged"),await ko(s,o)}catch(o){await Gi(o)}}async function sN(r,t,s){const i=we(r);try{const o=await(function(m,p){const x=we(m);return x.persistence.runTransaction("Reject batch","readwrite-primary",(b=>{let v;return x.mutationQueue.lookupMutationBatch(b,p).next((T=>(Ye(T!==null,37113),v=T.keys(),x.mutationQueue.removeMutationBatch(b,T)))).next((()=>x.mutationQueue.performConsistencyCheck(b))).next((()=>x.documentOverlayCache.removeOverlaysForBatchId(b,v,p))).next((()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(b,v))).next((()=>x.localDocuments.getDocuments(b,v)))}))})(i.localStore,t);a_(i,t,s),s_(i,t),i.sharedClientState.updateMutationState(t,"rejected",s),await ko(i,o)}catch(o){await Gi(o)}}function s_(r,t){(r.mu.get(t)||[]).forEach((s=>{s.resolve()})),r.mu.delete(t)}function a_(r,t,s){const i=we(r);let o=i.du[i.currentUser.toKey()];if(o){const h=o.get(t);h&&(s?h.reject(s):h.resolve(),o=o.remove(t)),i.du[i.currentUser.toKey()]=o}}function Uf(r,t,s=null){r.sharedClientState.removeLocalQueryTarget(t);for(const i of r.Iu.get(t))r.Tu.delete(i),s&&r.Pu.yu(i,s);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((i=>{r.Vu.containsKey(i)||r_(r,i)}))}function r_(r,t){r.Eu.delete(t.path.canonicalString());const s=r.Ru.get(t);s!==null&&(im(r.remoteStore,s),r.Ru=r.Ru.remove(t),r.Au.delete(s),mm(r))}function rx(r,t,s){for(const i of s)i instanceof Wb?(r.Vu.addReference(i.key,t),aN(r,i)):i instanceof e_?(ie(fm,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,t),r.Vu.containsKey(i.key)||r_(r,i.key)):_e(19791,{wu:i})}function aN(r,t){const s=t.key,i=s.path.canonicalString();r.Ru.get(s)||r.Eu.has(i)||(ie(fm,"New document in limbo: "+s),r.Eu.add(i),mm(r))}function mm(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const s=new pe(st.fromString(t)),i=r.fu.next();r.Au.set(i,new Yw(s)),r.Ru=r.Ru.insert(s,i),Fb(r.remoteStore,new La(js(Zf(s.path)),i,"TargetPurposeLimboResolution",Mu.ce))}}async function ko(r,t,s){const i=we(r),o=[],h=[],m=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,x)=>{m.push(i.pu(x,t,s).then((b=>{var v;if((b||s)&&i.isPrimaryClient){const T=b?!b.fromCache:(v=s==null?void 0:s.targetChanges.get(x.targetId))==null?void 0:v.current;i.sharedClientState.updateQueryState(x.targetId,T?"current":"not-current")}if(b){o.push(b);const T=am.Es(x.targetId,b);h.push(T)}})))})),await Promise.all(m),i.Pu.J_(o),await(async function(x,b){const v=we(x);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>Z.forEach(b,(R=>Z.forEach(R.Ts,(L=>v.persistence.referenceDelegate.addReference(T,R.targetId,L))).next((()=>Z.forEach(R.Is,(L=>v.persistence.referenceDelegate.removeReference(T,R.targetId,L)))))))))}catch(T){if(!Qi(T))throw T;ie(rm,"Failed to update sequence numbers: "+T)}for(const T of b){const R=T.targetId;if(!T.fromCache){const L=v.vs.get(R),H=L.snapshotVersion,ee=L.withLastLimboFreeSnapshotVersion(H);v.vs=v.vs.insert(R,ee)}}})(i.localStore,h))}async function rN(r,t){const s=we(r);if(!s.currentUser.isEqual(t)){ie(fm,"User change. New user:",t.toKey());const i=await Bb(s.localStore,t);s.currentUser=t,(function(h,m){h.mu.forEach((p=>{p.forEach((x=>{x.reject(new re(X.CANCELLED,m))}))})),h.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await ko(s,i.Ns)}}function iN(r,t){const s=we(r),i=s.Au.get(t);if(i&&i.hu)return Oe().add(i.key);{let o=Oe();const h=s.Iu.get(t);if(!h)return o;for(const m of h){const p=s.Tu.get(m);o=o.unionWith(p.view.nu)}return o}}function i_(r){const t=we(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=n_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tN.bind(null,t),t.Pu.J_=Hw.bind(null,t.eventManager),t.Pu.yu=Fw.bind(null,t.eventManager),t}function lN(r){const t=we(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sN.bind(null,t),t}class Cu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Gu(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,s){return null}Mu(t,s){return null}vu(t){return uw(this.persistence,new lw,t.initialUser,this.serializer)}Cu(t){return new zb(sm.Vi,this.serializer)}Du(t){return new yw}async terminate(){var t,s;(t=this.gcScheduler)==null||t.stop(),(s=this.indexBackfillerScheduler)==null||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cu.provider={build:()=>new Cu};class oN extends Cu{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,s){Ye(this.persistence.referenceDelegate instanceof Ru,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Q2(i,t.asyncQueue,s)}Cu(t){const s=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new zb((i=>Ru.Vi(i,s)),this.serializer)}}class Lf{async initialize(t,s){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ax(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=rN.bind(null,this.syncEngine),await Bw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qw})()}createDatastore(t){const s=Gu(t.databaseInfo.databaseId),i=Ew(t.databaseInfo);return Sw(t.authCredentials,t.appCheckCredentials,i,s)}createRemoteStore(t){return(function(i,o,h,m,p){return new Rw(i,o,h,m,p)})(this.localStore,this.datastore,t.asyncQueue,(s=>ax(this.syncEngine,s,0)),(function(){return Jy.v()?new Jy:new xw})())}createSyncEngine(t,s){return(function(o,h,m,p,x,b,v){const T=new Kw(o,h,m,p,x,b);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,s)}async terminate(){var t,s;await(async function(o){const h=we(o);ie(Lr,"RemoteStore shutting down."),h.Ea.add(5),await So(h),h.Aa.shutdown(),h.Va.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(s=this.eventManager)==null||s.terminate()}}Lf.provider={build:()=>new Lf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ta("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,s){setTimeout((()=>{this.muted||t(s)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="FirestoreClient";class cN{constructor(t,s,i,o,h){this.authCredentials=t,this.appCheckCredentials=s,this.asyncQueue=i,this._databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Gf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(i,(async m=>{ie($a,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(i,(m=>(ie($a,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(s){const i=hm(s,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function ff(r,t){r.asyncQueue.verifyOperationInProgress(),ie($a,"Initializing OfflineComponentProvider");const s=r.configuration;await t.initialize(s);let i=s.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await Bb(t.localStore,o),i=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function ix(r,t){r.asyncQueue.verifyOperationInProgress();const s=await uN(r);ie($a,"Initializing OnlineComponentProvider"),await t.initialize(s,r.configuration),r.setCredentialChangeListener((i=>ex(t.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>ex(t.remoteStore,o))),r._onlineComponents=t}async function uN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ie($a,"Using user provided OfflineComponentProvider");try{await ff(r,r._uninitializedComponentsProvider._offline)}catch(t){const s=t;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(s))throw s;Ur("Error using user provided cache. Falling back to memory cache: "+s),await ff(r,new Cu)}}else ie($a,"Using default OfflineComponentProvider"),await ff(r,new oN(void 0));return r._offlineComponents}async function o_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ie($a,"Using user provided OnlineComponentProvider"),await ix(r,r._uninitializedComponentsProvider._online)):(ie($a,"Using default OnlineComponentProvider"),await ix(r,new Lf))),r._onlineComponents}function hN(r){return o_(r).then((t=>t.syncEngine))}async function zf(r){const t=await o_(r),s=t.eventManager;return s.onListen=Xw.bind(null,t.syncEngine),s.onUnlisten=Jw.bind(null,t.syncEngine),s.onFirstRemoteStoreListen=$w.bind(null,t.syncEngine),s.onLastRemoteStoreUnlisten=Ww.bind(null,t.syncEngine),s}function dN(r,t,s,i){const o=new l_(i),h=new Jb(t,o,s);return r.asyncQueue.enqueueAndForget((async()=>$b(await zf(r),h))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>Zb(await zf(r),h)))}}function fN(r,t,s={}){const i=new Ha;return r.asyncQueue.enqueueAndForget((async()=>(function(h,m,p,x,b){const v=new l_({next:R=>{v.Nu(),m.enqueueAndForget((()=>Zb(h,T))),R.fromCache&&x.source==="server"?b.reject(new re(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(R)},error:R=>b.reject(R)}),T=new Jb(p,v,{includeMetadataChanges:!0,Ka:!0});return $b(h,T)})(await zf(r),r.asyncQueue,t,s,i))),i.promise}function mN(r,t){const s=new Ha;return r.asyncQueue.enqueueAndForget((async()=>eN(await hN(r),t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="ComponentProvider",lx=new Map;function pN(r,t,s,i,o){return new MT(r,t,s,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,c_(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="firestore.googleapis.com",ox=!0;class cx{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new re(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u_,this.ssl=ox}else this.host=t.host,this.ssl=t.ssl??ox;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Lb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<F2)throw new re(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c_(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ku{constructor(t,s,i,o){this._authCredentials=t,this._appCheckCredentials=s,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new re(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cx(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new gT;switch(i.type){case"firstParty":return new bT(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new re(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const i=lx.get(s);i&&(ie(gN,"Removing Datastore"),lx.delete(s),i.terminate())})(this),Promise.resolve()}}function yN(r,t,s,i={}){var b;r=as(r,Ku);const o=To(t),h=r._getSettings(),m={...h,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${s}`;o&&(kx(`https://${p}`),jx("Firestore",!0)),h.host!==u_&&h.host!==p&&Ur("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const x={...h,host:p,ssl:o,emulatorOptions:i};if(!bu(x,m)&&(r._setSettings(x),i.mockUserToken)){let v,T;if(typeof i.mockUserToken=="string")v=i.mockUserToken,T=Wt.MOCK_USER;else{v=Rx(i.mockUserToken,(b=r._app)==null?void 0:b.options.projectId);const R=i.mockUserToken.sub||i.mockUserToken.user_id;if(!R)throw new re(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Wt(R)}r._authCredentials=new pT(new Xx(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,s,i){this.converter=s,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new sa(this.firestore,t,this._query)}}class Dt{constructor(t,s,i){this.converter=s,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Dt(this.firestore,t,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,s,i){if(wo(s,Dt._jsonSchema))return new Dt(t,i||null,new pe(st.fromString(s.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Ct("string",Dt._jsonSchemaVersion),referencePath:Ct("string")};class Fa extends sa{constructor(t,s,i){super(t,s,Zf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Dt(this.firestore,null,new pe(t))}withConverter(t){return new Fa(this.firestore,t,this._path)}}function Hn(r,t,...s){if(r=tn(r),$x("collection","path",t),r instanceof Ku){const i=st.fromString(t,...s);return Ey(i),new Fa(r,null,i)}{if(!(r instanceof Dt||r instanceof Fa))throw new re(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(st.fromString(t,...s));return Ey(i),new Fa(r.firestore,null,i)}}function Ws(r,t,...s){if(r=tn(r),arguments.length===1&&(t=Gf.newId()),$x("doc","path",t),r instanceof Ku){const i=st.fromString(t,...s);return vy(i),new Dt(r,null,new pe(i))}{if(!(r instanceof Dt||r instanceof Fa))throw new re(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(st.fromString(t,...s));return vy(i),new Dt(r.firestore,r instanceof Fa?r.converter:null,new pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="AsyncQueue";class hx{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qb(this,"async_queue_retry"),this._c=()=>{const i=df();i&&ie(ux,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const s=df();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const s=df();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new Ha;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Qi(t))throw t;ie(ux,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const s=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,ta("INTERNAL UNHANDLED ERROR: ",dx(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=s,s}enqueueAfterDelay(t,s,i){this.uc(),this.oc.indexOf(t)>-1&&(s=0);const o=um.createAndSchedule(this,t,s,i,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:dx(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const s of this.tc)if(s.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((s,i)=>s.targetTimeMs-i.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),t!=="all"&&s.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const s=this.tc.indexOf(t);this.tc.splice(s,1)}}function dx(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Za extends Ku{constructor(t,s,i,o){super(t,s,i,o),this.type="firestore",this._queue=new hx,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hx(t),this._firestoreClient=void 0,await t}}}function xN(r,t){const s=typeof r=="object"?r:zx(),i=typeof r=="string"?r:Eu,o=Ox(s,"firestore").getImmediate({identifier:i});if(!o._initialized){const h=Ax("firestore");h&&yN(o,...h)}return o}function Xu(r){if(r._terminated)throw new re(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bN(r),r._firestoreClient}function bN(r){var i,o,h,m;const t=r._freezeSettings(),s=pN(r._databaseId,((i=r._app)==null?void 0:i.options.appId)||"",r._persistenceKey,(o=r._app)==null?void 0:o.options.apiKey,t);r._componentsProvider||(h=t.localCache)!=null&&h._offlineComponentProvider&&((m=t.localCache)!=null&&m._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new cN(r._authCredentials,r._appCheckCredentials,r._queue,s,r._componentsProvider&&(function(x){const b=x==null?void 0:x._online.build();return{_offline:x==null?void 0:x._offline.build(b),_online:b}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn($t.fromBase64String(t))}catch(s){throw new re(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(t){return new Fn($t.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(wo(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ct("string",Fn._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(...t){for(let s=0;s<t.length;++s)if(t[s].length===0)throw new re(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t,s){if(!isFinite(t)||t<-90||t>90)throw new re(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(s)||s<-180||s>180)throw new re(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=t,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ve(this._lat,t._lat)||Ve(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ds._jsonSchemaVersion}}static fromJSON(t){if(wo(t,Ds._jsonSchema))return new Ds(t.latitude,t.longitude)}}Ds._jsonSchemaVersion="firestore/geoPoint/1.0",Ds._jsonSchema={type:Ct("string",Ds._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t){this._values=(t||[]).map((s=>s))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,o){if(i.length!==o.length)return!1;for(let h=0;h<i.length;++h)if(i[h]!==o[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(wo(t,rs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((s=>typeof s=="number")))return new rs(t.vectorValues);throw new re(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rs._jsonSchemaVersion="firestore/vectorValue/1.0",rs._jsonSchema={type:Ct("string",rs._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=/^__.*__$/;class vN{constructor(t,s,i){this.data=t,this.fieldMask=s,this.fieldTransforms=i}toMutation(t,s){return this.fieldMask!==null?new Wa(t,this.data,this.fieldMask,s,this.fieldTransforms):new No(t,this.data,s,this.fieldTransforms)}}class h_{constructor(t,s,i){this.data=t,this.fieldMask=s,this.fieldTransforms=i}toMutation(t,s){return new Wa(t,this.data,this.fieldMask,s,this.fieldTransforms)}}function d_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:r})}}class pm{constructor(t,s,i,o,h,m){this.settings=t,this.databaseId=s,this.serializer=i,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new pm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var o;const s=(o=this.path)==null?void 0:o.child(t),i=this.contextWith({path:s,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){var o;const s=(o=this.path)==null?void 0:o.child(t),i=this.contextWith({path:s,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Du(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((s=>t.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>t.isPrefixOf(s.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(d_(this.dataSource)&&_N.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class EN{constructor(t,s,i){this.databaseId=t,this.ignoreUndefinedProperties=s,this.serializer=i||Gu(t)}createContext(t,s,i,o=!1){return new pm({dataSource:t,methodName:s,targetDoc:i,path:Xt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zu(r){const t=r._freezeSettings(),s=Gu(r._databaseId);return new EN(r._databaseId,!!t.ignoreUndefinedProperties,s)}function f_(r,t,s,i,o,h={}){const m=r.createContext(h.merge||h.mergeFields?2:0,t,s,o);ym("Data must be an object, but it was:",m,i);const p=p_(i,m);let x,b;if(h.merge)x=new Sn(m.fieldMask),b=m.fieldTransforms;else if(h.mergeFields){const v=[];for(const T of h.mergeFields){const R=Hi(t,T,s);if(!m.contains(R))throw new re(X.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);b_(v,R)||v.push(R)}x=new Sn(v),b=m.fieldTransforms.filter((T=>x.covers(T.field)))}else x=null,b=m.fieldTransforms;return new vN(new gn(p),x,b)}class Ju extends gm{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ju}}function m_(r,t,s,i){const o=r.createContext(1,t,s);ym("Data must be an object, but it was:",o,i);const h=[],m=gn.empty();Ja(i,((x,b)=>{const v=x_(t,x,s);b=tn(b);const T=o.childContextForFieldPath(v);if(b instanceof Ju)h.push(v);else{const R=Ro(b,T);R!=null&&(h.push(v),m.set(v,R))}}));const p=new Sn(h);return new h_(m,p,o.fieldTransforms)}function g_(r,t,s,i,o,h){const m=r.createContext(1,t,s),p=[Hi(t,i,s)],x=[o];if(h.length%2!=0)throw new re(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<h.length;R+=2)p.push(Hi(t,h[R])),x.push(h[R+1]);const b=[],v=gn.empty();for(let R=p.length-1;R>=0;--R)if(!b_(b,p[R])){const L=p[R];let H=x[R];H=tn(H);const ee=m.childContextForFieldPath(L);if(H instanceof Ju)b.push(L);else{const J=Ro(H,ee);J!=null&&(b.push(L),v.set(L,J))}}const T=new Sn(b);return new h_(v,T,m.fieldTransforms)}function TN(r,t,s,i=!1){return Ro(s,r.createContext(i?4:3,t))}function Ro(r,t){if(y_(r=tn(r)))return ym("Unsupported field value:",t,r),p_(r,t);if(r instanceof gm)return(function(i,o){if(!d_(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const h=i._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(i,o){const h=[];let m=0;for(const p of i){let x=Ro(p,o.childContextForArray(m));x==null&&(x={nullValue:"NULL_VALUE"}),h.push(x),m++}return{arrayValue:{values:h}}})(r,t)}return(function(i,o){if((i=tn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return o2(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const h=Qe.fromDate(i);return{timestampValue:ku(o.serializer,h)}}if(i instanceof Qe){const h=new Qe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ku(o.serializer,h)}}if(i instanceof Ds)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Fn)return{bytesValue:jb(o.serializer,i._byteString)};if(i instanceof Dt){const h=o.databaseId,m=i.firestore._databaseId;if(!m.isEqual(h))throw o.createError(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:tm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof rs)return(function(m,p){const x=m instanceof rs?m.toArray():m;return{mapValue:{fields:{[rb]:{stringValue:ib},[Tu]:{arrayValue:{values:x.map((v=>{if(typeof v!="number")throw p.createError("VectorValues must only contain numeric values.");return Jf(p.serializer,v)}))}}}}}})(i,o);if(Ub(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Ou(i)}`)})(r,t)}function p_(r,t){const s={};return Wx(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ja(r,((i,o)=>{const h=Ro(o,t.childContextForField(i));h!=null&&(s[i]=h)})),{mapValue:{fields:s}}}function y_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Qe||r instanceof Ds||r instanceof Fn||r instanceof Dt||r instanceof gm||r instanceof rs||Ub(r))}function ym(r,t,s){if(!y_(s)||!Zx(s)){const i=Ou(s);throw i==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+i)}}function Hi(r,t,s){if((t=tn(t))instanceof $u)return t._internalPath;if(typeof t=="string")return x_(r,t);throw Du("Field path arguments must be of type string or ",r,!1,void 0,s)}const wN=new RegExp("[~\\*/\\[\\]]");function x_(r,t,s){if(t.search(wN)>=0)throw Du(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,s);try{return new $u(...t.split("."))._internalPath}catch{throw Du(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,s)}}function Du(r,t,s,i,o){const h=i&&!i.isEmpty(),m=o!==void 0;let p=`Function ${t}() called with invalid data`;s&&(p+=" (via `toFirestore()`)"),p+=". ";let x="";return(h||m)&&(x+=" (found",h&&(x+=` in field ${i}`),m&&(x+=` in document ${o}`),x+=")"),new re(X.INVALID_ARGUMENT,p+r+x)}function b_(r,t){return r.some((s=>s.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{convertValue(t,s="none"){switch(Ka(t)){case 0:return null;case 1:return t.booleanValue;case 2:return bt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,s);case 5:return t.stringValue;case 6:return this.convertBytes(Ya(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,s);case 11:return this.convertObject(t.mapValue,s);case 10:return this.convertVectorValue(t.mapValue);default:throw _e(62114,{value:t})}}convertObject(t,s){return this.convertObjectMap(t.fields,s)}convertObjectMap(t,s="none"){const i={};return Ja(t,((o,h)=>{i[o]=this.convertValue(h,s)})),i}convertVectorValue(t){var i,o,h;const s=(h=(o=(i=t.fields)==null?void 0:i[Tu].arrayValue)==null?void 0:o.values)==null?void 0:h.map((m=>bt(m.doubleValue)));return new rs(s)}convertGeoPoint(t){return new Ds(bt(t.latitude),bt(t.longitude))}convertArray(t,s){return(t.values||[]).map((i=>this.convertValue(i,s)))}convertServerTimestamp(t,s){switch(s){case"previous":const i=Lu(t);return i==null?null:this.convertValue(i,s);case"estimate":return this.convertTimestamp(yo(t));default:return null}}convertTimestamp(t){const s=Qa(t);return new Qe(s.seconds,s.nanos)}convertDocumentKey(t,s){const i=st.fromString(t);Ye(Mb(i),9688,{name:t});const o=new xo(i.get(1),i.get(3)),h=new pe(i.popFirst(5));return o.isEqual(s)||ta(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends NN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const s=this.convertDocumentKey(t,this.firestore._databaseId);return new Dt(this.firestore,null,s)}}const fx="@firebase/firestore",mx="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(r){return(function(s,i){if(typeof s!="object"||s===null)return!1;const o=s;for(const h of i)if(h in o&&typeof o[h]=="function")return!0;return!1})(r,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(t,s,i,o,h){this._firestore=t,this._userDataWriter=s,this._key=i,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new AN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const s=this._document.data.field(Hi("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s)}}}class AN extends __{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new re(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bm{}class _m extends bm{}function Iu(r,t,...s){let i=[];t instanceof bm&&i.push(t),i=i.concat(s),(function(h){const m=h.filter((x=>x instanceof Em)).length,p=h.filter((x=>x instanceof vm)).length;if(m>1||m>0&&p>0)throw new re(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class vm extends _m{constructor(t,s,i){super(),this._field=t,this._op=s,this._value=i,this.type="where"}static _create(t,s,i){return new vm(t,s,i)}_apply(t){const s=this._parse(t);return E_(t._query,s),new sa(t.firestore,t.converter,Rf(t._query,s))}_parse(t){const s=Zu(t.firestore);return(function(h,m,p,x,b,v,T){let R;if(b.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new re(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){yx(T,v);const H=[];for(const ee of T)H.push(px(x,h,ee));R={arrayValue:{values:H}}}else R=px(x,h,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||yx(T,v),R=TN(p,m,T,v==="in"||v==="not-in");return jt.create(b,v,R)})(t._query,"where",s,t.firestore._databaseId,this._field,this._op,this._value)}}class Em extends bm{constructor(t,s){super(),this.type=t,this._queryConstraints=s}static _create(t,s){return new Em(t,s)}_parse(t){const s=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return s.length===1?s[0]:is.create(s,this._getOperator())}_apply(t){const s=this._parse(t);return s.getFilters().length===0?t:((function(o,h){let m=o;const p=h.getFlattenedFilters();for(const x of p)E_(m,x),m=Rf(m,x)})(t._query,s),new sa(t.firestore,t.converter,Rf(t._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tm extends _m{constructor(t,s){super(),this._field=t,this._direction=s,this.type="orderBy"}static _create(t,s){return new Tm(t,s)}_apply(t){const s=(function(o,h,m){if(o.startAt!==null)throw new re(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new re(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _o(h,m)})(t._query,this._field,this._direction);return new sa(t.firestore,t.converter,e2(t._query,s))}}function wm(r,t="asc"){const s=t,i=Hi("orderBy",r);return Tm._create(i,s)}class Nm extends _m{constructor(t,s,i){super(),this.type=t,this._limit=s,this._limitType=i}static _create(t,s,i){return new Nm(t,s,i)}_apply(t){return new sa(t.firestore,t.converter,Nu(t._query,this._limit,this._limitType))}}function SN(r){return Nm._create("limit",r,"F")}function px(r,t,s){if(typeof(s=tn(s))=="string"){if(s==="")throw new re(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mb(t)&&s.indexOf("/")!==-1)throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const i=t.path.child(st.fromString(s));if(!pe.isDocumentKey(i))throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return jy(r,new pe(i))}if(s instanceof Dt)return jy(r,s._key);throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ou(s)}.`)}function yx(r,t){if(!Array.isArray(r)||r.length===0)throw new re(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function E_(r,t){const s=(function(o,h){for(const m of o)for(const p of m.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(s!==null)throw s===t.op?new re(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new re(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${s.toString()}' filters.`)}function T_(r,t,s){let i;return i=r?s&&(s.merge||s.mergeFields)?r.toFirestore(t,s):r.toFirestore(t):t,i}class io{constructor(t,s){this.hasPendingWrites=t,this.fromCache=s}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ir extends __{constructor(t,s,i,o,h,m){super(t,s,i,o,m),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const s=new yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,s={}){if(this._document){const i=this._document.data.field(Hi("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,s={};return s.type=Ir._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}Ir._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ir._jsonSchema={type:Ct("string",Ir._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class yu extends Ir{data(t={}){return super.data(t)}}class Vr{constructor(t,s,i,o){this._firestore=t,this._userDataWriter=s,this._snapshot=o,this.metadata=new io(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const t=[];return this.forEach((s=>t.push(s))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,s){this._snapshot.docs.forEach((i=>{t.call(s,new yu(this._firestore,this._userDataWriter,i.key,i,new io(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const s=!!t.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new re(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map((p=>{const x=new yu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new io(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:x,oldIndex:-1,newIndex:m++}}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const x=new yu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new io(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let b=-1,v=-1;return p.type!==0&&(b=m.indexOf(p.doc.key),m=m.delete(p.doc.key)),p.type!==1&&(m=m.add(p.doc),v=m.indexOf(p.doc.key)),{type:kN(p.type),doc:x,oldIndex:b,newIndex:v}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Vr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Gf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],i=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(s.push(h._document),i.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr._jsonSchemaVersion="firestore/querySnapshot/1.0",Vr._jsonSchema={type:Ct("string",Vr._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t,s){this._firestore=t,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=Zu(t)}set(t,s,i){this._verifyNotCommitted();const o=mf(t,this._firestore),h=T_(o.converter,s,i),m=f_(this._dataReader,"WriteBatch.set",o._key,h,o.converter!==null,i);return this._mutations.push(m.toMutation(o._key,pn.none())),this}update(t,s,i,...o){this._verifyNotCommitted();const h=mf(t,this._firestore);let m;return m=typeof(s=tn(s))=="string"||s instanceof $u?g_(this._dataReader,"WriteBatch.update",h._key,s,i,o):m_(this._dataReader,"WriteBatch.update",h._key,s),this._mutations.push(m.toMutation(h._key,pn.exists(!0))),this}delete(t){this._verifyNotCommitted();const s=mf(t,this._firestore);return this._mutations=this._mutations.concat(new Hu(s._key,pn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mf(r,t){if((r=tn(r)).firestore!==t)throw new re(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Vu(r){r=as(r,sa);const t=as(r.firestore,Za),s=Xu(t),i=new xm(t);return v_(r._query),fN(s,r._query).then((o=>new Vr(t,i,r,o)))}function w_(r,t,s,...i){r=as(r,Dt);const o=as(r.firestore,Za),h=Zu(o);let m;return m=typeof(t=tn(t))=="string"||t instanceof $u?g_(h,"updateDoc",r._key,t,s,i):m_(h,"updateDoc",r._key,t),Wu(o,[m.toMutation(r._key,pn.exists(!0))])}function N_(r){return Wu(as(r.firestore,Za),[new Hu(r._key,pn.none())])}function A_(r,t){const s=as(r.firestore,Za),i=Ws(r),o=T_(r.converter,t),h=Zu(r.firestore);return Wu(s,[f_(h,"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,pn.exists(!1))]).then((()=>i))}function Mi(r,...t){var b,v,T;r=tn(r);let s={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||gx(t[i])||(s=t[i++]);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(gx(t[i])){const R=t[i];t[i]=(b=R.next)==null?void 0:b.bind(R),t[i+1]=(v=R.error)==null?void 0:v.bind(R),t[i+2]=(T=R.complete)==null?void 0:T.bind(R)}let h,m,p;if(r instanceof Dt)m=as(r.firestore,Za),p=Zf(r._key.path),h={next:R=>{t[i]&&t[i](jN(m,r,R))},error:t[i+1],complete:t[i+2]};else{const R=as(r,sa);m=as(R.firestore,Za),p=R._query;const L=new xm(m);h={next:H=>{t[i]&&t[i](new Vr(m,L,R,H))},error:t[i+1],complete:t[i+2]},v_(r._query)}const x=Xu(m);return dN(x,p,o,h)}function Wu(r,t){const s=Xu(r);return mN(s,t)}function jN(r,t,s){const i=s.docs.get(t._key),o=new xm(r);return new Ir(r,o,t._key,i,new io(s.hasPendingWrites,s.fromCache),t.converter)}function S_(r){return r=as(r,Za),Xu(r),new RN(r,(t=>Wu(r,t)))}(function(t,s=!0){mT(Ux),mo(new Ui("firestore",((i,{instanceIdentifier:o,options:h})=>{const m=i.getProvider("app").getImmediate(),p=new Za(new yT(i.getProvider("auth-internal")),new _T(m,i.getProvider("app-check-internal")),UT(m,o),m);return h={useFetchStreams:s,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),Pa(fx,mx,t),Pa(fx,mx,"esm2020")})();var CN="firebase",DN="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pa(CN,DN,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="firebasestorage.googleapis.com",R_="storageBucket",IN=120*1e3,VN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt extends Br{constructor(t,s,i=0){super(gf(t),`Firebase Storage: ${s} (${gf(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return gf(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ft;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ft||(ft={}));function gf(r){return"storage/"+r}function Am(){const r="An unknown error occurred, please check the error payload for server response.";return new mt(ft.UNKNOWN,r)}function ON(r){return new mt(ft.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function MN(r){return new mt(ft.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function UN(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(ft.UNAUTHENTICATED,r)}function LN(){return new mt(ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zN(r){return new mt(ft.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function BN(){return new mt(ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function PN(){return new mt(ft.CANCELED,"User canceled the upload/download.")}function qN(r){return new mt(ft.INVALID_URL,"Invalid URL '"+r+"'.")}function HN(r){return new mt(ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function FN(){return new mt(ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+R_+"' property when initializing the app?")}function GN(){return new mt(ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function QN(){return new mt(ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function YN(r){return new mt(ft.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Bf(r){return new mt(ft.INVALID_ARGUMENT,r)}function j_(){return new mt(ft.APP_DELETED,"The Firebase app was deleted.")}function KN(r){return new mt(ft.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fo(r,t){return new mt(ft.INVALID_FORMAT,"String does not match format '"+r+"': "+t)}function to(r){throw new mt(ft.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t,s){this.bucket=t,this.path_=s}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,s){let i;try{i=kn.makeFromUrl(t,s)}catch{return new kn(t,"")}if(i.path==="")return i;throw HN(t)}static makeFromUrl(t,s){let i=null;const o="([A-Za-z0-9.\\-_]+)";function h(de){de.path.charAt(de.path.length-1)==="/"&&(de.path_=de.path_.slice(0,-1))}const m="(/(.*))?$",p=new RegExp("^gs://"+o+m,"i"),x={bucket:1,path:3};function b(de){de.path_=decodeURIComponent(de.path)}const v="v[A-Za-z0-9_]+",T=s.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",L=new RegExp(`^https?://${T}/${v}/b/${o}/o${R}`,"i"),H={bucket:1,path:3},ee=s===k_?"(?:storage.googleapis.com|storage.cloud.google.com)":s,J="([^?#]*)",ce=new RegExp(`^https?://${ee}/${o}/${J}`,"i"),ae=[{regex:p,indices:x,postModify:h},{regex:L,indices:H,postModify:b},{regex:ce,indices:{bucket:1,path:2},postModify:b}];for(let de=0;de<ae.length;de++){const ve=ae[de],be=ve.regex.exec(t);if(be){const N=be[ve.indices.bucket];let A=be[ve.indices.path];A||(A=""),i=new kn(N,A),ve.postModify(i);break}}if(i==null)throw qN(t);return i}}class XN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(r,t,s){let i=1,o=null,h=null,m=!1,p=0;function x(){return p===2}let b=!1;function v(...J){b||(b=!0,t.apply(null,J))}function T(J){o=setTimeout(()=>{o=null,r(L,x())},J)}function R(){h&&clearTimeout(h)}function L(J,...ce){if(b){R();return}if(J){R(),v.call(null,J,...ce);return}if(x()||m){R(),v.call(null,J,...ce);return}i<64&&(i*=2);let ae;p===1?(p=2,ae=0):ae=(i+Math.random())*1e3,T(ae)}let H=!1;function ee(J){H||(H=!0,R(),!b&&(o!==null?(J||(p=2),clearTimeout(o),T(0)):J||(p=1)))}return T(0),h=setTimeout(()=>{m=!0,ee(!0)},s),ee}function ZN(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(r){return r!==void 0}function WN(r){return typeof r=="object"&&!Array.isArray(r)}function Sm(r){return typeof r=="string"||r instanceof String}function xx(r){return km()&&r instanceof Blob}function km(){return typeof Blob<"u"}function bx(r,t,s,i){if(i<t)throw Bf(`Invalid value for '${r}'. Expected ${t} or greater.`);if(i>s)throw Bf(`Invalid value for '${r}'. Expected ${s} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(r,t,s){let i=t;return s==null&&(i=`https://${t}`),`${s}://${i}/v0${r}`}function C_(r){const t=encodeURIComponent;let s="?";for(const i in r)if(r.hasOwnProperty(i)){const o=t(i)+"="+t(r[i]);s=s+o+"&"}return s=s.slice(0,-1),s}var Or;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Or||(Or={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(r,t){const s=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,h=t.indexOf(r)!==-1;return s||o||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,s,i,o,h,m,p,x,b,v,T,R=!0,L=!1){this.url_=t,this.method_=s,this.headers_=i,this.body_=o,this.successCodes_=h,this.additionalRetryCodes_=m,this.callback_=p,this.errorCallback_=x,this.timeout_=b,this.progressCallback_=v,this.connectionFactory_=T,this.retry=R,this.isUsingEmulator=L,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,ee)=>{this.resolve_=H,this.reject_=ee,this.start_()})}start_(){const t=(i,o)=>{if(o){i(!1,new uu(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const m=p=>{const x=p.loaded,b=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(x,b)};this.progressCallback_!==null&&h.addUploadProgressListener(m),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(m),this.pendingConnection_=null;const p=h.getErrorCode()===Or.NO_ERROR,x=h.getStatus();if(!p||eA(x,this.additionalRetryCodes_)&&this.retry){const v=h.getErrorCode()===Or.ABORT;i(!1,new uu(!1,null,v));return}const b=this.successCodes_.indexOf(x)!==-1;i(!0,new uu(b,h))})},s=(i,o)=>{const h=this.resolve_,m=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const x=this.callback_(p,p.getResponse());JN(x)?h(x):h()}catch(x){m(x)}else if(p!==null){const x=Am();x.serverResponse=p.getErrorText(),this.errorCallback_?m(this.errorCallback_(p,x)):m(x)}else if(o.canceled){const x=this.appDelete_?j_():PN();m(x)}else{const x=BN();m(x)}};this.canceled_?s(!1,new uu(!1,null,!0)):this.backoffId_=$N(t,s,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&ZN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uu{constructor(t,s,i){this.wasSuccessCode=t,this.connection=s,this.canceled=!!i}}function nA(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function sA(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function aA(r,t){t&&(r["X-Firebase-GMPID"]=t)}function rA(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function iA(r,t,s,i,o,h,m=!0,p=!1){const x=C_(r.urlParams),b=r.url+x,v=Object.assign({},r.headers);return aA(v,t),nA(v,s),sA(v,h),rA(v,i),new tA(b,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,m,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function oA(...r){const t=lA();if(t!==void 0){const s=new t;for(let i=0;i<r.length;i++)s.append(r[i]);return s.getBlob()}else{if(km())return new Blob(r);throw new mt(ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function cA(r,t,s){return r.webkitSlice?r.webkitSlice(t,s):r.mozSlice?r.mozSlice(t,s):r.slice?r.slice(t,s):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(r){if(typeof atob>"u")throw YN("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pf{constructor(t,s){this.data=t,this.contentType=s||null}}function hA(r,t){switch(r){case Rs.RAW:return new pf(D_(t));case Rs.BASE64:case Rs.BASE64URL:return new pf(I_(r,t));case Rs.DATA_URL:return new pf(fA(t),mA(t))}throw Am()}function D_(r){const t=[];for(let s=0;s<r.length;s++){let i=r.charCodeAt(s);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(s<r.length-1&&(r.charCodeAt(s+1)&64512)===56320))t.push(239,191,189);else{const h=i,m=r.charCodeAt(++s);i=65536|(h&1023)<<10|m&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function dA(r){let t;try{t=decodeURIComponent(r)}catch{throw fo(Rs.DATA_URL,"Malformed data URL.")}return D_(t)}function I_(r,t){switch(r){case Rs.BASE64:{const o=t.indexOf("-")!==-1,h=t.indexOf("_")!==-1;if(o||h)throw fo(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Rs.BASE64URL:{const o=t.indexOf("+")!==-1,h=t.indexOf("/")!==-1;if(o||h)throw fo(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let s;try{s=uA(t)}catch(o){throw o.message.includes("polyfill")?o:fo(r,"Invalid character found")}const i=new Uint8Array(s.length);for(let o=0;o<s.length;o++)i[o]=s.charCodeAt(o);return i}class V_{constructor(t){this.base64=!1,this.contentType=null;const s=t.match(/^data:([^,]+)?,/);if(s===null)throw fo(Rs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=s[1]||null;i!=null&&(this.base64=gA(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function fA(r){const t=new V_(r);return t.base64?I_(Rs.BASE64,t.rest):dA(t.rest)}function mA(r){return new V_(r).contentType}function gA(r,t){return r.length>=t.length?r.substring(r.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,s){let i=0,o="";xx(t)?(this.data_=t,i=t.size,o=t.type):t instanceof ArrayBuffer?(s?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(s?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,s){if(xx(this.data_)){const i=this.data_,o=cA(i,t,s);return o===null?null:new Ua(o)}else{const i=new Uint8Array(this.data_.buffer,t,s-t);return new Ua(i,!0)}}static getBlob(...t){if(km()){const s=t.map(i=>i instanceof Ua?i.data_:i);return new Ua(oA.apply(null,s))}else{const s=t.map(m=>Sm(m)?hA(Rs.RAW,m).data:m.data_);let i=0;s.forEach(m=>{i+=m.byteLength});const o=new Uint8Array(i);let h=0;return s.forEach(m=>{for(let p=0;p<m.length;p++)o[h++]=m[p]}),new Ua(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(r){let t;try{t=JSON.parse(r)}catch{return null}return WN(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function yA(r,t){const s=t.split("/").filter(i=>i.length>0).join("/");return r.length===0?s:r+"/"+s}function M_(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(r,t){return t}class rn{constructor(t,s,i,o){this.server=t,this.local=s||t,this.writable=!!i,this.xform=o||xA}}let hu=null;function bA(r){return!Sm(r)||r.length<2?r:M_(r)}function U_(){if(hu)return hu;const r=[];r.push(new rn("bucket")),r.push(new rn("generation")),r.push(new rn("metageneration")),r.push(new rn("name","fullPath",!0));function t(h,m){return bA(m)}const s=new rn("name");s.xform=t,r.push(s);function i(h,m){return m!==void 0?Number(m):m}const o=new rn("size");return o.xform=i,r.push(o),r.push(new rn("timeCreated")),r.push(new rn("updated")),r.push(new rn("md5Hash",null,!0)),r.push(new rn("cacheControl",null,!0)),r.push(new rn("contentDisposition",null,!0)),r.push(new rn("contentEncoding",null,!0)),r.push(new rn("contentLanguage",null,!0)),r.push(new rn("contentType",null,!0)),r.push(new rn("metadata","customMetadata",!0)),hu=r,hu}function _A(r,t){function s(){const i=r.bucket,o=r.fullPath,h=new kn(i,o);return t._makeStorageReference(h)}Object.defineProperty(r,"ref",{get:s})}function vA(r,t,s){const i={};i.type="file";const o=s.length;for(let h=0;h<o;h++){const m=s[h];i[m.local]=m.xform(i,t[m.server])}return _A(i,r),i}function L_(r,t,s){const i=O_(t);return i===null?null:vA(r,i,s)}function EA(r,t,s,i){const o=O_(t);if(o===null||!Sm(o.downloadTokens))return null;const h=o.downloadTokens;if(h.length===0)return null;const m=encodeURIComponent;return h.split(",").map(b=>{const v=r.bucket,T=r.fullPath,R="/b/"+m(v)+"/o/"+m(T),L=Rm(R,s,i),H=C_({alt:"media",token:b});return L+H})[0]}function TA(r,t){const s={},i=t.length;for(let o=0;o<i;o++){const h=t[o];h.writable&&(s[h.server]=r[h.local])}return JSON.stringify(s)}class z_{constructor(t,s,i,o){this.url=t,this.method=s,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(r){if(!r)throw Am()}function wA(r,t){function s(i,o){const h=L_(r,o,t);return B_(h!==null),h}return s}function NA(r,t){function s(i,o){const h=L_(r,o,t);return B_(h!==null),EA(h,o,r.host,r._protocol)}return s}function P_(r){function t(s,i){let o;return s.getStatus()===401?s.getErrorText().includes("Firebase App Check token is invalid")?o=LN():o=UN():s.getStatus()===402?o=MN(r.bucket):s.getStatus()===403?o=zN(r.path):o=i,o.status=s.getStatus(),o.serverResponse=i.serverResponse,o}return t}function AA(r){const t=P_(r);function s(i,o){let h=t(i,o);return i.getStatus()===404&&(h=ON(r.path)),h.serverResponse=o.serverResponse,h}return s}function SA(r,t,s){const i=t.fullServerUrl(),o=Rm(i,r.host,r._protocol),h="GET",m=r.maxOperationRetryTime,p=new z_(o,h,NA(r,s),m);return p.errorHandler=AA(t),p}function kA(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}function RA(r,t,s){const i=Object.assign({},s);return i.fullPath=r.path,i.size=t.size(),i.contentType||(i.contentType=kA(null,t)),i}function jA(r,t,s,i,o){const h=t.bucketOnlyServerUrl(),m={"X-Goog-Upload-Protocol":"multipart"};function p(){let ae="";for(let de=0;de<2;de++)ae=ae+Math.random().toString().slice(2);return ae}const x=p();m["Content-Type"]="multipart/related; boundary="+x;const b=RA(t,i,o),v=TA(b,s),T="--"+x+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+x+`\r
Content-Type: `+b.contentType+`\r
\r
`,R=`\r
--`+x+"--",L=Ua.getBlob(T,i,R);if(L===null)throw GN();const H={name:b.fullPath},ee=Rm(h,r.host,r._protocol),J="POST",ce=r.maxUploadRetryTime,ue=new z_(ee,J,wA(r,s),ce);return ue.urlParams=H,ue.headers=m,ue.body=L.uploadData(),ue.errorHandler=P_(t),ue}class CA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Or.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Or.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Or.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,s,i,o,h){if(this.sent_)throw to("cannot .send() more than once");if(To(t)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(s,t,!0),h!==void 0)for(const m in h)h.hasOwnProperty(m)&&this.xhr_.setRequestHeader(m,h[m].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw to("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw to("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw to("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw to("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class DA extends CA{initXhr(){this.xhr_.responseType="text"}}function q_(){return new DA}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t,s){this._service=t,s instanceof kn?this._location=s:this._location=kn.makeFromUrl(s,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,s){return new zr(t,s)}get root(){const t=new kn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return M_(this._location.path)}get storage(){return this._service}get parent(){const t=pA(this._location.path);if(t===null)return null;const s=new kn(this._location.bucket,t);return new zr(this._service,s)}_throwIfRoot(t){if(this._location.path==="")throw KN(t)}}function IA(r,t,s){r._throwIfRoot("uploadBytes");const i=jA(r.storage,r._location,U_(),new Ua(t,!0),s);return r.storage.makeRequestWithTokens(i,q_).then(o=>({metadata:o,ref:r}))}function VA(r){r._throwIfRoot("getDownloadURL");const t=SA(r.storage,r._location,U_());return r.storage.makeRequestWithTokens(t,q_).then(s=>{if(s===null)throw QN();return s})}function OA(r,t){const s=yA(r._location.path,t),i=new kn(r._location.bucket,s);return new zr(r.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(r){return/^[A-Za-z]+:\/\//.test(r)}function UA(r,t){return new zr(r,t)}function H_(r,t){if(r instanceof jm){const s=r;if(s._bucket==null)throw FN();const i=new zr(s,s._bucket);return t!=null?H_(i,t):i}else return t!==void 0?OA(r,t):r}function LA(r,t){if(t&&MA(t)){if(r instanceof jm)return UA(r,t);throw Bf("To use ref(service, url), the first argument must be a Storage instance.")}else return H_(r,t)}function _x(r,t){const s=t==null?void 0:t[R_];return s==null?null:kn.makeFromBucketSpec(s,r)}function zA(r,t,s,i={}){r.host=`${t}:${s}`;const o=To(t);o&&(kx(`https://${r.host}/b`),jx("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:h}=i;h&&(r._overrideAuthToken=typeof h=="string"?h:Rx(h,r.app.options.projectId))}class jm{constructor(t,s,i,o,h,m=!1){this.app=t,this._authProvider=s,this._appCheckProvider=i,this._url=o,this._firebaseVersion=h,this._isUsingEmulator=m,this._bucket=null,this._host=k_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=IN,this._maxUploadRetryTime=VN,this._requests=new Set,o!=null?this._bucket=kn.makeFromBucketSpec(o,this._host):this._bucket=_x(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=kn.makeFromBucketSpec(this._url,t):this._bucket=_x(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){bx("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){bx("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const s=await t.getToken();if(s!==null)return s.accessToken}return null}async _getAppCheckToken(){if(Mx(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new zr(this,t)}_makeRequest(t,s,i,o,h=!0){if(this._deleted)return new XN(j_());{const m=iA(t,this._appId,i,o,s,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(m),m.getPromise().then(()=>this._requests.delete(m),()=>this._requests.delete(m)),m}}async makeRequestWithTokens(t,s){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,s,i,o).getPromise()}}const vx="@firebase/storage",Ex="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="storage";function G_(r,t,s){return r=tn(r),IA(r,t,s)}function Q_(r){return r=tn(r),VA(r)}function Y_(r,t){return r=tn(r),LA(r,t)}function BA(r=zx(),t){r=tn(r);const i=Ox(r,F_).getImmediate({identifier:t}),o=Ax("storage");return o&&PA(i,...o),i}function PA(r,t,s,i={}){zA(r,t,s,i)}function qA(r,{instanceIdentifier:t}){const s=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new jm(s,i,o,t,Ux)}function HA(){mo(new Ui(F_,qA,"PUBLIC").setMultipleInstances(!0)),Pa(vx,Ex,""),Pa(vx,Ex,"esm2020")}HA();const FA={apiKey:"AIzaSyBGQnhjezXc6thn_qDMvPT8sVBVcnWkS8M",authDomain:"timecard-a403b.firebaseapp.com",projectId:"timecard-a403b",storageBucket:"timecard-a403b.firebasestorage.app",messagingSenderId:"756260790114",appId:"1:756260790114:web:1c5647e581b8cbe0c8d63b",measurementId:"G-7DN5JFHH9W"},K_=Lx(FA),Bt=xN(K_),X_=BA(K_),GA=({currentView:r,onViewChange:t})=>{const s=i=>`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors cursor-pointer ${i?"bg-primary/10 text-primary font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-slate-100"}`;return d.jsxs("aside",{className:"w-64 bg-white dark:bg-surface-dark border-r border-slate-200 dark:border-slate-800 flex flex-col flex-shrink-0 z-20",children:[d.jsx("div",{className:"h-16 flex items-center px-6 border-b border-slate-200 dark:border-slate-800",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 rounded bg-primary flex items-center justify-center text-white",children:d.jsx("span",{className:"material-icons text-xl",children:"shield"})}),d.jsx("span",{className:"font-bold text-lg tracking-tight",children:"26 /"})]})}),d.jsxs("nav",{className:"flex-1 overflow-y-auto py-6 px-3 space-y-1",children:[d.jsxs("div",{className:s(r==="dashboard"),onClick:()=>t("dashboard"),children:[d.jsx("span",{className:"material-icons text-[20px]",children:"dashboard"}),d.jsx("span",{children:""})]}),d.jsxs("div",{className:s(r==="dailylog"),onClick:()=>t("dailylog"),children:[d.jsx("span",{className:"material-icons text-[20px]",children:"assignment"}),d.jsx("span",{children:" "})]}),d.jsxs("div",{className:s(r==="schedule"),onClick:()=>t("schedule"),children:[d.jsx("span",{className:"material-icons text-[20px]",children:"calendar_month"}),d.jsx("span",{children:" "})]}),d.jsxs("div",{className:s(r==="employees"),onClick:()=>t("employees"),children:[d.jsx("span",{className:"material-icons text-[20px]",children:"people"}),d.jsx("span",{children:" "})]}),d.jsxs("div",{className:s(r==="reports"),onClick:()=>t("reports"),children:[d.jsx("span",{className:"material-icons text-[20px]",children:"assessment"}),d.jsx("span",{children:" "})]}),d.jsx("div",{className:"pt-6 pb-2 px-3 text-xs font-semibold text-slate-400 dark:text-slate-500 uppercase tracking-wider",children:""}),d.jsxs("div",{className:s(r==="settings"),onClick:()=>t("settings"),children:[d.jsx("span",{className:"material-icons text-[20px]",children:"settings"}),d.jsx("span",{children:" "})]}),d.jsxs("div",{className:s(r==="notifications"),onClick:()=>t("notifications"),children:[d.jsx("span",{className:"material-icons text-[20px]",children:"notifications"}),d.jsx("span",{children:""})]})]}),d.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{className:"w-10 h-10 rounded-full object-cover border border-slate-200 dark:border-slate-700",src:"https://picsum.photos/100/100?random=admin",alt:"Admin user"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white truncate",children:" "}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:" "})]}),d.jsx("button",{className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:d.jsx("span",{className:"material-icons text-[20px]",children:"logout"})})]})})]})},QA=({employees:r,onNavigateToHandover:t})=>{const[s,i]=xe.useState(null),[o,h]=xe.useState(null),[m,p]=xe.useState("confirm"),[x,b]=xe.useState(null),[v,T]=xe.useState(""),[R,L]=xe.useState("idle"),[H,ee]=xe.useState(new Date(2026,1,1)),[J,ce]=xe.useState([]),[ue,ae]=xe.useState([]),[de,ve]=xe.useState({});xe.useEffect(()=>{const k=Mi(Hn(Bt,"work_schedules"),G=>{const te=G.docs.map(ne=>({id:ne.id,...ne.data()}));ce(te)});return()=>k()},[]),xe.useEffect(()=>{const k=Iu(Hn(Bt,"activity_logs"),wm("timestamp","desc"),SN(5)),G=Mi(k,te=>{const ne=te.docs.map(fe=>{const me=fe.data();let Ne=me.time||"";if(me.timestamp&&me.timestamp.toDate){const Me=me.timestamp.toDate(),Ue=Me.getMonth()+1,Pt=Me.getDate();let it=Me.getHours();const yn=String(Me.getMinutes()).padStart(2,"0"),Gn=it>=12?"PM":"AM";it=it%12,it=it||12,Ne=`${Ue} ${Pt} ${String(it).padStart(2,"0")}:${yn} ${Gn}`}return{id:fe.id,...me,time:Ne}});ae(ne)});return()=>G()},[]),xe.useEffect(()=>{const k=Iu(Hn(Bt,"attendance_records")),G=Mi(k,te=>{const ne={},fe=`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}`;te.docs.forEach(Ne=>{const Me=Ne.data();if(Me.date&&Me.date.startsWith(fe)){let Ue=0;if(Me.totalHours){const it=Me.totalHours.match(/(\d+)h/),yn=Me.totalHours.match(/(\d+)m/);it&&(Ue+=parseInt(it[1])*60),yn&&(Ue+=parseInt(yn[1]))}const Pt=Me.employeeName;Pt&&(ne[Pt]=(ne[Pt]||0)+Ue)}});const me={};Object.keys(ne).forEach(Ne=>{me[Ne]=Math.round(ne[Ne]/60)}),ve(me)});return()=>G()},[H]),xe.useEffect(()=>{(async()=>{const G=S_(Bt);let te=!1;const ne=Hn(Bt,"work_schedules");if((await Vu(ne)).empty){console.log("Seeding work schedules...");const Me=2026,Ue=1,Pt=new Date(Me,Ue+1,0).getDate();for(let it=1;it<=Pt;it++){const yn=`${Me}-${String(Ue+1).padStart(2,"0")}-${String(it).padStart(2,"0")}`,Gn=it%2===0,Rn={date:yn,team:Gn?"A":"B",workerName:Gn?"":"",status:it<14?"Completed":it===14?"InProgress":"Scheduled"},er=Ws(ne);G.set(er,Rn)}te=!0}const me=Hn(Bt,"activity_logs");(await Vu(me)).empty&&(console.log("Seeding activity logs..."),[{user:"",action:"",timestamp:Qe.fromDate(new Date(2026,1,14,7,22)),type:"login"},{user:"",action:"",timestamp:Qe.fromDate(new Date(2026,1,14,7,35)),type:"logout"},{user:"",action:" ",timestamp:Qe.fromDate(new Date(2026,1,13,14,30)),type:"edit"},{user:"",action:"",timestamp:Qe.fromDate(new Date(2026,1,12,7,25)),type:"login"},{user:"",action:"",timestamp:Qe.fromDate(new Date(2026,1,12,7,40)),type:"logout"}].forEach(Ue=>{const Pt=Ws(me);G.set(Pt,Ue)}),te=!0),te&&await G.commit()})()},[]);const be=()=>{ee(new Date(H.getFullYear(),H.getMonth()-1,1))},N=()=>{ee(new Date(H.getFullYear(),H.getMonth()+1,1))},A=H.getFullYear(),S=H.getMonth(),V=new Date(A,S+1,0).getDate(),I=new Date(A,S,1).getDay(),M=new Date(A,S,0).getDate(),j=I+V,Ke=j>35?6:5,ct=Ke*7-j,D=new Date(2026,1,14),W=k=>{h(k),p("confirm")},le=()=>{p("sending"),setTimeout(()=>{p("success"),setTimeout(()=>{h(null)},1500)},1500)},Re=k=>{b(k),T(""),L("idle")},ze=()=>{v.trim()&&(L("sending"),setTimeout(()=>{L("success"),setTimeout(()=>{b(null)},1500)},1500))};return d.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark relative",children:[d.jsxs("header",{className:"bg-white dark:bg-surface-dark border-b border-slate-200 dark:border-slate-800 h-16 flex items-center justify-between px-6 lg:px-8 flex-shrink-0",children:[d.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"    "}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 bg-slate-800 dark:bg-slate-700 hover:bg-slate-700 dark:hover:bg-slate-600 text-white rounded-lg text-sm font-medium transition-colors shadow-lg shadow-slate-900/10 border border-slate-700 dark:border-slate-600",children:[d.jsx("span",{className:"material-icons text-[18px]",children:"swap_horiz"}),d.jsx("span",{children:" "})]}),d.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-hover text-white rounded-lg text-sm font-medium transition-colors shadow-lg shadow-primary/20",children:[d.jsx("span",{className:"material-icons text-[18px]",children:"add"}),d.jsx("span",{children:"  "})]}),d.jsx("div",{className:"h-8 w-px bg-slate-200 dark:bg-slate-700 mx-2"}),d.jsxs("div",{className:"flex items-center text-sm text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-800/50 px-3 py-1.5 rounded-md",children:[d.jsx("span",{className:"material-icons text-[18px] mr-2",children:"today"}),d.jsx("span",{children:"2026 2 14 ()"})]})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 lg:p-8 space-y-8",children:[d.jsx("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(k=>{const G=de[k.name]||0;return d.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-6 border border-slate-200 dark:border-slate-700 shadow-sm relative overflow-hidden group",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4",children:d.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold border ${k.status==="On-Duty"?"bg-green-500/10 text-green-500 border-green-500/20":"bg-slate-500/10 text-slate-500 dark:text-slate-400 border-slate-500/20"}`,children:[d.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${k.status==="On-Duty"?"bg-green-500 animate-pulse":"bg-slate-500"}`}),k.status==="On-Duty"?" (On-Duty)":" (Off-Duty)"]})}),d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{className:`w-16 h-16 rounded-lg object-cover ring-2 ${k.status==="On-Duty"?"ring-primary/20":"ring-slate-500/20 grayscale opacity-80"}`,src:k.avatarUrl,alt:k.name}),d.jsx("span",{className:"absolute -bottom-2 -right-2 w-6 h-6 bg-slate-800 rounded-full flex items-center justify-center text-xs font-bold text-white ring-2 ring-surface-dark",children:k.team})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:k.name}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:k.role}),d.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-500 text-xs mb-0.5",children:"  "}),d.jsxs("p",{className:"font-semibold text-slate-900 dark:text-slate-200 text-lg",children:[G," ",d.jsx("span",{className:"text-xs font-normal text-slate-500",children:""})]})]}),d.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-500 text-xs mb-0.5",children:k.timeLabel}),d.jsx("p",{className:`font-semibold ${k.status==="On-Duty"?"text-slate-900 dark:text-slate-200":"text-primary"}`,children:k.timeInfo})]})]})]})]}),d.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-100 dark:border-slate-800 grid grid-cols-2 gap-4",children:[d.jsx("button",{onClick:()=>i(k),className:"w-full py-2 px-4 rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300 text-sm font-medium transition-colors",children:" "}),k.status==="On-Duty"?d.jsx("button",{onClick:()=>W(k),className:"w-full py-2 px-4 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-600 dark:text-red-400 border border-red-500/20 text-sm font-medium transition-colors",children:" "}):d.jsx("button",{onClick:()=>Re(k),className:"w-full py-2 px-4 rounded-lg bg-primary/10 hover:bg-primary/20 text-primary border border-primary/20 text-sm font-medium transition-colors",children:" "})]})]},k.id)})}),d.jsxs("section",{className:"flex flex-col xl:flex-row gap-6 h-full min-h-[600px]",children:[d.jsxs("div",{className:"flex-1 bg-white dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:[S+1,"   (",A,")"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:be,className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:d.jsx("span",{className:"material-icons text-slate-500 text-xl",children:"chevron_left"})}),d.jsxs("span",{className:"text-sm font-medium px-2 text-slate-700 dark:text-slate-300",children:[A," ",S+1,""]}),d.jsx("button",{onClick:N,className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:d.jsx("span",{className:"material-icons text-slate-500 text-xl",children:"chevron_right"})})]})]}),d.jsx("div",{className:"grid grid-cols-7 border-b border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50",children:["","","","","","",""].map((k,G)=>d.jsx("div",{className:`py-3 text-center text-xs font-semibold uppercase ${G===0?"text-red-500":G===6?"text-blue-500":"text-slate-500"}`,children:k},k))}),d.jsxs("div",{className:`flex-1 grid grid-cols-7 ${Ke===6?"grid-rows-6":"grid-rows-5"} text-sm`,children:[Array.from({length:I}).map((k,G)=>{const te=M-I+1+G;return d.jsx("div",{className:"p-2 border-b border-r border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/30 text-slate-400 dark:text-slate-600",children:d.jsx("span",{className:"block mb-2",children:te})},`prev-${te}`)}),Array.from({length:V},(k,G)=>G+1).map(k=>{const G=`${A}-${String(S+1).padStart(2,"0")}-${String(k).padStart(2,"0")}`,te=J.find(me=>me.date===G),ne=A===D.getFullYear()&&S===D.getMonth()&&k===D.getDate(),fe=(te==null?void 0:te.team)==="A";return d.jsxs("div",{className:`p-2 border-b border-r dark:border-slate-800 relative group transition-colors ${ne?"border-primary/30 dark:border-primary/50 bg-primary/5 dark:bg-primary/10":"border-slate-100 hover:bg-slate-50 dark:hover:bg-slate-800/30"}`,children:[d.jsx("span",{className:`block mb-1 font-medium ${ne?"font-bold text-primary":"text-slate-700 dark:text-slate-300"}`,children:k}),te?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:`${fe?"bg-primary/20 border-l-2 border-primary text-primary-dark dark:text-primary":"bg-purple-500/20 border-l-2 border-purple-500 text-purple-700 dark:text-purple-300"} ${ne&&fe?"bg-primary border-white text-white shadow-md":""} rounded-r px-1.5 py-1 text-xs mb-1 truncate`,children:[d.jsxs("span",{className:"font-bold",children:[te.team,""]})," ",te.workerName,ne&&(fe?" ()":" ()")]}),ne&&!fe&&d.jsxs("div",{className:"bg-primary/10 border-l-2 border-primary/50 text-primary-dark/50 dark:text-primary/50 rounded-r px-1.5 py-1 text-xs mb-1 opacity-50",children:[d.jsx("span",{className:"font-bold",children:"A"}),"  ()"]}),ne&&fe&&d.jsxs("div",{className:"bg-purple-500/10 border-l-2 border-purple-500/50 text-purple-700 dark:text-purple-300/50 rounded-r px-1.5 py-1 text-xs mb-1 opacity-50",children:[d.jsx("span",{className:"font-bold",children:"B"}),"  ()"]})]}):d.jsx("div",{className:"h-4"})]},`curr-${k}`)}),Array.from({length:ct},(k,G)=>G+1).map(k=>d.jsx("div",{className:"p-2 border-b border-r border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/30 text-slate-400 dark:text-slate-600",children:d.jsx("span",{className:"block mb-2",children:k})},`next-${k}`))]})]}),d.jsxs("div",{className:"w-full xl:w-80 flex flex-col gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-5 border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wide mb-4",children:"  ( )"}),d.jsx("div",{className:"space-y-4",children:r.map(k=>{const G=de[k.name]||0;return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[d.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:k.name}),d.jsxs("span",{className:"text-slate-500",children:[G,"/",k.totalHours,"h"]})]}),d.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${k.team==="A"?"bg-primary":"bg-purple-500"}`,style:{width:`${Math.min(100,G/k.totalHours*100)}%`}})})]},k.id)})})]}),d.jsxs("div",{className:"flex-1 bg-white dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[d.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"  "}),d.jsx("button",{className:"text-xs text-primary hover:text-primary-dark font-medium",children:""})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-0",children:ue.length===0?d.jsx("div",{className:"p-8 text-center text-slate-500 text-sm",children:d.jsx("p",{children:"   ."})}):d.jsx("ul",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:ue.map(k=>d.jsx("li",{className:"p-4 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${k.type==="login"?"bg-green-500/10 text-green-500":k.type==="logout"?"bg-slate-100 dark:bg-slate-700 text-slate-500":"bg-blue-500/10 text-blue-500"}`,children:d.jsx("span",{className:"material-icons text-sm",children:k.type==="login"?"login":k.type==="logout"?"logout":"edit_note"})})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("p",{className:"text-sm font-medium text-slate-900 dark:text-white truncate",children:[k.user," - ",k.action]}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:k.time})]})]})},k.id))})}),d.jsx("div",{className:"p-3 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/30",children:d.jsxs("button",{className:"w-full py-2 flex items-center justify-center gap-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-primary dark:hover:text-primary transition-colors",children:[d.jsx("span",{className:"material-icons text-base",children:"download"}),"  "]})})]})]})]})]}),s&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:d.jsxs("div",{className:"bg-white dark:bg-surface-dark w-full max-w-lg rounded-xl shadow-2xl overflow-hidden animate-fade-in border border-slate-200 dark:border-slate-700 relative",children:[d.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800/50",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"  "}),d.jsx("button",{onClick:()=>i(null),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:d.jsx("span",{className:"material-icons",children:"close"})})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("img",{src:s.avatarUrl,className:"w-16 h-16 rounded-full border-2 border-white dark:border-slate-600 shadow-sm object-cover",alt:s.name}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-xl font-bold text-slate-900 dark:text-white",children:s.name}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:s.role}),d.jsxs("div",{className:"flex gap-2 mt-2",children:[d.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 font-medium border border-slate-200 dark:border-slate-600",children:[s.team," (24)"]}),d.jsx("span",{className:`text-xs px-2 py-1 rounded font-medium border ${s.status==="On-Duty"?"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 border-green-200 dark:border-green-800":"bg-slate-50 dark:bg-slate-800 text-slate-500 dark:text-slate-400 border-slate-200 dark:border-slate-700"}`,children:s.status})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:""}),d.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:s.phone})]}),d.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:""}),d.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white truncate",children:s.email})]})]}),d.jsxs("div",{children:[d.jsxs("h5",{className:"text-sm font-bold text-slate-900 dark:text-white mb-3 flex items-center gap-2",children:[d.jsx("span",{className:"material-icons text-primary text-sm",children:"history"})," 3  "]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center text-sm p-3 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 border border-slate-100 dark:border-slate-700 transition-colors",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"2026.02.14 ()"}),d.jsx("span",{className:"font-mono text-slate-900 dark:text-white bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded text-xs",children:s.shift==="A"?"07:22 - ()":" (Off)"})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm p-3 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 border border-slate-100 dark:border-slate-700 transition-colors",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"2026.02.12 ()"}),d.jsx("span",{className:"font-mono text-slate-900 dark:text-white bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded text-xs",children:s.shift==="A"?"07:25 - 07:40 (24h)":" (Off)"})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm p-3 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 border border-slate-100 dark:border-slate-700 transition-colors",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"2026.02.10 ()"}),d.jsx("span",{className:"font-mono text-slate-900 dark:text-white bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded text-xs",children:s.shift==="A"?"07:20 - 07:35 (24h)":" (Off)"})]})]})]})]}),d.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-100 dark:border-slate-700 flex gap-3",children:[d.jsx("button",{className:"flex-1 py-2.5 rounded-lg bg-primary text-white font-medium text-sm hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20",children:"  "}),d.jsx("button",{className:"flex-1 py-2.5 rounded-lg border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200 font-medium text-sm hover:bg-white dark:hover:bg-slate-700 transition-colors",children:" "})]})]})}),o&&d.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-red-900/20 backdrop-blur-sm p-4",children:d.jsxs("div",{className:"bg-white dark:bg-surface-dark w-full max-w-md rounded-xl shadow-2xl overflow-hidden animate-fade-in border border-red-200 dark:border-red-900 relative",children:[m==="confirm"&&d.jsx(d.Fragment,{children:d.jsxs("div",{className:"p-6 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:d.jsx("span",{className:"material-icons text-3xl text-red-600 dark:text-red-500",children:"notifications_active"})}),d.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"  "}),d.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:["   ",d.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:o.name}),"",d.jsx("br",{}),"  ?"]}),d.jsxs("div",{className:"text-left bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg mb-6 border border-slate-100 dark:border-slate-700",children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-2 uppercase",children:"  "}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"reason",className:"text-red-600 focus:ring-red-500",defaultChecked:!0}),d.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-200",children:"    "})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"reason",className:"text-red-600 focus:ring-red-500"}),d.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-200",children:"  "})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"reason",className:"text-red-600 focus:ring-red-500"}),d.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-200",children:"  "})]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>h(null),className:"flex-1 py-3 bg-white dark:bg-surface-dark border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200 rounded-lg font-bold hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:""}),d.jsxs("button",{onClick:le,className:"flex-1 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-bold shadow-lg shadow-red-500/30 transition-colors flex items-center justify-center gap-2",children:[d.jsx("span",{className:"material-icons",children:"send"}),""]})]})]})}),m==="sending"&&d.jsxs("div",{className:"p-12 text-center",children:[d.jsx("div",{className:"w-16 h-16 border-4 border-red-200 border-t-red-600 rounded-full animate-spin mx-auto mb-6"}),d.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"  ..."}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"     ."})]}),m==="success"&&d.jsxs("div",{className:"p-12 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx("span",{className:"material-icons text-3xl text-green-600 dark:text-green-500",children:"check_circle"})}),d.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:" "}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"   ."})]})]})}),x&&d.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:d.jsxs("div",{className:"bg-white dark:bg-surface-dark w-full max-w-md rounded-xl shadow-2xl overflow-hidden animate-fade-in border border-slate-200 dark:border-slate-700 relative",children:[R==="idle"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800/50",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:" "}),d.jsx("button",{onClick:()=>b(null),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:d.jsx("span",{className:"material-icons",children:"close"})})]}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[d.jsx("img",{src:x.avatarUrl,className:"w-10 h-10 rounded-full object-cover",alt:x.name}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:" "}),d.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:x.name})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:""}),d.jsx("textarea",{value:v,onChange:k=>T(k.target.value),className:"w-full h-32 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg p-3 text-sm focus:ring-2 focus:ring-primary focus:border-transparent outline-none resize-none dark:text-white placeholder-slate-400",placeholder:"  ..."})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",id:"urgent",className:"rounded text-primary focus:ring-primary"}),d.jsx("label",{htmlFor:"urgent",className:"text-sm text-slate-600 dark:text-slate-400",children:"  "})]})]})]}),d.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-100 dark:border-slate-700 flex gap-3",children:[d.jsx("button",{onClick:()=>b(null),className:"flex-1 py-2.5 rounded-lg border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200 font-medium text-sm hover:bg-white dark:hover:bg-slate-700 transition-colors",children:""}),d.jsxs("button",{onClick:ze,className:`flex-1 py-2.5 rounded-lg bg-primary text-white font-medium text-sm hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center justify-center gap-2 ${v.trim()?"":"opacity-50 cursor-not-allowed"}`,children:[d.jsx("span",{className:"material-icons text-sm",children:"send"}),""]})]})]}),R==="sending"&&d.jsxs("div",{className:"p-12 text-center",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-slate-200 border-t-primary rounded-full animate-spin mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:" ..."})]}),R==="success"&&d.jsxs("div",{className:"p-12 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce",children:d.jsx("span",{className:"material-icons text-3xl text-green-600 dark:text-green-500",children:"mark_email_read"})}),d.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:" "}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"  ."})]})]})})]})},YA=({initialTab:r="log"})=>{const[t,s]=xe.useState(r),[i,o]=xe.useState([]);xe.useEffect(()=>{s(r)},[r]);const[h,m]=xe.useState({taskType:"Pest",time:new Date().toTimeString().slice(0,5),location:"",category:" ",priority:"Normal",details:""}),[p,x]=xe.useState(""),[b,v]=xe.useState([]),[T,R]=xe.useState(!1),[L,H]=xe.useState(""),[ee,J]=xe.useState(!1),[ce,ue]=xe.useState(!1);xe.useEffect(()=>{const D=Iu(Hn(Bt,"work_logs"),wm("time","asc")),W=Mi(D,le=>{const Re=le.docs.map(ze=>({id:ze.id,...ze.data()}));o(Re)});return()=>W()},[]);const ae=[...Array.from({length:6},(D,W)=>` ${6-W} (B${6-W})`),...Array.from({length:20},(D,W)=>` ${W+1} (${W+1}F)`)],de=i.length,ve=i.filter(D=>D.status==="Pending").length,be=i.filter(D=>D.status==="Completed").length,N=i.filter(D=>D.priority==="Urgent").length,A=[{label:"  ",count:de,color:"text-slate-900 dark:text-white",icon:"list_alt",iconColor:"text-blue-500",iconBg:"bg-blue-500/10"},{label:" ",count:ve,color:"text-orange-500",icon:"hourglass_empty",iconColor:"text-orange-500",iconBg:"bg-orange-500/10"},{label:" ",count:be,color:"text-green-500",icon:"check_circle",iconColor:"text-green-500",iconBg:"bg-green-500/10"},{label:"/",count:N,color:"text-red-500",icon:"warning",iconColor:"text-red-500",iconBg:"bg-red-500/10"}],S=i.filter(D=>D.status!=="Completed"||D.priority==="Urgent"),V=D=>{b.includes(D)?v(b.filter(W=>W!==D)):v([...b,D])},I=()=>{if(b.length===0&&!p){alert("   .");return}R(!0),setTimeout(()=>{alert(" B( ) .")},500)},M=async D=>{if(D.target.files&&D.target.files[0]){const W=D.target.files[0];J(!0);try{const le=Y_(X_,`work_logs/${Date.now()}_${W.name}`);await G_(le,W);const Re=await Q_(le);H(Re)}catch(le){console.error("Upload failed",le),alert("  ")}finally{J(!1)}}},j=async D=>{if(D.preventDefault(),!h.details||!h.location){alert("   .");return}ue(!0);try{const W={time:h.time,type:h.taskType,category:h.category,details:h.details,location:h.location,priority:h.priority,status:"Pending",hasPhoto:!!L,photoUrl:L||void 0,date:"2026-02-14"};await A_(Hn(Bt,"work_logs"),W),m({taskType:"Pest",time:new Date().toTimeString().slice(0,5),location:"",category:" ",priority:"Normal",details:""}),H("")}catch(W){console.error("Error adding log: ",W),alert("     .")}finally{ue(!1)}},Ke=async(D,W)=>{try{await w_(Ws(Bt,"work_logs",D),{status:W})}catch(le){console.error("Error updating status: ",le),alert("    .")}},ct=async D=>{if(window.confirm("   ?"))try{await N_(Ws(Bt,"work_logs",D))}catch(W){console.error("Error deleting log: ",W),alert("   .")}};return d.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[d.jsxs("header",{className:"bg-white dark:bg-surface-darker border-b border-gray-200 dark:border-border-dark px-6 py-4 flex items-center justify-between sticky top-0 z-10 shadow-sm flex-shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:d.jsx("span",{className:"material-icons text-primary",children:"assignment"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold tracking-tight text-slate-900 dark:text-white",children:"    "}),d.jsx("p",{className:"text-xs text-text-secondary",children:"    v2.0"})]})]}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("div",{className:"hidden md:flex items-center gap-6 bg-background-light dark:bg-background-dark px-4 py-2 rounded-lg border border-gray-200 dark:border-border-dark",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"material-icons text-text-secondary text-sm",children:"calendar_today"}),d.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"2026-02-14 ()"})]}),d.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-border-dark"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"material-icons text-text-secondary text-sm",children:"schedule"}),d.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"A (07:30 -  07:30)"})]}),d.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-border-dark"}),d.jsx("div",{className:"flex items-center gap-3",children:d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),d.jsx("span",{className:"text-sm text-text-secondary",children:":"}),d.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:""})]})})]}),d.jsx("button",{className:"p-2 text-text-secondary hover:text-slate-900 dark:hover:text-white transition-colors",children:d.jsx("span",{className:"material-icons",children:"settings"})}),d.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center text-white font-bold cursor-pointer hover:bg-primary-hover transition-colors text-xs",children:"ADMIN"})]})]}),d.jsxs("div",{className:"px-6 pt-4 bg-background-light dark:bg-background-dark border-b border-gray-200 dark:border-border-dark flex gap-1",children:[d.jsx("button",{onClick:()=>s("log"),className:`px-4 py-2 text-sm font-semibold rounded-t-lg transition-colors border-t border-x ${t==="log"?"bg-white dark:bg-surface-darker text-primary border-gray-200 dark:border-border-dark border-b-transparent relative top-px":"text-text-secondary border-transparent hover:text-slate-900 dark:hover:text-white"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"material-icons text-sm",children:"edit_note"})," "]})}),d.jsx("button",{onClick:()=>s("handover"),className:`px-4 py-2 text-sm font-semibold rounded-t-lg transition-colors border-t border-x ${t==="handover"?"bg-white dark:bg-surface-darker text-primary border-gray-200 dark:border-border-dark border-b-transparent relative top-px":"text-text-secondary border-transparent hover:text-slate-900 dark:hover:text-white"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"material-icons text-sm",children:"swap_horiz"})," /",S.length>0&&d.jsx("span",{className:"ml-1 px-1.5 py-0.5 rounded-full bg-red-500 text-white text-[10px]",children:S.length})]})})]}),t==="log"?d.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[d.jsx("aside",{className:"w-full lg:w-[400px] xl:w-[450px] bg-white dark:bg-surface-darker border-r border-gray-200 dark:border-border-dark flex flex-col overflow-y-auto z-10 shadow-lg lg:shadow-none",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[d.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 text-slate-900 dark:text-white",children:[d.jsx("span",{className:"material-icons text-primary text-xl",children:"edit_note"}),"  "]}),d.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-500/10 text-green-500 font-medium border border-green-500/20",children:" "})]}),d.jsxs("form",{className:"space-y-6",onSubmit:j,children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"  (Task Type)"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 p-1 bg-background-light dark:bg-background-dark rounded-lg border border-gray-200 dark:border-border-dark",children:[d.jsxs("label",{className:"cursor-pointer",children:[d.jsx("input",{type:"radio",name:"taskType",className:"peer sr-only",checked:h.taskType==="Pest",onChange:()=>m({...h,taskType:"Pest"})}),d.jsxs("div",{className:"flex items-center justify-center gap-2 py-2.5 rounded text-sm font-medium text-text-secondary transition-all peer-checked:bg-primary peer-checked:text-white peer-checked:shadow-sm",children:[d.jsx("span",{className:"material-icons text-sm",children:"pest_control"})," (Pest)"]})]}),d.jsxs("label",{className:"cursor-pointer",children:[d.jsx("input",{type:"radio",name:"taskType",className:"peer sr-only",checked:h.taskType==="Facility",onChange:()=>m({...h,taskType:"Facility"})}),d.jsxs("div",{className:"flex items-center justify-center gap-2 py-2.5 rounded text-sm font-medium text-text-secondary transition-all peer-checked:bg-teal-600 peer-checked:text-white peer-checked:shadow-sm",children:[d.jsx("span",{className:"material-icons text-sm",children:"build"})," (Facility)"]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-text-secondary",children:" (Time)"}),d.jsx("input",{type:"time",value:h.time,onChange:D=>m({...h,time:D.target.value}),className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-border-dark rounded-lg px-3 py-2.5 text-sm focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all dark:text-white"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-text-secondary",children:" (Location)"}),d.jsxs("select",{value:h.location,onChange:D=>m({...h,location:D.target.value}),className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-border-dark rounded-lg px-3 py-2.5 text-sm focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all dark:text-white",children:[d.jsx("option",{value:"",children:" "}),ae.map(D=>d.jsx("option",{value:D,children:D},D))]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-text-secondary",children:" (Category)"}),d.jsxs("select",{value:h.category,onChange:D=>m({...h,category:D.target.value}),className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-border-dark rounded-lg px-3 py-2.5 text-sm focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all dark:text-white",children:[d.jsx("option",{children:" "}),d.jsx("option",{children:" "}),d.jsx("option",{children:" "}),d.jsx("option",{children:" "})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-text-secondary",children:" (Priority)"}),d.jsx("div",{className:"flex gap-2",children:["Normal","Important","Urgent"].map(D=>d.jsxs("label",{className:"flex-1 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"priority",className:"peer sr-only",checked:h.priority===D,onChange:()=>m({...h,priority:D})}),d.jsx("span",{className:`block w-full text-center py-2.5 rounded-lg border border-gray-200 dark:border-border-dark text-xs font-medium text-text-secondary hover:bg-background-light dark:hover:bg-surface-hover transition-all peer-checked:border-opacity-50
                            ${D==="Normal"?"peer-checked:bg-green-500/20 peer-checked:text-green-500 peer-checked:border-green-500":""}
                            ${D==="Important"?"peer-checked:bg-orange-500/20 peer-checked:text-orange-500 peer-checked:border-orange-500":""}
                            ${D==="Urgent"?"peer-checked:bg-red-500/20 peer-checked:text-red-500 peer-checked:border-red-500":""}
                            `,children:D==="Normal"?"":D==="Important"?"":""})]},D))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"  (Details)"}),d.jsx("textarea",{value:h.details,onChange:D=>m({...h,details:D.target.value}),className:"w-full bg-background-light dark:bg-background-dark border border-gray-200 dark:border-border-dark rounded-lg px-3 py-2.5 text-sm focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all resize-none dark:text-white",placeholder:"   ...",rows:4})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"  (Photo)"}),d.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-border-dark rounded-lg p-6 text-center hover:bg-background-light dark:hover:bg-surface-hover transition-colors cursor-pointer group relative",children:[d.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:M,accept:"image/*"}),ee?d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin mb-2"}),d.jsx("p",{className:"text-xs text-text-secondary",children:" ..."})]}):L?d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("img",{src:L,alt:"Uploaded",className:"h-20 w-auto rounded mb-2 object-cover"}),d.jsx("p",{className:"text-xs text-green-500 font-medium",children:"  (  )"})]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"material-icons text-gray-400 group-hover:text-primary transition-colors mb-2",children:"add_a_photo"}),d.jsx("p",{className:"text-xs text-text-secondary group-hover:text-primary transition-colors",children:"  "})]})]})]}),d.jsxs("div",{className:"pt-4 flex gap-3",children:[d.jsx("button",{type:"button",className:"flex-1 py-3 px-4 rounded-lg bg-background-light dark:bg-surface-hover hover:bg-gray-200 dark:hover:bg-border-dark text-sm font-medium transition-colors text-text-secondary",children:""}),d.jsxs("button",{type:"submit",disabled:ee||ce,className:`flex-[2] py-3 px-4 rounded-lg bg-primary hover:bg-primary-hover text-white text-sm font-semibold shadow-lg shadow-primary/20 transition-all flex items-center justify-center gap-2 ${ce?"opacity-70 cursor-not-allowed":""}`,children:[d.jsx("span",{className:"material-icons text-sm",children:"save"}),ce?" ...":" "]})]})]})]})}),d.jsxs("section",{className:"flex-1 flex flex-col min-w-0 bg-background-light dark:bg-background-dark overflow-hidden",children:[d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-6",children:A.map(D=>d.jsxs("div",{className:"bg-white dark:bg-surface-darker p-4 rounded-xl border border-gray-200 dark:border-border-dark shadow-sm flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-text-secondary font-medium",children:D.label}),d.jsxs("p",{className:`text-2xl font-bold mt-1 ${D.color}`,children:[D.count,d.jsx("span",{className:"text-sm font-normal text-text-secondary ml-1",children:""})]})]}),d.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${D.iconBg}`,children:d.jsx("span",{className:`material-icons ${D.iconColor}`,children:D.icon})})]},D.label))}),d.jsx("div",{className:"flex-1 px-6 pb-6 min-h-0 flex flex-col",children:d.jsxs("div",{className:"bg-white dark:bg-surface-darker rounded-xl border border-gray-200 dark:border-border-dark shadow-sm flex flex-col h-full overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-border-dark flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-semibold text-lg mr-2 text-slate-900 dark:text-white",children:"  "}),d.jsxs("div",{className:"flex bg-background-light dark:bg-background-dark rounded-lg p-1 border border-gray-200 dark:border-border-dark",children:[d.jsx("button",{className:"px-3 py-1 rounded text-xs font-medium bg-white dark:bg-surface-darker shadow-sm text-primary",children:""}),d.jsx("button",{className:"px-3 py-1 rounded text-xs font-medium text-text-secondary hover:text-slate-900 dark:hover:text-white transition-colors",children:""}),d.jsx("button",{className:"px-3 py-1 rounded text-xs font-medium text-text-secondary hover:text-slate-900 dark:hover:text-white transition-colors",children:""})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"material-icons absolute left-2.5 top-1/2 -translate-y-1/2 text-text-secondary text-sm",children:"search"}),d.jsx("input",{type:"text",placeholder:" ...",className:"pl-8 pr-4 py-1.5 bg-background-light dark:bg-background-dark border border-gray-200 dark:border-border-dark rounded-lg text-sm focus:ring-1 focus:ring-primary outline-none w-48 dark:text-white placeholder:text-text-secondary"})]}),d.jsxs("button",{className:"flex items-center gap-1 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-border-dark hover:bg-background-light dark:hover:bg-surface-hover transition-colors text-sm text-text-secondary",children:[d.jsx("span",{className:"material-icons text-sm",children:"filter_list"}),""]}),d.jsxs("button",{className:"flex items-center gap-1 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-border-dark hover:bg-background-light dark:hover:bg-surface-hover transition-colors text-sm text-text-secondary",children:[d.jsx("span",{className:"material-icons text-sm",children:"download"}),""]})]})]}),d.jsx("div",{className:"flex-1 overflow-auto",children:i.length===0?d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-text-secondary",children:[d.jsx("span",{className:"material-icons text-4xl mb-2 opacity-30",children:"assignment_late"}),d.jsx("p",{children:"   ."})]}):d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{className:"bg-background-light dark:bg-background-dark sticky top-0 z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-text-secondary uppercase tracking-wider whitespace-nowrap w-24",children:""}),d.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-text-secondary uppercase tracking-wider whitespace-nowrap w-24",children:""}),d.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-text-secondary uppercase tracking-wider whitespace-nowrap w-32",children:""}),d.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-text-secondary uppercase tracking-wider min-w-[400px]",children:" "}),d.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-text-secondary uppercase tracking-wider whitespace-nowrap w-32",children:""}),d.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-text-secondary uppercase tracking-wider whitespace-nowrap w-24 text-center",children:""}),d.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-text-secondary uppercase tracking-wider whitespace-nowrap w-24 text-center",children:""}),d.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-text-secondary uppercase tracking-wider whitespace-nowrap w-20 text-center",children:""})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-border-dark text-sm",children:i.map(D=>d.jsxs("tr",{className:"hover:bg-background-light dark:hover:bg-surface-hover transition-colors group",children:[d.jsx("td",{className:"px-4 py-3 font-mono text-text-secondary whitespace-nowrap",children:D.time}),d.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:d.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium border ${D.type==="Pest"?"bg-blue-500/10 text-blue-400 border-blue-500/20":"bg-teal-500/10 text-teal-400 border-teal-500/20"}`,children:D.type==="Pest"?"":""})}),d.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 whitespace-nowrap",children:D.category}),d.jsx("td",{className:"px-4 py-3",children:d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsx("span",{className:"flex-1 font-medium text-slate-800 dark:text-white text-sm whitespace-pre-wrap leading-relaxed break-all",children:D.details}),D.hasPhoto&&d.jsx("div",{onClick:()=>D.photoUrl&&window.open(D.photoUrl,"_blank"),className:"group flex flex-col items-center justify-center w-10 h-10 rounded bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-700 transition-all relative overflow-hidden shrink-0",title:" ",children:D.photoUrl?d.jsx("img",{src:D.photoUrl,alt:" ",className:"w-full h-full object-cover"}):d.jsx("span",{className:"material-icons text-slate-400 group-hover:text-primary text-lg",children:"image"})})]})}),d.jsx("td",{className:"px-4 py-3 text-text-secondary whitespace-nowrap",children:D.location}),d.jsxs("td",{className:"px-4 py-3 text-center whitespace-nowrap",children:[d.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${D.priority==="Normal"?"bg-green-500":D.priority==="Important"?"bg-orange-500 animate-pulse":"bg-red-500 animate-pulse"}`}),d.jsx("span",{className:"sr-only",children:D.priority})]}),d.jsx("td",{className:"px-4 py-3 text-center whitespace-nowrap",children:d.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${D.status==="Completed"?"bg-green-500/10 text-green-500":D.status==="Pending"?"bg-orange-500/10 text-orange-500":"bg-red-500/10 text-red-500"}`,children:D.status==="Completed"?"":D.status==="Pending"?"":""})}),d.jsx("td",{className:"px-4 py-3 text-center whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[D.status!=="Completed"&&d.jsx("button",{onClick:()=>Ke(D.id,"Completed"),className:"w-7 h-7 flex items-center justify-center rounded hover:bg-green-50 dark:hover:bg-green-900/20 text-text-secondary hover:text-green-500 transition-colors",title:" ",children:d.jsx("span",{className:"material-icons text-base",children:"check_circle_outline"})}),d.jsx("button",{className:"w-7 h-7 flex items-center justify-center rounded hover:bg-slate-100 dark:hover:bg-slate-800 text-text-secondary hover:text-slate-900 dark:hover:text-white transition-colors",title:"",children:d.jsx("span",{className:"material-icons text-base",children:"edit"})}),d.jsx("button",{onClick:()=>ct(D.id),className:"w-7 h-7 flex items-center justify-center rounded hover:bg-red-50 dark:hover:bg-red-900/20 text-text-secondary hover:text-red-500 transition-colors",title:"",children:d.jsx("span",{className:"material-icons text-base",children:"delete"})})]})})]},D.id))})]})}),d.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-border-dark flex items-center justify-between",children:d.jsxs("span",{className:"text-xs text-text-secondary",children:["Total Records: ",d.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:i.length})]})})]})})]})]}):d.jsxs("div",{className:"flex-1 flex overflow-hidden p-6 lg:p-8 gap-8",children:[d.jsxs("div",{className:"flex-1 flex flex-col min-w-0 gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-surface-darker rounded-xl border border-gray-200 dark:border-border-dark shadow-sm p-6",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[d.jsx("span",{className:"material-icons text-orange-500",children:"priority_high"}),"   ( )"]}),d.jsx("p",{className:"text-sm text-text-secondary mb-4",children:"     '' '' .    ."}),d.jsxs("div",{className:"space-y-3",children:[S.map(D=>d.jsxs("div",{onClick:()=>V(D.id),className:`p-4 rounded-lg border cursor-pointer transition-all flex items-start gap-3 ${b.includes(D.id)?"bg-blue-50 dark:bg-blue-900/20 border-primary ring-1 ring-primary":"bg-background-light dark:bg-background-dark border-gray-200 dark:border-border-dark hover:bg-gray-50 dark:hover:bg-surface-hover"}`,children:[d.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center border mt-0.5 ${b.includes(D.id)?"bg-primary border-primary text-white":"bg-white dark:bg-surface-dark border-gray-300 dark:border-gray-600"}`,children:b.includes(D.id)&&d.jsx("span",{className:"material-icons text-sm",children:"check"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded ${D.priority==="Urgent"?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400"}`,children:D.priority==="Urgent"?"":""}),d.jsx("span",{className:"text-xs text-text-secondary font-mono",children:D.time})]}),d.jsx("h4",{className:"font-medium text-slate-900 dark:text-white text-sm mb-1",children:D.details}),d.jsxs("p",{className:"text-xs text-text-secondary",children:[D.location,"  ",D.category]})]})]},D.id)),S.length===0&&d.jsx("div",{className:"text-center py-8 text-text-secondary text-sm bg-background-light dark:bg-background-dark rounded-lg border border-dashed border-gray-300 dark:border-border-dark",children:"   ."})]})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-darker rounded-xl border border-gray-200 dark:border-border-dark shadow-sm p-6 flex-1",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"  "}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"p-4 bg-background-light dark:bg-background-dark rounded-lg border border-gray-200 dark:border-border-dark",children:[d.jsx("p",{className:"text-xs text-text-secondary",children:"  "}),d.jsxs("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:[be,d.jsxs("span",{className:"text-sm font-normal text-text-secondary ml-1",children:["/ ",de,""]})]}),d.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 h-1.5 rounded-full mt-3",children:d.jsx("div",{className:"bg-green-500 h-1.5 rounded-full",style:{width:de>0?`${be/de*100}%`:"0%"}})})]}),d.jsxs("div",{className:"p-4 bg-background-light dark:bg-background-dark rounded-lg border border-gray-200 dark:border-border-dark",children:[d.jsx("p",{className:"text-xs text-text-secondary",children:"/ "}),d.jsxs("p",{className:"text-2xl font-bold text-red-500 mt-1",children:[N,d.jsx("span",{className:"text-sm font-normal text-text-secondary ml-1",children:""})]}),d.jsx("p",{className:"text-xs text-text-secondary mt-2",children:" ,   "})]})]})]})]}),d.jsxs("div",{className:"w-full lg:w-[450px] bg-white dark:bg-surface-darker rounded-xl border border-gray-200 dark:border-border-dark shadow-lg flex flex-col",children:[d.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-border-dark bg-slate-50 dark:bg-slate-800/50 rounded-t-xl",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[d.jsx("span",{className:"material-icons text-primary",children:"assignment_ind"})," "]}),d.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"    ."})]}),d.jsx("div",{className:"p-6 flex-1 overflow-y-auto space-y-6",children:T?d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center animate-fade-in",children:[d.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:d.jsx("span",{className:"material-icons text-3xl text-green-600 dark:text-green-500",children:"check_circle"})}),d.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:" "}),d.jsxs("p",{className:"text-text-secondary mb-6",children:[d.jsx("strong",{children:"B ( )"}),"",d.jsx("br",{}),"  ."]}),d.jsx("button",{onClick:()=>R(!1),className:"px-6 py-2 bg-white dark:bg-surface-dark border border-gray-200 dark:border-border-dark rounded-lg text-sm font-medium hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"   "})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-text-secondary uppercase mb-2",children:"  ( )"}),d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-background-light dark:bg-background-dark rounded-lg border border-gray-200 dark:border-border-dark",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:"A"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:""}),d.jsx("p",{className:"text-xs text-text-secondary",children:"A / "})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-text-secondary uppercase mb-2",children:"  ( )"}),d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-background-light dark:bg-background-dark rounded-lg border border-gray-200 dark:border-border-dark",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center text-white text-xs font-bold",children:"B"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:""}),d.jsx("p",{className:"text-xs text-text-secondary",children:"B / "})]})]})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-bold text-slate-900 dark:text-white mb-2",children:["   (",b.length,")"]}),d.jsx("div",{className:"p-3 bg-background-light dark:bg-background-dark rounded-lg border border-gray-200 dark:border-border-dark min-h-[80px] text-sm text-text-secondary",children:b.length>0?d.jsx("ul",{className:"list-disc pl-4 space-y-1",children:b.map(D=>{const W=i.find(le=>le.id===D);return d.jsx("li",{className:"text-slate-700 dark:text-slate-300",children:W==null?void 0:W.details},D)})}):d.jsx("span",{className:"text-gray-400 italic",children:"    ."})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-slate-900 dark:text-white mb-2",children:"   "}),d.jsx("textarea",{value:p,onChange:D=>x(D.target.value),className:"w-full h-32 bg-background-light dark:bg-background-dark border border-gray-200 dark:border-border-dark rounded-lg p-3 text-sm focus:ring-2 focus:ring-primary focus:border-transparent outline-none resize-none dark:text-white",placeholder:"       ..."})]}),d.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/10 p-3 rounded-lg flex gap-3 items-start border border-orange-100 dark:border-orange-900/30",children:[d.jsx("span",{className:"material-icons text-orange-500 text-sm mt-0.5",children:"info"}),d.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-300 leading-relaxed",children:"      ,    ."})]})]})}),!T&&d.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-border-dark bg-slate-50 dark:bg-slate-800/50 rounded-b-xl flex gap-3",children:[d.jsx("button",{className:"flex-1 py-3 px-4 rounded-lg border border-gray-300 dark:border-gray-600 text-slate-700 dark:text-slate-200 font-medium hover:bg-white dark:hover:bg-surface-dark transition-colors",children:" "}),d.jsxs("button",{onClick:I,className:"flex-[2] py-3 px-4 rounded-lg bg-primary hover:bg-primary-hover text-white font-bold shadow-lg shadow-primary/20 transition-all flex items-center justify-center gap-2",children:[d.jsx("span",{className:"material-icons",children:"send"})," "]})]})]})]})]})},KA=()=>{const[r,t]=xe.useState(new Date(2026,1,1)),[s,i]=xe.useState(14),o=new Date(r.getFullYear(),r.getMonth()+1,0).getDate(),h=new Date(r.getFullYear(),r.getMonth(),1).getDay(),m=v=>{const T=v%2===0;return{team:T?"A":"B",leader:T?"":"",role:"",members:[],color:T?"primary":"purple-500",bgColor:T?"bg-primary/10":"bg-purple-500/10",borderColor:T?"border-primary":"border-purple-500",textColor:T?"text-primary":"text-purple-600 dark:text-purple-400"}},p=s?m(s):null,x=()=>{t(new Date(r.getFullYear(),r.getMonth()-1,1)),i(null)},b=()=>{t(new Date(r.getFullYear(),r.getMonth()+1,1)),i(null)};return d.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[d.jsxs("header",{className:"bg-white dark:bg-surface-dark border-b border-slate-200 dark:border-slate-800 h-16 flex items-center justify-between px-6 lg:px-8 flex-shrink-0",children:[d.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"  "}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center bg-slate-100 dark:bg-slate-800 rounded-lg p-1 border border-slate-200 dark:border-slate-700",children:[d.jsx("button",{onClick:x,className:"p-1 hover:bg-white dark:hover:bg-slate-700 rounded-md shadow-sm transition-all",children:d.jsx("span",{className:"material-icons text-slate-500",children:"chevron_left"})}),d.jsxs("button",{className:"px-4 text-sm font-semibold text-slate-700 dark:text-slate-200",children:[r.getFullYear()," ",r.getMonth()+1,""]}),d.jsx("button",{onClick:b,className:"p-1 hover:bg-white dark:hover:bg-slate-700 rounded-md shadow-sm transition-all",children:d.jsx("span",{className:"material-icons text-slate-500",children:"chevron_right"})})]}),d.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-hover text-white rounded-lg text-sm font-medium transition-colors shadow-lg shadow-primary/20",children:[d.jsx("span",{className:"material-icons text-[18px]",children:"edit_calendar"}),d.jsx("span",{children:" "})]}),d.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-surface-dark hover:bg-slate-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 rounded-lg text-sm font-medium transition-colors",children:[d.jsx("span",{className:"material-icons text-[18px]",children:"download"}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[d.jsxs("div",{className:"flex-1 flex flex-col min-w-0 p-6 lg:p-8 overflow-y-auto",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-6 gap-4",children:[d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-3 h-3 rounded-full bg-primary"}),d.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"A ()"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-3 h-3 rounded-full bg-purple-500"}),d.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"B ()"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),d.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"/"})]})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("select",{className:"bg-white dark:bg-surface-dark border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 text-sm rounded-lg focus:ring-primary focus:border-primary block p-2",children:[d.jsx("option",{children:" "}),d.jsx("option",{children:""}),d.jsx("option",{children:""})]})})]}),d.jsxs("div",{className:"flex-1 bg-white dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex flex-col min-h-[600px]",children:[d.jsx("div",{className:"grid grid-cols-7 border-b border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50",children:["","","","","","",""].map((v,T)=>d.jsx("div",{className:`py-3 text-center text-sm font-semibold uppercase ${T===0?"text-red-500":T===6?"text-blue-500":"text-slate-500 dark:text-slate-400"}`,children:v},v))}),d.jsxs("div",{className:"flex-1 grid grid-cols-7 grid-rows-5 lg:grid-rows-6",children:[Array.from({length:h}).map((v,T)=>d.jsx("div",{className:"border-b border-r border-slate-100 dark:border-slate-800 bg-slate-50/30 dark:bg-slate-900/20 p-2 min-h-[100px]"},`prev-${T}`)),Array.from({length:o},(v,T)=>T+1).map(v=>{const T=m(v),R=s===v,L=r.getFullYear()===2026&&r.getMonth()===1&&v===14;return d.jsxs("div",{onClick:()=>i(v),className:`border-b border-r border-slate-100 dark:border-slate-800 p-2 min-h-[100px] relative transition-all cursor-pointer group hover:bg-slate-50 dark:hover:bg-slate-800/40
                                ${R?"ring-2 ring-inset ring-primary bg-primary/5 dark:bg-primary/5":""}
                                ${L?"bg-yellow-50/50 dark:bg-yellow-500/5":""}
                            `,children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("span",{className:`text-sm font-medium w-6 h-6 flex items-center justify-center rounded-full ${L?"bg-primary text-white":"text-slate-700 dark:text-slate-300"}`,children:v}),L&&d.jsx("span",{className:"text-[10px] font-bold text-primary uppercase tracking-wide",children:"Today"})]}),d.jsxs("div",{className:`mb-1 px-2 py-1.5 rounded-md border-l-4 ${T.bgColor} ${T.borderColor} ${T.textColor}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[d.jsxs("span",{className:"text-xs font-bold",children:[T.team," "]}),d.jsx("span",{className:"material-icons text-[14px] opacity-70",children:"schedule"})]}),d.jsxs("div",{className:"text-[11px] opacity-90 truncate font-medium",children:[T.leader," ",T.role]})]}),d.jsx("button",{className:"absolute bottom-2 right-2 w-6 h-6 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-400 hover:text-primary hover:bg-white dark:hover:bg-surface-dark shadow-sm border border-slate-200 dark:border-slate-600 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:d.jsx("span",{className:"material-icons text-[16px]",children:"more_horiz"})})]},v)}),Array.from({length:42-(o+h)}).map((v,T)=>d.jsx("div",{className:"border-b border-r border-slate-100 dark:border-slate-800 bg-slate-50/30 dark:bg-slate-900/20 p-2 min-h-[100px]"},`next-${T}`))]})]})]}),d.jsx("aside",{className:"w-80 bg-white dark:bg-surface-dark border-l border-slate-200 dark:border-slate-800 p-6 overflow-y-auto hidden xl:block shadow-xl z-10",children:s?d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[d.jsx("span",{className:"material-icons text-primary",children:"calendar_today"}),r.getMonth()+1," ",s," "]}),d.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[" : ",d.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-300",children:"24  "})]})]}),d.jsxs("div",{className:`p-4 rounded-xl border ${p==null?void 0:p.borderColor} ${p==null?void 0:p.bgColor}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("span",{className:`text-lg font-bold ${p==null?void 0:p.textColor}`,children:[p==null?void 0:p.team," "]}),d.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-semibold bg-white dark:bg-surface-dark ${p==null?void 0:p.textColor} border border-current opacity-70`,children:"On-Duty"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:`https://picsum.photos/100/100?random=${s}`,className:"w-10 h-10 rounded-full border-2 border-white dark:border-surface-dark",alt:"Leader"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:p==null?void 0:p.leader}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[" (",p==null?void 0:p.role,")"]})]})]}),(p==null?void 0:p.members)&&p.members.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-px bg-current opacity-10"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-xs font-semibold opacity-70 uppercase tracking-wide",children:""}),p.members.map((v,T)=>d.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-white/50 dark:bg-black/10",children:[d.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-200 dark:bg-slate-600 flex items-center justify-center text-xs font-bold text-slate-600 dark:text-slate-200",children:v.charAt(0)}),d.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:v})]},T))]})]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"  "}),d.jsx("div",{className:"p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 text-sm text-slate-600 dark:text-slate-300",children:d.jsxs("p",{className:"flex gap-2",children:[d.jsx("span",{className:"material-icons text-sm text-orange-500 mt-0.5",children:"warning"}),d.jsx("span",{children:" 10     ()"})]})}),d.jsxs("button",{className:"w-full py-2 border border-dashed border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-500 hover:text-primary hover:border-primary transition-colors flex items-center justify-center gap-1",children:[d.jsx("span",{className:"material-icons text-sm",children:"add"})," "]})]}),d.jsxs("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:[d.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-sm mb-3",children:" "}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{className:"w-full text-left p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-between group",children:[d.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"  "}),d.jsx("span",{className:"material-icons text-slate-400 group-hover:text-primary text-sm",children:"arrow_forward"})]}),d.jsxs("button",{className:"w-full text-left p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-between group",children:[d.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:" "}),d.jsx("span",{className:"material-icons text-slate-400 group-hover:text-primary text-sm",children:"arrow_forward"})]})]})]})]}):d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-500",children:[d.jsx("span",{className:"material-icons text-4xl mb-2 opacity-20",children:"touch_app"}),d.jsxs("p",{className:"text-sm",children:[" ",d.jsx("br",{}),"  ."]})]})})]})]})},no=({label:r,value:t,onChange:s,error:i,type:o="text",required:h=!1,placeholder:m=""})=>d.jsxs("div",{className:"space-y-1",children:[d.jsxs("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:[r," ",h&&d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:o,value:t,onChange:p=>s(p.target.value),placeholder:m,className:`w-full bg-slate-50 dark:bg-slate-800 border rounded-lg px-3 py-2.5 text-sm outline-none transition-all dark:text-white placeholder-slate-400
          ${i?"border-red-500 focus:ring-2 focus:ring-red-500/20":"border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/20 focus:border-primary"}`}),i&&d.jsxs("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1",children:[d.jsx("span",{className:"material-icons text-[12px]",children:"error"}),i]})]}),yf=({label:r,value:t,onChange:s,options:i})=>d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:r}),d.jsxs("div",{className:"relative",children:[d.jsx("select",{value:t,onChange:o=>s(o.target.value),className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2.5 text-sm outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary appearance-none dark:text-white cursor-pointer",children:i.map(o=>{const h=typeof o=="object",m=h?o.value:o,p=h?o.label:o;return d.jsx("option",{value:m,children:p},m)})}),d.jsx("span",{className:"material-icons absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none text-sm",children:"expand_more"})]})]}),XA=({employees:r,onAdd:t,onUpdate:s,onDelete:i})=>{const[o,h]=xe.useState("All"),[m,p]=xe.useState(!1),[x,b]=xe.useState(null),[v,T]=xe.useState({}),[R,L]=xe.useState(!1),[H,ee]=xe.useState({name:"",role:"",team:"A",shift:"A",status:"Off-Duty",department:"",email:"",phone:"",joinDate:"",avatarUrl:""}),J=N=>{T({}),N?(b(N),ee(N)):(b(null),ee({name:"",role:"",team:"A",shift:"A",status:"Off-Duty",department:"",email:"",phone:"",joinDate:new Date().toISOString().split("T")[0],avatarUrl:`https://picsum.photos/200/200?random=${Math.floor(Math.random()*1e3)}`,monthlyHours:0,totalHours:240,timeInfo:"-",timeLabel:" "})),p(!0)},ce=()=>{p(!1),b(null),T({})},ue=async N=>{if(N.target.files&&N.target.files[0]){const A=N.target.files[0];L(!0);try{const S=Y_(X_,`avatars/${Date.now()}_${A.name}`);await G_(S,A);const V=await Q_(S);ee(I=>({...I,avatarUrl:V}))}catch(S){console.error("Error uploading image: ",S),alert("  .")}finally{L(!1)}}},ae=(N,A)=>{ee(S=>({...S,[N]:A})),v[N]&&T(S=>{const V={...S};return delete V[N],V})},de=()=>{var A,S,V,I;const N={};return(A=H.name)!=null&&A.trim()||(N.name="   ."),(S=H.role)!=null&&S.trim()||(N.role="   ."),(V=H.phone)!=null&&V.trim()?/^\d{2,3}-\d{3,4}-\d{4}$/.test(H.phone)||(N.phone="   . (: 010-1234-5678)"):N.phone="   .",(I=H.email)!=null&&I.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(H.email)||(N.email="   ."):N.email="   .",H.joinDate||(N.joinDate=" ."),T(N),Object.keys(N).length===0},ve=N=>{N.preventDefault(),de()&&(x?s({...x,...H}):t({...H,id:Date.now().toString()}),ce())},be=o==="All"?r:r.filter(N=>N.team===o||N.department===o||N.shift+""===o);return d.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[d.jsxs("header",{className:"bg-white dark:bg-surface-dark border-b border-slate-200 dark:border-slate-800 h-16 flex items-center justify-between px-6 lg:px-8 flex-shrink-0",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:" "}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:[" ",r.length,"   ."]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"relative hidden sm:block",children:[d.jsx("span",{className:"material-icons absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-[20px]",children:"search"}),d.jsx("input",{type:"text",placeholder:",  ...",className:"pl-10 pr-4 py-2 w-64 bg-slate-100 dark:bg-slate-800 border-none rounded-lg text-sm focus:ring-2 focus:ring-primary outline-none dark:text-white placeholder-slate-400"})]}),d.jsxs("button",{onClick:()=>J(),className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-hover text-white rounded-lg text-sm font-medium transition-colors shadow-lg shadow-primary/20",children:[d.jsx("span",{className:"material-icons text-[18px]",children:"person_add"}),d.jsx("span",{children:" "})]})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:[d.jsx("div",{className:"flex items-center gap-2 mb-6 overflow-x-auto pb-2 scrollbar-hide",children:["All","","","A","B"].map(N=>d.jsx("button",{onClick:()=>h(N),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap border ${o===N?"bg-slate-900 dark:bg-white text-white dark:text-slate-900 border-transparent shadow-sm":"bg-white dark:bg-surface-dark text-slate-600 dark:text-slate-400 border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:N==="All"?" ":N==="A"||N==="B"?`${N}`:N},N))}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[be.map(N=>d.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 p-6 flex flex-col shadow-sm hover:shadow-md transition-shadow group relative animate-fade-in",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:N.avatarUrl,alt:N.name,className:"w-14 h-14 rounded-full object-cover border border-slate-100 dark:border-slate-600"}),d.jsx("span",{className:`absolute bottom-0 right-0 w-3.5 h-3.5 border-2 border-white dark:border-surface-dark rounded-full ${N.status==="On-Duty"?"bg-green-500":"bg-slate-400"}`})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg",children:N.name}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:N.role})]})]}),d.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>J(N),className:"text-slate-400 hover:text-primary hover:bg-primary/10 rounded p-1.5 transition-colors",title:"",children:d.jsx("span",{className:"material-icons text-[18px]",children:"edit"})}),d.jsx("button",{onClick:()=>i(N.id),className:"text-slate-400 hover:text-red-500 hover:bg-red-500/10 rounded p-1.5 transition-colors",title:"",children:d.jsx("span",{className:"material-icons text-[18px]",children:"delete"})})]})]}),d.jsxs("div",{className:"space-y-3 mb-6 flex-1",children:[d.jsxs("div",{className:"flex items-center justify-between text-sm py-1 border-b border-dashed border-slate-100 dark:border-slate-700/50",children:[d.jsx("span",{className:"text-slate-500 dark:text-slate-500",children:" "}),d.jsxs("span",{className:"font-medium text-slate-900 dark:text-slate-200",children:[N.department," / ",d.jsxs("span",{className:"text-primary",children:[N.team,""]})]})]}),d.jsxs("div",{className:"flex items-center justify-between text-sm py-1 border-b border-dashed border-slate-100 dark:border-slate-700/50",children:[d.jsx("span",{className:"text-slate-500 dark:text-slate-500",children:""}),d.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-200",children:N.phone})]}),d.jsxs("div",{className:"flex items-center justify-between text-sm py-1 border-b border-dashed border-slate-100 dark:border-slate-700/50",children:[d.jsx("span",{className:"text-slate-500 dark:text-slate-500",children:""}),d.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-200 truncate max-w-[150px]",title:N.email,children:N.email})]}),d.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[d.jsx("span",{className:"text-slate-500 dark:text-slate-500",children:""}),d.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-200",children:N.joinDate})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-100 dark:border-slate-800",children:[d.jsx("button",{className:"flex-1 py-2 rounded-lg border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 text-sm font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:""}),d.jsx("button",{className:"flex-1 py-2 rounded-lg bg-primary/10 text-primary border border-primary/20 text-sm font-medium hover:bg-primary/20 transition-colors",children:""})]})]},N.id)),d.jsxs("button",{onClick:()=>J(),className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-xl p-6 flex flex-col items-center justify-center text-slate-400 hover:text-primary hover:border-primary hover:bg-primary/5 transition-all min-h-[280px] group bg-slate-50/50 dark:bg-slate-800/30",children:[d.jsx("div",{className:"w-14 h-14 rounded-full bg-white dark:bg-slate-800 shadow-sm group-hover:scale-110 group-hover:shadow-md transition-all flex items-center justify-center mb-4",children:d.jsx("span",{className:"material-icons text-3xl text-slate-300 group-hover:text-primary transition-colors",children:"person_add"})}),d.jsx("span",{className:"font-semibold text-slate-500 group-hover:text-primary transition-colors",children:"  "}),d.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"   ."})]})]})]}),m&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-surface-dark w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-700 flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50/80 dark:bg-slate-800/80 backdrop-blur",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[d.jsx("span",{className:"material-icons text-primary",children:x?"edit":"person_add"}),x?"  ":"  "]}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:x?"   .":"    ."})]}),d.jsx("button",{onClick:ce,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:d.jsx("span",{className:"material-icons text-xl",children:"close"})})]}),d.jsx("form",{onSubmit:ve,className:"flex-1 overflow-y-auto p-6 lg:p-8",children:d.jsxs("div",{className:"space-y-8",children:[d.jsxs("section",{children:[d.jsx("h4",{className:"text-sm font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-4 border-b border-slate-100 dark:border-slate-800 pb-2",children:" "}),d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("img",{src:H.avatarUrl||`https://picsum.photos/200/200?random=${Math.random()}`,alt:"Avatar",className:"w-20 h-20 rounded-full object-cover border-2 border-slate-200 dark:border-slate-600"}),d.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:d.jsx("span",{className:"material-icons text-white",children:"camera_alt"})}),d.jsx("input",{type:"file",accept:"image/*",onChange:ue,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:" "}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:R?" ...":"  . (JPG, PNG)"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(no,{label:"",value:H.name||"",onChange:N=>ae("name",N),error:v.name,required:!0,placeholder:": "}),d.jsx(no,{label:"",value:H.role||"",onChange:N=>ae("role",N),error:v.role,required:!0,placeholder:": , "}),d.jsx(no,{label:"",value:H.phone||"",onChange:N=>ae("phone",N),error:v.phone,required:!0,placeholder:"010-0000-0000"}),d.jsx(no,{label:"",type:"email",value:H.email||"",onChange:N=>ae("email",N),error:v.email,required:!0,placeholder:"example@company.com"}),d.jsx(no,{label:"",type:"date",value:H.joinDate||"",onChange:N=>ae("joinDate",N),error:v.joinDate,required:!0})]})]}),d.jsxs("section",{children:[d.jsx("h4",{className:"text-sm font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-4 border-b border-slate-100 dark:border-slate-800 pb-2",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(yf,{label:" ",value:H.department||"",onChange:N=>ae("department",N),options:["","","",""]}),d.jsx(yf,{label:"",value:H.team||"A",onChange:N=>ae("team",N),options:[{value:"A",label:"A ( )"},{value:"B",label:"B ( )"}]}),d.jsx(yf,{label:" ",value:H.status||"Off-Duty",onChange:N=>ae("status",N),options:[{value:"On-Duty",label:"On-Duty ()"},{value:"Off-Duty",label:"Off-Duty ()"}]})]})]})]})}),d.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 bg-slate-50/80 dark:bg-slate-800/80 backdrop-blur flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:ce,className:"px-6 py-2.5 rounded-xl border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200 font-medium text-sm hover:bg-white dark:hover:bg-slate-700 transition-colors shadow-sm",children:""}),d.jsxs("button",{onClick:ve,disabled:R,className:`px-6 py-2.5 rounded-xl bg-primary text-white font-bold text-sm hover:bg-primary-hover transition-all shadow-lg shadow-primary/20 flex items-center gap-2 ${R?"opacity-70 cursor-not-allowed":""}`,children:[d.jsx("span",{className:"material-icons text-sm",children:"check"}),x?" ":"  "]})]})]})})]})},$A=()=>{const[r,t]=xe.useState([]),[s,i]=xe.useState(!0),[o,h]=xe.useState({totalHours:0,lateCount:0,overtimeHours:0,leaveCount:0}),[m,p]=xe.useState([]),[x,b]=xe.useState([]),v=T=>{if(!T||T==="-")return 0;let R=0;const L=T.match(/(\d+)h/),H=T.match(/(\d+)m/);return L&&(R+=parseInt(L[1])*60),H&&(R+=parseInt(H[1])),R};return xe.useEffect(()=>{const T=Iu(Hn(Bt,"attendance_records"),wm("date","desc")),R=Mi(T,L=>{const H=L.docs.map(S=>({id:S.id,...S.data()}));t(H);let ee=0,J=0,ce=0,ue=0;const ae={},de={:0,:0,:0,:0,:0,:0,:0};H.forEach(S=>{const V=v(S.totalHours);if(ee+=V,S.status==="Late"&&J++,S.status==="Leave"&&ue++,(S.status==="Overtime"||V>540)&&(ce+=Math.max(0,V-540)),S.department&&(ae[S.department]=(ae[S.department]||0)+1),S.date){const I=new Date(S.date),M=["","","","","","",""][I.getDay()];de[M]!==void 0&&(de[M]+=V/60)}}),h({totalHours:Math.floor(ee/60),lateCount:J,overtimeHours:Math.floor(ce/60),leaveCount:ue});const be=["","","","","","",""].map(S=>({day:S,hours:Math.round(de[S]||0)}));p(be);const N=H.length||1,A=Object.keys(ae).map(S=>({name:S,ratio:Math.round(ae[S]/N*100)}));A.length===0&&A.push({name:" ",ratio:0}),b(A),i(!1)});return()=>R()},[]),s?d.jsx("div",{className:"flex h-full items-center justify-center bg-background-light dark:bg-background-dark text-slate-500",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin"}),d.jsx("p",{children:"   ..."})]})}):d.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[d.jsxs("header",{className:"bg-white dark:bg-surface-dark border-b border-slate-200 dark:border-slate-800 h-16 flex items-center justify-between px-6 lg:px-8 flex-shrink-0",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:" "}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"   "})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 rounded-lg p-1 border border-slate-200 dark:border-slate-700",children:[d.jsx("button",{className:"px-3 py-1.5 rounded-md bg-white dark:bg-surface-dark shadow-sm text-xs font-semibold text-slate-900 dark:text-white",children:""}),d.jsx("button",{className:"px-3 py-1.5 rounded-md text-slate-500 dark:text-slate-400 text-xs font-medium hover:text-slate-900 dark:hover:text-white",children:""}),d.jsx("button",{className:"px-3 py-1.5 rounded-md text-slate-500 dark:text-slate-400 text-xs font-medium hover:text-slate-900 dark:hover:text-white",children:""})]}),d.jsx("div",{className:"h-8 w-px bg-slate-200 dark:bg-slate-700 mx-1"}),d.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white dark:bg-surface-dark border border-slate-200 dark:border-slate-700 rounded-lg cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[d.jsx("span",{className:"material-icons text-slate-500 text-[18px]",children:"calendar_today"}),d.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"2026.02"}),d.jsx("span",{className:"material-icons text-slate-400 text-[16px]",children:"arrow_drop_down"})]}),d.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-hover text-white rounded-lg text-sm font-medium transition-colors shadow-lg shadow-primary/20",children:[d.jsx("span",{className:"material-icons text-[18px]",children:"download"}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 lg:p-8 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-surface-dark p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"  "}),d.jsxs("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:[o.totalHours,"h"]})]}),d.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center",children:d.jsx("span",{className:"material-icons text-blue-500",children:"schedule"})})]}),d.jsx("div",{className:"flex items-center text-xs",children:d.jsx("span",{className:"text-slate-400",children:" "})})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:" "}),d.jsxs("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:[o.lateCount,""]})]}),d.jsx("div",{className:"w-10 h-10 rounded-lg bg-orange-500/10 flex items-center justify-center",children:d.jsx("span",{className:"material-icons text-orange-500",children:"timer_off"})})]}),d.jsx("div",{className:"flex items-center text-xs",children:d.jsx("span",{className:"text-slate-400",children:" "})})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:" "}),d.jsxs("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:[o.overtimeHours,"h"]})]}),d.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/10 flex items-center justify-center",children:d.jsx("span",{className:"material-icons text-purple-500",children:"more_time"})})]}),d.jsx("div",{className:"flex items-center text-xs",children:d.jsx("span",{className:"text-slate-400",children:"9  "})})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:" "}),d.jsxs("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:[o.leaveCount,""]})]}),d.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/10 flex items-center justify-center",children:d.jsx("span",{className:"material-icons text-green-500",children:"beach_access"})})]}),d.jsx("div",{className:"flex items-center text-xs",children:d.jsx("span",{className:"text-slate-400",children:"  "})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-surface-dark p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-6",children:"   "}),d.jsx("div",{className:"h-64 flex items-end justify-between gap-4",children:m.map(T=>{const R=Math.max(...m.map(H=>H.hours),1),L=Math.min(100,T.hours/R*100);return d.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[d.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 rounded-t-lg relative h-full flex items-end overflow-hidden",children:d.jsx("div",{style:{height:`${L}%`},className:"w-full bg-primary hover:bg-primary-hover transition-all duration-500 rounded-t-lg relative group-hover:opacity-90 min-h-[4px]",children:d.jsxs("div",{className:"opacity-0 group-hover:opacity-100 absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded pointer-events-none transition-opacity whitespace-nowrap z-10",children:[T.hours,"h"]})})}),d.jsx("span",{className:"text-xs text-slate-500 mt-3",children:T.day})]},T.day)})})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex flex-col",children:[d.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-6",children:"  "}),d.jsx("div",{className:"flex-1 flex flex-col justify-center space-y-6",children:x.map((T,R)=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:T.name}),d.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:[T.ratio,"%"]})]}),d.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 rounded-full h-2.5",children:d.jsx("div",{className:`h-2.5 rounded-full ${R%2===0?"bg-blue-500":"bg-purple-500"}`,style:{width:`${T.ratio}%`}})})]},T.name))})]})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden flex-1 min-h-[300px]",children:[d.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[d.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"  "}),d.jsx("div",{className:"flex gap-2",children:d.jsx("input",{type:"text",placeholder:" ",className:"bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-1.5 text-sm outline-none focus:ring-1 focus:ring-primary dark:text-white"})})]}),d.jsx("div",{className:"overflow-x-auto",children:r.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:d.jsx("span",{className:"material-icons text-3xl text-slate-400",children:"assignment_off"})}),d.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"  "}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"    ."})]}):d.jsxs("table",{className:"w-full text-left text-sm",children:[d.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50 text-slate-500 dark:text-slate-400 uppercase text-xs",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 font-semibold",children:" / "}),d.jsx("th",{className:"px-6 py-3 font-semibold",children:""}),d.jsx("th",{className:"px-6 py-3 font-semibold",children:""}),d.jsx("th",{className:"px-6 py-3 font-semibold",children:""}),d.jsx("th",{className:"px-6 py-3 font-semibold",children:" "}),d.jsx("th",{className:"px-6 py-3 font-semibold text-center",children:""}),d.jsx("th",{className:"px-6 py-3 font-semibold text-right",children:""})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:r.map(T=>d.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[d.jsxs("td",{className:"px-6 py-4",children:[d.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:T.employeeName}),d.jsx("div",{className:"text-xs text-slate-500",children:T.department})]}),d.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:T.date}),d.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:T.checkIn}),d.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:T.checkOut}),d.jsx("td",{className:"px-6 py-4 font-mono text-slate-700 dark:text-slate-200",children:T.totalHours}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${T.status==="Normal"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 border-green-200 dark:border-green-800":T.status==="Late"?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400 border-orange-200 dark:border-orange-800":T.status==="Overtime"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400 border-purple-200 dark:border-purple-800":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400 border-gray-200 dark:border-gray-700"}`,children:T.status==="Normal"?"":T.status==="Late"?"":T.status==="Overtime"?"":""})}),d.jsx("td",{className:"px-6 py-4 text-right",children:d.jsx("button",{className:"text-slate-400 hover:text-primary transition-colors",children:d.jsx("span",{className:"material-icons text-sm",children:"edit"})})})]},T.id))})]})})]})]})]})},ZA=()=>{const[r,t]=xe.useState("general"),[s,i]=xe.useState("dark"),[o,h]=xe.useState({email:!0,push:!0,weeklyReport:!1,shiftAlert:!0}),m=x=>{h(b=>({...b,[x]:!b[x]}))},p=[{id:"general",label:" ",icon:"tune"},{id:"notifications",label:" ",icon:"notifications"},{id:"security",label:"  ",icon:"security"},{id:"system",label:" ",icon:"dns"}];return d.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[d.jsx("header",{className:"bg-white dark:bg-surface-dark border-b border-slate-200 dark:border-slate-800 h-16 flex items-center justify-between px-6 lg:px-8 flex-shrink-0",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:" "}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"    "})]})}),d.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[d.jsx("aside",{className:"w-64 bg-white dark:bg-surface-dark/50 border-r border-slate-200 dark:border-slate-800 flex-shrink-0 overflow-y-auto hidden md:block",children:d.jsx("nav",{className:"p-4 space-y-1",children:p.map(x=>d.jsxs("button",{onClick:()=>t(x.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors ${r===x.id?"bg-primary text-white shadow-md shadow-primary/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-slate-100"}`,children:[d.jsx("span",{className:"material-icons text-[20px]",children:x.icon}),x.label]},x.id))})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:d.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[r==="general"&&d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"  "}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:" "}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"    ."})]}),d.jsx("button",{onClick:()=>i(s==="dark"?"light":"dark"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s==="dark"?"bg-primary":"bg-slate-200 dark:bg-slate-700"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s==="dark"?"translate-x-6":"translate-x-1"}`})})]}),d.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-700/50"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:"  (Language)"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"    ."})]}),d.jsxs("select",{className:"bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white text-sm rounded-lg focus:ring-primary focus:border-primary block p-2.5",children:[d.jsx("option",{children:" (Korean)"}),d.jsx("option",{children:"English (US)"})]})]})]})]}),d.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"  "}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"  "}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"border border-primary bg-primary/5 rounded-lg p-3 cursor-pointer",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("span",{className:"text-sm font-bold text-primary",children:"2 (24)"}),d.jsx("span",{className:"material-icons text-primary text-sm",children:"check_circle"})]}),d.jsx("p",{className:"text-xs text-slate-500",children:"  "})]}),d.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"3 (8)"}),d.jsx("span",{className:"w-4 h-4 rounded-full border border-slate-300 dark:border-slate-600"})]}),d.jsx("p",{className:"text-xs text-slate-500",children:"// "})]})]})]})})]})]}),r==="notifications"&&d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:" "}),d.jsx("div",{className:"space-y-4",children:[{key:"email",label:" ",desc:"     ."},{key:"push",label:" ",desc:"      ."}].map(x=>d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:x.label}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:x.desc})]}),d.jsx("button",{onClick:()=>m(x.key),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o[x.key]?"bg-primary":"bg-slate-200 dark:bg-slate-700"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o[x.key]?"translate-x-6":"translate-x-1"}`})})]},x.key))})]}),d.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:" "}),d.jsx("div",{className:"space-y-4",children:[{key:"weeklyReport",label:"   ",desc:"   9   ."},{key:"shiftAlert",label:"  ",desc:"  30   ."}].map(x=>d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:x.label}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:x.desc})]}),d.jsx("button",{onClick:()=>m(x.key),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o[x.key]?"bg-primary":"bg-slate-200 dark:bg-slate-700"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o[x.key]?"translate-x-6":"translate-x-1"}`})})]},x.key))})]})]}),r==="security"&&d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:" "}),d.jsxs("form",{className:"space-y-4 max-w-md",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:" "}),d.jsx("input",{type:"password",className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-sm outline-none focus:ring-1 focus:ring-primary dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:" "}),d.jsx("input",{type:"password",className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-sm outline-none focus:ring-1 focus:ring-primary dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"  "}),d.jsx("input",{type:"password",className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-sm outline-none focus:ring-1 focus:ring-primary dark:text-white"})]}),d.jsx("button",{type:"button",className:"px-4 py-2 bg-primary hover:bg-primary-hover text-white rounded-lg text-sm font-medium transition-colors",children:" "})]})]}),d.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:" "}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-50 dark:bg-slate-800/50",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"material-icons text-slate-400",children:"desktop_windows"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:"Windows PC - Chrome"}),d.jsx("p",{className:"text-xs text-green-500",children:"    , "})]})]})}),d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"material-icons text-slate-400",children:"smartphone"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:"iPhone 13 - Safari"}),d.jsx("p",{className:"text-xs text-slate-500",children:"2   , "})]})]}),d.jsx("button",{className:"text-xs text-red-500 hover:text-red-600",children:""})]})]})]})]}),r==="system"&&d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"   "}),d.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/30 rounded-lg border border-slate-100 dark:border-slate-700",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:" "}),d.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"  3    ."})]}),d.jsx("div",{className:"flex gap-2",children:d.jsx("button",{className:"px-3 py-1.5 bg-white dark:bg-surface-dark border border-slate-200 dark:border-slate-600 rounded text-xs font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700",children:""})})]}),d.jsxs("div",{className:"mt-4 flex gap-3",children:[d.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-slate-800 dark:bg-white text-white dark:text-slate-900 rounded-lg text-sm font-medium hover:opacity-90 transition-opacity",children:[d.jsx("span",{className:"material-icons text-sm",children:"cloud_download"}),"  "]}),d.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 rounded-lg text-sm font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[d.jsx("span",{className:"material-icons text-sm",children:"history"}),"  "]})]})]}),d.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[d.jsx("h2",{className:"text-lg font-bold text-red-500 mb-4",children:" "}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"    .  ."}),d.jsxs("div",{className:"flex items-center justify-between p-4 border border-red-200 dark:border-red-900/30 bg-red-50 dark:bg-red-900/10 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-bold text-red-600 dark:text-red-400",children:"  "}),d.jsx("p",{className:"text-xs text-red-500/80 mt-1",children:" ,  ,     ."})]}),d.jsx("button",{className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-xs font-bold transition-colors",children:""})]})]})]})]})})]})]})},JA=()=>{const[r,t]=xe.useState("all"),[s,i]=xe.useState([{id:"1",title:"   ",message:" 2    .   .",time:" ",type:"alert",isRead:!1,category:""},{id:"2",title:"   ",message:" 11 15     .",time:"30 ",type:"success",isRead:!1,category:""},{id:"3",title:"  ",message:" 1    . (: )",time:"2 ",type:"info",isRead:!0,category:""},{id:"4",title:"   ",message:"  12 2      .",time:"5 ",type:"warning",isRead:!0,category:""},{id:"5",title:"   ",message:"11 2    .  .",time:"1 ",type:"info",isRead:!0,category:""}]),o=r==="all"?s:s.filter(v=>!v.isRead),h=v=>{i(s.map(T=>T.id===v?{...T,isRead:!0}:T))},m=()=>{i(s.map(v=>({...v,isRead:!0})))},p=v=>{i(s.filter(T=>T.id!==v))},x=v=>{switch(v){case"alert":return"error";case"success":return"check_circle";case"warning":return"warning";default:return"notifications"}},b=v=>{switch(v){case"alert":return"text-red-500 bg-red-500/10 border-red-500/20";case"success":return"text-green-500 bg-green-500/10 border-green-500/20";case"warning":return"text-orange-500 bg-orange-500/10 border-orange-500/20";default:return"text-blue-500 bg-blue-500/10 border-blue-500/20"}};return d.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[d.jsxs("header",{className:"bg-white dark:bg-surface-dark border-b border-slate-200 dark:border-slate-800 h-16 flex items-center justify-between px-6 lg:px-8 flex-shrink-0",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:" "}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:" 30  ."})]}),d.jsx("div",{className:"flex items-center gap-3",children:d.jsxs("button",{onClick:m,className:"text-sm text-slate-600 dark:text-slate-400 hover:text-primary dark:hover:text-primary transition-colors flex items-center gap-1",children:[d.jsx("span",{className:"material-icons text-[18px]",children:"done_all"}),"  "]})})]}),d.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col max-w-4xl mx-auto w-full p-6 lg:p-8",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsxs("button",{onClick:()=>t("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="all"?"bg-slate-900 dark:bg-white text-white dark:text-slate-900":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[" ",d.jsx("span",{className:"ml-2 px-1.5 py-0.5 rounded-full bg-slate-700 dark:bg-slate-300 text-white dark:text-slate-800 text-xs",children:s.length})]}),d.jsxs("button",{onClick:()=>t("unread"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="unread"?"bg-slate-900 dark:bg-white text-white dark:text-slate-900":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[" ",s.some(v=>!v.isRead)&&d.jsx("span",{className:"ml-2 px-1.5 py-0.5 rounded-full bg-red-500 text-white text-xs",children:s.filter(v=>!v.isRead).length})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2",children:[o.length>0?o.map(v=>d.jsxs("div",{onClick:()=>h(v.id),className:`group relative p-4 rounded-xl border transition-all cursor-pointer ${v.isRead?"bg-white dark:bg-surface-dark border-slate-200 dark:border-slate-700 opacity-80 hover:opacity-100":"bg-white dark:bg-surface-dark border-primary/30 shadow-sm shadow-primary/5 ring-1 ring-primary/5"}`,children:[!v.isRead&&d.jsx("span",{className:"absolute top-4 right-4 w-2 h-2 rounded-full bg-primary animate-pulse"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 border ${b(v.type)}`,children:d.jsx("span",{className:"material-icons text-[20px]",children:x(v.type)})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-700",children:v.category}),d.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:v.time})]}),d.jsx("button",{onClick:T=>{T.stopPropagation(),p(v.id)},className:"text-slate-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all p-1",children:d.jsx("span",{className:"material-icons text-[18px]",children:"close"})})]}),d.jsx("h3",{className:`text-base font-bold mb-1 ${v.isRead?"text-slate-700 dark:text-slate-300":"text-slate-900 dark:text-white"}`,children:v.title}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed",children:v.message})]})]})]},v.id)):d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center mb-4",children:d.jsx("span",{className:"material-icons text-3xl text-slate-400",children:"notifications_off"})}),d.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:" "}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:r==="unread"?"  .":"   ."})]}),o.length>0&&d.jsx("div",{className:"pt-4 text-center",children:d.jsx("button",{className:"text-sm text-slate-500 hover:text-primary font-medium transition-colors",children:"   "})})]})]})]})},WA=()=>{const[r,t]=xe.useState("dashboard"),[s,i]=xe.useState("log"),[o,h]=xe.useState([]),[m,p]=xe.useState(!0);xe.useEffect(()=>{(async()=>{const H=S_(Bt);let ee=!1;const J=Hn(Bt,"employees");(await Vu(J)).empty&&(console.log("Seeding employees..."),[{name:"",role:" ",team:"A",shift:"A",status:"On-Duty",monthlyHours:184,totalHours:240,timeInfo:"07:22 AM",timeLabel:" ",avatarUrl:"https://picsum.photos/200/200?random=10",email:"minsu.jeon@company.com",phone:"010-1234-5678",department:"",joinDate:"2020-03-01"},{name:"",role:" ",team:"B",shift:"B",status:"Off-Duty",monthlyHours:168,totalHours:240,timeInfo:" 07:30 AM",timeLabel:" ",avatarUrl:"https://picsum.photos/200/200?random=11",email:"jimin.kim@company.com",phone:"010-9876-5432",department:"",joinDate:"2021-05-15"}].forEach(ve=>{const be=Ws(J);H.set(be,ve)}),ee=!0);const ue=Hn(Bt,"work_schedules");if((await Vu(ue)).empty){console.log("Seeding work schedules...");const de=2026,ve=1,be=new Date(de,ve+1,0).getDate();for(let N=1;N<=be;N++){const A=`${de}-${String(ve+1).padStart(2,"0")}-${String(N).padStart(2,"0")}`,S=N%2===0,V={date:A,team:S?"A":"B",workerName:S?"":"",status:N<14?"Completed":N===14?"InProgress":"Scheduled"},I=Ws(ue);H.set(I,V)}ee=!0}ee&&(await H.commit(),console.log("All initial data seeded successfully."))})()},[]),xe.useEffect(()=>{const L=Mi(Hn(Bt,"employees"),H=>{const ee=H.docs.map(J=>({id:J.id,...J.data()}));h(ee),p(!1)});return()=>L()},[]);const x=async L=>{try{const{id:H,...ee}=L;await A_(Hn(Bt,"employees"),ee)}catch(H){console.error("Error adding employee: ",H),alert("    .")}},b=async L=>{try{const H=Ws(Bt,"employees",L.id);await w_(H,{...L})}catch(H){console.error("Error updating employee: ",H),alert("     .")}},v=async L=>{if(window.confirm("   ?"))try{await N_(Ws(Bt,"employees",L))}catch(H){console.error("Error deleting employee: ",H),alert("    .")}},T=()=>{t("dailylog"),i("handover")},R=L=>{t(L),L==="dailylog"&&i("log")};return m?d.jsx("div",{className:"flex h-screen items-center justify-center bg-background-light dark:bg-background-dark text-slate-500",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin"}),d.jsx("p",{children:"   ..."})]})}):d.jsxs("div",{className:"flex h-screen overflow-hidden bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 font-display",children:[d.jsx(GA,{currentView:r,onViewChange:R}),d.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden relative",children:[r==="dashboard"&&d.jsx(QA,{employees:o,onNavigateToHandover:T}),r==="dailylog"&&d.jsx(YA,{initialTab:s}),r==="schedule"&&d.jsx(KA,{}),r==="employees"&&d.jsx(XA,{employees:o,onAdd:x,onUpdate:b,onDelete:v}),r==="reports"&&d.jsx($A,{}),r==="settings"&&d.jsx(ZA,{}),r==="notifications"&&d.jsx(JA,{})]})]})},$_=document.getElementById("root");if(!$_)throw new Error("Could not find root element to mount to");const eS=L1.createRoot($_);eS.render(d.jsx(j1.StrictMode,{children:d.jsx(WA,{})}));
